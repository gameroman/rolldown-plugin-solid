// Bun Snapshot v1, https://bun.sh/docs/test/snapshots

exports[`rolldown-plugin-solid src should transform SSR component 1`] = `
"//#region node_modules/solid-js/dist/server.js
const ERROR = Symbol("error");
function castError(err) {
	if (err instanceof Error) return err;
	return new Error(typeof err === "string" ? err : "Unknown error", { cause: err });
}
function handleError(err, owner = Owner) {
	const fns = owner && owner.context && owner.context[ERROR];
	const error = castError(err);
	if (!fns) throw error;
	try {
		for (const f$2 of fns) f$2(error);
	} catch (e) {
		handleError(e, owner && owner.owner || null);
	}
}
const UNOWNED = {
	context: null,
	owner: null,
	owned: null,
	cleanups: null
};
let Owner = null;
function createOwner() {
	const o$3 = {
		owner: Owner,
		context: Owner ? Owner.context : null,
		owned: null,
		cleanups: null
	};
	if (Owner) if (!Owner.owned) Owner.owned = [o$3];
	else Owner.owned.push(o$3);
	return o$3;
}
function createRoot(fn$1, detachedOwner) {
	const owner = Owner, current = detachedOwner === void 0 ? owner : detachedOwner, root = fn$1.length === 0 ? UNOWNED : {
		context: current ? current.context : null,
		owner: current,
		owned: null,
		cleanups: null
	};
	Owner = root;
	let result;
	try {
		result = fn$1(fn$1.length === 0 ? () => {} : () => cleanNode(root));
	} catch (err) {
		handleError(err);
	} finally {
		Owner = owner;
	}
	return result;
}
function createSignal(value, options) {
	return [() => value, (v$3) => {
		return value = typeof v$3 === "function" ? v$3(value) : v$3;
	}];
}
function createMemo(fn$1, value) {
	Owner = createOwner();
	let v$3;
	try {
		v$3 = fn$1(value);
	} catch (err) {
		handleError(err);
	} finally {
		Owner = Owner.owner;
	}
	return () => v$3;
}
function cleanNode(node) {
	if (node.owned) {
		for (let i$1 = 0; i$1 < node.owned.length; i$1++) cleanNode(node.owned[i$1]);
		node.owned = null;
	}
	if (node.cleanups) {
		for (let i$1 = 0; i$1 < node.cleanups.length; i$1++) node.cleanups[i$1]();
		node.cleanups = null;
	}
}
function createContext(defaultValue) {
	const id = Symbol("context");
	return {
		id,
		Provider: createProvider(id),
		defaultValue
	};
}
function children(fn$1) {
	const memo = createMemo(() => resolveChildren(fn$1()));
	memo.toArray = () => {
		const c$3 = memo();
		return Array.isArray(c$3) ? c$3 : c$3 != null ? [c$3] : [];
	};
	return memo;
}
function resolveChildren(children$1) {
	if (typeof children$1 === "function" && !children$1.length) return resolveChildren(children$1());
	if (Array.isArray(children$1)) {
		const results = [];
		for (let i$1 = 0; i$1 < children$1.length; i$1++) {
			const result = resolveChildren(children$1[i$1]);
			Array.isArray(result) ? results.push.apply(results, result) : results.push(result);
		}
		return results;
	}
	return children$1;
}
function createProvider(id) {
	return function provider(props) {
		return createMemo(() => {
			Owner.context = {
				...Owner.context,
				[id]: props.value
			};
			return children(() => props.children);
		});
	};
}
const sharedConfig = {
	context: void 0,
	getContextId() {
		if (!this.context) throw new Error(\`getContextId cannot be used under non-hydrating context\`);
		return getContextId(this.context.count);
	},
	getNextContextId() {
		if (!this.context) throw new Error(\`getNextContextId cannot be used under non-hydrating context\`);
		return getContextId(this.context.count++);
	}
};
function getContextId(count) {
	const num = String(count), len = num.length - 1;
	return sharedConfig.context.id + (len ? String.fromCharCode(96 + len) : "") + num;
}
const SuspenseContext = createContext();

//#endregion
//#region node_modules/solid-js/node_modules/seroval/dist/esm/production/index.mjs
var L$2 = ((i$1) => (i$1[i$1.AggregateError = 1] = "AggregateError", i$1[i$1.ArrowFunction = 2] = "ArrowFunction", i$1[i$1.ErrorPrototypeStack = 4] = "ErrorPrototypeStack", i$1[i$1.ObjectAssign = 8] = "ObjectAssign", i$1[i$1.BigIntTypedArray = 16] = "BigIntTypedArray", i$1[i$1.RegExp = 32] = "RegExp", i$1))(L$2 || {});
var v$2 = Symbol.asyncIterator, mr$1 = Symbol.hasInstance, R$1 = Symbol.isConcatSpreadable, C$1 = Symbol.iterator, pr$1 = Symbol.match, dr$1 = Symbol.matchAll, gr$1 = Symbol.replace, yr$1 = Symbol.search, Nr$1 = Symbol.species, br$1 = Symbol.split, vr$1 = Symbol.toPrimitive, P$2 = Symbol.toStringTag, Cr$1 = Symbol.unscopables;
var rt$1 = {
	0: "Symbol.asyncIterator",
	1: "Symbol.hasInstance",
	2: "Symbol.isConcatSpreadable",
	3: "Symbol.iterator",
	4: "Symbol.match",
	5: "Symbol.matchAll",
	6: "Symbol.replace",
	7: "Symbol.search",
	8: "Symbol.species",
	9: "Symbol.split",
	10: "Symbol.toPrimitive",
	11: "Symbol.toStringTag",
	12: "Symbol.unscopables"
}, ve$1 = {
	[v$2]: 0,
	[mr$1]: 1,
	[R$1]: 2,
	[C$1]: 3,
	[pr$1]: 4,
	[dr$1]: 5,
	[gr$1]: 6,
	[yr$1]: 7,
	[Nr$1]: 8,
	[br$1]: 9,
	[vr$1]: 10,
	[P$2]: 11,
	[Cr$1]: 12
}, tt$1 = {
	0: v$2,
	1: mr$1,
	2: R$1,
	3: C$1,
	4: pr$1,
	5: dr$1,
	6: gr$1,
	7: yr$1,
	8: Nr$1,
	9: br$1,
	10: vr$1,
	11: P$2,
	12: Cr$1
}, nt$1 = {
	2: "!0",
	3: "!1",
	1: "void 0",
	0: "null",
	4: "-0",
	5: "1/0",
	6: "-1/0",
	7: "0/0"
}, o$2 = void 0, ot$1 = {
	2: !0,
	3: !1,
	1: o$2,
	0: null,
	4: -0,
	5: Number.POSITIVE_INFINITY,
	6: Number.NEGATIVE_INFINITY,
	7: NaN
};
var Ce = {
	0: "Error",
	1: "EvalError",
	2: "RangeError",
	3: "ReferenceError",
	4: "SyntaxError",
	5: "TypeError",
	6: "URIError"
}, at = {
	0: Error,
	1: EvalError,
	2: RangeError,
	3: ReferenceError,
	4: SyntaxError,
	5: TypeError,
	6: URIError
};
function c$2(e, r, t, n$1, a, s, i$1, u$1, l$1, g$1, S, d$1) {
	return {
		t: e,
		i: r,
		s: t,
		c: n$1,
		m: a,
		p: s,
		e: i$1,
		a: u$1,
		f: l$1,
		b: g$1,
		o: S,
		l: d$1
	};
}
function F$1(e) {
	return c$2(2, o$2, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
var J$1 = F$1(2), Z$1 = F$1(3), Ae$1 = F$1(1), Ee$1 = F$1(0), st$1 = F$1(4), it$1 = F$1(5), ut$1 = F$1(6), lt$1 = F$1(7);
function fn(e) {
	switch (e) {
		case "\\"": return "\\\\\\"";
		case "\\\\": return "\\\\\\\\";
		case \`
\`: return "\\\\n";
		case "\\r": return "\\\\r";
		case "\\b": return "\\\\b";
		case "	": return "\\\\t";
		case "\\f": return "\\\\f";
		case "<": return "\\\\x3C";
		case "\\u2028": return "\\\\u2028";
		case "\\u2029": return "\\\\u2029";
		default: return o$2;
	}
}
function y$1(e) {
	let r = "", t = 0, n$1;
	for (let a = 0, s = e.length; a < s; a++) n$1 = fn(e[a]), n$1 && (r += e.slice(t, a) + n$1, t = a + 1);
	return t === 0 ? r = e : r += e.slice(t), r;
}
var U$1 = "__SEROVAL_REFS__", ce$1 = "$R", Ie$1 = \`self.\${ce$1}\`;
function mn(e) {
	return e == null ? \`\${Ie$1}=\${Ie$1}||[]\` : \`(\${Ie$1}=\${Ie$1}||{})["\${y$1(e)}"]=[]\`;
}
var Ar$1 = /* @__PURE__ */ new Map(), j$1 = /* @__PURE__ */ new Map();
function Er(e) {
	return Ar$1.has(e);
}
function ct(e) {
	if (Er(e)) return Ar$1.get(e);
	throw new Re(e);
}
typeof globalThis != "undefined" ? Object.defineProperty(globalThis, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof window != "undefined" ? Object.defineProperty(window, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof self != "undefined" ? Object.defineProperty(self, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof global != "undefined" && Object.defineProperty(global, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
});
function xe(e) {
	return e instanceof EvalError ? 1 : e instanceof RangeError ? 2 : e instanceof ReferenceError ? 3 : e instanceof SyntaxError ? 4 : e instanceof TypeError ? 5 : e instanceof URIError ? 6 : 0;
}
function gn(e) {
	let r = Ce[xe(e)];
	return e.name !== r ? { name: e.name } : e.constructor.name !== r ? { name: e.constructor.name } : {};
}
function $$1(e, r) {
	let t = gn(e), n$1 = Object.getOwnPropertyNames(e);
	for (let a = 0, s = n$1.length, i$1; a < s; a++) i$1 = n$1[a], i$1 !== "name" && i$1 !== "message" && (i$1 === "stack" ? r & 4 && (t = t || {}, t[i$1] = e[i$1]) : (t = t || {}, t[i$1] = e[i$1]));
	return t;
}
function Oe(e) {
	return Object.isFrozen(e) ? 3 : Object.isSealed(e) ? 2 : Object.isExtensible(e) ? 0 : 1;
}
function Te(e) {
	switch (e) {
		case Number.POSITIVE_INFINITY: return it$1;
		case Number.NEGATIVE_INFINITY: return ut$1;
	}
	return e !== e ? lt$1 : Object.is(e, -0) ? st$1 : c$2(0, o$2, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function X(e) {
	return c$2(1, o$2, y$1(e), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function we(e) {
	return c$2(3, o$2, "" + e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function mt(e) {
	return c$2(4, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function he(e, r) {
	let t = r.valueOf();
	return c$2(5, e, t !== t ? "" : r.toISOString(), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function ze(e, r) {
	return c$2(6, e, o$2, y$1(r.source), r.flags, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function pt(e, r) {
	return c$2(17, e, ve$1[r], o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function dt(e, r) {
	return c$2(18, e, y$1(ct(r)), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function fe$1(e, r, t) {
	return c$2(25, e, t, y$1(r), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function _e(e, r, t) {
	return c$2(9, e, o$2, o$2, o$2, o$2, o$2, t, o$2, o$2, Oe(r), o$2);
}
function ke(e, r) {
	return c$2(21, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function De(e, r, t) {
	return c$2(15, e, o$2, r.constructor.name, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.length);
}
function Fe(e, r, t) {
	return c$2(16, e, o$2, r.constructor.name, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.byteLength);
}
function Be(e, r, t) {
	return c$2(20, e, o$2, o$2, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.byteLength);
}
function Ve(e, r, t) {
	return c$2(13, e, xe(r), o$2, y$1(r.message), t, o$2, o$2, o$2, o$2, o$2, o$2);
}
function Me(e, r, t) {
	return c$2(14, e, xe(r), o$2, y$1(r.message), t, o$2, o$2, o$2, o$2, o$2, o$2);
}
function Le(e, r) {
	return c$2(7, e, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2, o$2);
}
function Ue(e, r) {
	return c$2(28, o$2, o$2, o$2, o$2, o$2, o$2, [e, r], o$2, o$2, o$2, o$2);
}
function je(e, r) {
	return c$2(30, o$2, o$2, o$2, o$2, o$2, o$2, [e, r], o$2, o$2, o$2, o$2);
}
function Ye(e, r, t) {
	return c$2(31, e, o$2, o$2, o$2, o$2, o$2, t, r, o$2, o$2, o$2);
}
function qe(e, r) {
	return c$2(32, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function We(e, r) {
	return c$2(33, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function Ge(e, r) {
	return c$2(34, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function Ke(e, r, t, n$1) {
	return c$2(35, e, t, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2, n$1);
}
var { toString: ys$1 } = Object.prototype;
var yn = {
	parsing: 1,
	serialization: 2,
	deserialization: 3
};
function Nn(e) {
	return \`Seroval Error (step: \${yn[e]})\`;
}
var bn = (e, r) => Nn(e), Se = class extends Error {
	constructor(t, n$1) {
		super(bn(t, n$1));
		this.cause = n$1;
	}
}, z = class extends Se {
	constructor(r) {
		super("parsing", r);
	}
}, Ir = class extends Se {
	constructor(r) {
		super("serialization", r);
	}
}, He = class extends Se {
	constructor(r) {
		super("deserialization", r);
	}
};
function _(e) {
	return \`Seroval Error (specific: \${e})\`;
}
var x$1 = class extends Error {
	constructor(t) {
		super(_(1));
		this.value = t;
	}
}, w$1 = class extends Error {
	constructor(r) {
		super(_(2));
	}
}, Q = class extends Error {
	constructor(r) {
		super(_(3));
	}
}, V = class extends Error {
	constructor(r) {
		super(_(4));
	}
}, Re = class extends Error {
	constructor(t) {
		super(_(5));
		this.value = t;
	}
}, Pe = class extends Error {
	constructor(r) {
		super(_(6));
	}
}, Je = class extends Error {
	constructor(r) {
		super(_(7));
	}
}, h$1 = class extends Error {
	constructor(r) {
		super(_(8));
	}
}, gt = class extends Error {
	constructor(r) {
		super(_(9));
	}
}, ee = class extends Error {
	constructor(r) {
		super(_(9));
	}
};
var Y$1 = class {
	constructor(r, t) {
		this.value = r;
		this.replacement = t;
	}
};
var re$1 = () => {
	let e = {
		p: 0,
		s: 0,
		f: 0
	};
	return e.p = new Promise((r, t) => {
		e.s = r, e.f = t;
	}), e;
}, vn$1 = (e, r) => {
	e.s(r), e.p.s = 1, e.p.v = r;
}, Cn$1 = (e, r) => {
	e.f(r), e.p.s = 2, e.p.v = r;
}, yt$1 = re$1.toString(), Nt$1 = vn$1.toString(), bt$1 = Cn$1.toString(), Rr$1 = () => {
	let e = [], r = [], t = !0, n$1 = !1, a = 0, s = (l$1, g$1, S) => {
		for (S = 0; S < a; S++) r[S] && r[S][g$1](l$1);
	}, i$1 = (l$1, g$1, S, d$1) => {
		for (g$1 = 0, S = e.length; g$1 < S; g$1++) d$1 = e[g$1], !t && g$1 === S - 1 ? l$1[n$1 ? "return" : "throw"](d$1) : l$1.next(d$1);
	}, u$1 = (l$1, g$1) => (t && (g$1 = a++, r[g$1] = l$1), i$1(l$1), () => {
		t && (r[g$1] = r[a], r[a--] = void 0);
	});
	return {
		__SEROVAL_STREAM__: !0,
		on: (l$1) => u$1(l$1),
		next: (l$1) => {
			t && (e.push(l$1), s(l$1, "next"));
		},
		throw: (l$1) => {
			t && (e.push(l$1), s(l$1, "throw"), t = !1, n$1 = !1, r.length = 0);
		},
		return: (l$1) => {
			t && (e.push(l$1), s(l$1, "return"), t = !1, n$1 = !0, r.length = 0);
		}
	};
}, vt$1 = Rr$1.toString(), Pr$1 = (e) => (r) => () => {
	let t = 0, n$1 = {
		[e]: () => n$1,
		next: () => {
			if (t > r.d) return {
				done: !0,
				value: void 0
			};
			let a = t++, s = r.v[a];
			if (a === r.t) throw s;
			return {
				done: a === r.d,
				value: s
			};
		}
	};
	return n$1;
}, Ct$1 = Pr$1.toString(), xr$1 = (e, r) => (t) => () => {
	let n$1 = 0, a = -1, s = !1, i$1 = [], u$1 = [], l$1 = (S = 0, d$1 = u$1.length) => {
		for (; S < d$1; S++) u$1[S].s({
			done: !0,
			value: void 0
		});
	};
	t.on({
		next: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !1,
				value: S
			}), i$1.push(S);
		},
		throw: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.f(S), l$1(), a = i$1.length, s = !0, i$1.push(S);
		},
		return: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !0,
				value: S
			}), l$1(), a = i$1.length, i$1.push(S);
		}
	});
	let g$1 = {
		[e]: () => g$1,
		next: () => {
			if (a === -1) {
				let K$1 = n$1++;
				if (K$1 >= i$1.length) {
					let et = r();
					return u$1.push(et), et.p;
				}
				return {
					done: !1,
					value: i$1[K$1]
				};
			}
			if (n$1 > a) return {
				done: !0,
				value: void 0
			};
			let S = n$1++, d$1 = i$1[S];
			if (S !== a) return {
				done: !1,
				value: d$1
			};
			if (s) throw d$1;
			return {
				done: !0,
				value: d$1
			};
		}
	};
	return g$1;
}, At$1 = xr$1.toString(), Or$1 = (e) => {
	let r = atob(e), t = r.length, n$1 = new Uint8Array(t);
	for (let a = 0; a < t; a++) n$1[a] = r.charCodeAt(a);
	return n$1.buffer;
}, Et$1 = Or$1.toString();
function Ze(e) {
	return "__SEROVAL_SEQUENCE__" in e;
}
function Tr(e, r, t) {
	return {
		__SEROVAL_SEQUENCE__: !0,
		v: e,
		t: r,
		d: t
	};
}
function $e(e) {
	let r = [], t = -1, n$1 = -1, a = e[C$1]();
	for (;;) try {
		let s = a.next();
		if (r.push(s.value), s.done) {
			n$1 = r.length - 1;
			break;
		}
	} catch (s) {
		t = r.length, r.push(s);
	}
	return Tr(r, t, n$1);
}
var An$1 = Pr$1(C$1);
var Rt = {}, Pt = {};
var xt = {
	0: {},
	1: {},
	2: {},
	3: {},
	4: {},
	5: {}
}, Ot = {
	0: "[]",
	1: yt$1,
	2: Nt$1,
	3: bt$1,
	4: vt$1,
	5: Et$1
};
function M(e) {
	return "__SEROVAL_STREAM__" in e;
}
function te$2() {
	return Rr$1();
}
function Xe(e) {
	let r = te$2(), t = e[v$2]();
	async function n$1() {
		try {
			let a = await t.next();
			a.done ? r.return(a.value) : (r.next(a.value), await n$1());
		} catch (a) {
			r.throw(a);
		}
	}
	return n$1().catch(() => {}), r;
}
var En$1 = xr$1(v$2, re$1);
function pe$1(e, r) {
	return {
		plugins: r.plugins,
		mode: e,
		marked: /* @__PURE__ */ new Set(),
		features: 63 ^ (r.disabledFeatures || 0),
		refs: r.refs || /* @__PURE__ */ new Map(),
		depthLimit: r.depthLimit || 1e3
	};
}
function de(e, r) {
	e.marked.add(r);
}
function hr(e, r) {
	let t = e.refs.size;
	return e.refs.set(r, t), t;
}
function Qe(e, r) {
	let t = e.refs.get(r);
	return t != null ? (de(e, t), {
		type: 1,
		value: mt(t)
	}) : {
		type: 0,
		value: hr(e, r)
	};
}
function q$1(e, r) {
	let t = Qe(e, r);
	return t.type === 1 ? t : Er(r) ? {
		type: 2,
		value: dt(t.value, r)
	} : t;
}
function I(e, r) {
	let t = q$1(e, r);
	if (t.type !== 0) return t.value;
	if (r in ve$1) return pt(t.value, r);
	throw new x$1(r);
}
function k(e, r) {
	let t = Qe(e, xt[r]);
	return t.type === 1 ? t.value : c$2(26, t.value, r, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function er(e) {
	let r = Qe(e, Rt);
	return r.type === 1 ? r.value : c$2(27, r.value, o$2, o$2, o$2, o$2, o$2, o$2, I(e, C$1), o$2, o$2, o$2);
}
function rr(e) {
	let r = Qe(e, Pt);
	return r.type === 1 ? r.value : c$2(29, r.value, o$2, o$2, o$2, o$2, o$2, [k(e, 1), I(e, v$2)], o$2, o$2, o$2, o$2);
}
function tr(e, r, t, n$1) {
	return c$2(t ? 11 : 10, e, o$2, o$2, o$2, n$1, o$2, o$2, o$2, o$2, Oe(r), o$2);
}
function nr(e, r, t, n$1) {
	return c$2(8, r, o$2, o$2, o$2, o$2, {
		k: t,
		v: n$1
	}, o$2, k(e, 0), o$2, o$2, o$2);
}
function ht(e, r, t) {
	return c$2(22, r, t, o$2, o$2, o$2, o$2, o$2, k(e, 1), o$2, o$2, o$2);
}
function or(e, r, t) {
	let n$1 = new Uint8Array(t), a = "";
	for (let s = 0, i$1 = n$1.length; s < i$1; s++) a += String.fromCharCode(n$1[s]);
	return c$2(19, r, y$1(btoa(a)), o$2, o$2, o$2, o$2, o$2, k(e, 5), o$2, o$2, o$2);
}
var ae$1 = ((t) => (t[t.Vanilla = 1] = "Vanilla", t[t.Cross = 2] = "Cross", t))(ae$1 || {});
function kt(e, r) {
	for (let t = 0, n$1 = r.length; t < n$1; t++) {
		let a = r[t];
		e.has(a) || (e.add(a), a.extends && kt(e, a.extends));
	}
}
function A(e) {
	if (e) {
		let r = /* @__PURE__ */ new Set();
		return kt(r, e), [...r];
	}
}
var Eo$1 = () => T, Io$1 = Eo$1.toString(), qt$1 = /=>/.test(Io$1);
function sr(e, r) {
	return qt$1 ? (e.length === 1 ? e[0] : "(" + e.join(",") + ")") + "=>" + (r.startsWith("{") ? "(" + r + ")" : r) : "function(" + e.join(",") + "){return " + r + "}";
}
function Wt(e, r) {
	return qt$1 ? (e.length === 1 ? e[0] : "(" + e.join(",") + ")") + "=>{" + r + "}" : "function(" + e.join(",") + "){" + r + "}";
}
var Ht$1 = "hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_", Gt$1 = Ht$1.length, Jt$1 = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_", Kt$1 = Jt$1.length;
function Br(e) {
	let r = e % Gt$1, t = Ht$1[r];
	for (e = (e - r) / Gt$1; e > 0;) r = e % Kt$1, t += Jt$1[r], e = (e - r) / Kt$1;
	return t;
}
var Ro = /^[$A-Z_][0-9A-Z_$]*$/i;
function Vr(e) {
	let r = e[0];
	return (r === "$" || r === "_" || r >= "A" && r <= "Z" || r >= "a" && r <= "z") && Ro.test(e);
}
function ye(e) {
	switch (e.t) {
		case 0: return e.s + "=" + e.v;
		case 2: return e.s + ".set(" + e.k + "," + e.v + ")";
		case 1: return e.s + ".add(" + e.v + ")";
		case 3: return e.s + ".delete(" + e.k + ")";
	}
}
function Po(e) {
	let r = [], t = e[0];
	for (let n$1 = 1, a = e.length, s, i$1 = t; n$1 < a; n$1++) s = e[n$1], s.t === 0 && s.v === i$1.v ? t = {
		t: 0,
		s: s.s,
		k: o$2,
		v: ye(t)
	} : s.t === 2 && s.s === i$1.s ? t = {
		t: 2,
		s: ye(t),
		k: s.k,
		v: s.v
	} : s.t === 1 && s.s === i$1.s ? t = {
		t: 1,
		s: ye(t),
		k: o$2,
		v: s.v
	} : s.t === 3 && s.s === i$1.s ? t = {
		t: 3,
		s: ye(t),
		k: s.k,
		v: o$2
	} : (r.push(t), t = s), i$1 = s;
	return r.push(t), r;
}
function tn(e) {
	if (e.length) {
		let r = "", t = Po(e);
		for (let n$1 = 0, a = t.length; n$1 < a; n$1++) r += ye(t[n$1]) + ",";
		return r;
	}
	return o$2;
}
var xo = "Object.create(null)", Oo = "new Set", To = "new Map", wo = "Promise.resolve", ho = "Promise.reject", zo = {
	3: "Object.freeze",
	2: "Object.seal",
	1: "Object.preventExtensions",
	0: o$2
};
function nn(e, r) {
	return {
		mode: e,
		plugins: r.plugins,
		features: r.features,
		marked: new Set(r.markedRefs),
		stack: [],
		flags: [],
		assignments: []
	};
}
function ur(e) {
	return {
		mode: 2,
		base: nn(2, e),
		state: e,
		child: o$2
	};
}
var Mr = class {
	constructor(r) {
		this._p = r;
	}
	serialize(r) {
		return f$1(this._p, r);
	}
};
function ko(e, r) {
	let t = e.valid.get(r);
	t ?? (t = e.valid.size, e.valid.set(r, t));
	let n$1 = e.vars[t];
	return n$1 ?? (n$1 = Br(t), e.vars[t] = n$1), n$1;
}
function Do(e) {
	return ce$1 + "[" + e + "]";
}
function m$1(e, r) {
	return e.mode === 1 ? ko(e.state, r) : Do(r);
}
function O$1(e, r) {
	e.marked.add(r);
}
function Lr(e, r) {
	return e.marked.has(r);
}
function jr(e, r, t) {
	r !== 0 && (O$1(e.base, t), e.base.flags.push({
		type: r,
		value: m$1(e, t)
	}));
}
function Fo(e) {
	let r = "";
	for (let t = 0, n$1 = e.flags, a = n$1.length; t < a; t++) {
		let s = n$1[t];
		r += zo[s.type] + "(" + s.value + "),";
	}
	return r;
}
function on(e) {
	let r = tn(e.assignments), t = Fo(e);
	return r ? t ? r + t : r : t;
}
function Yr(e, r, t) {
	e.assignments.push({
		t: 0,
		s: r,
		k: o$2,
		v: t
	});
}
function Bo(e, r, t) {
	e.base.assignments.push({
		t: 1,
		s: m$1(e, r),
		k: o$2,
		v: t
	});
}
function ge(e, r, t, n$1) {
	e.base.assignments.push({
		t: 2,
		s: m$1(e, r),
		k: t,
		v: n$1
	});
}
function Zt(e, r, t) {
	e.base.assignments.push({
		t: 3,
		s: m$1(e, r),
		k: t,
		v: o$2
	});
}
function Ne(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + "[" + t + "]", n$1);
}
function Ur(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + "." + t, n$1);
}
function Vo(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + ".v[" + t + "]", n$1);
}
function D$1(e, r) {
	return r.t === 4 && e.stack.includes(r.i);
}
function se(e, r, t) {
	return e.mode === 1 && !Lr(e.base, r) ? t : m$1(e, r) + "=" + t;
}
function Mo(e) {
	return U$1 + ".get(\\"" + e.s + "\\")";
}
function $t(e, r, t, n$1) {
	return t ? D$1(e.base, t) ? (O$1(e.base, r), Ne(e, r, n$1, m$1(e, t.i)), "") : f$1(e, t) : "";
}
function Lo(e, r) {
	let t = r.i, n$1 = r.a, a = n$1.length;
	if (a > 0) {
		e.base.stack.push(t);
		let s = $t(e, t, n$1[0], 0), i$1 = s === "";
		for (let u$1 = 1, l$1; u$1 < a; u$1++) l$1 = $t(e, t, n$1[u$1], u$1), s += "," + l$1, i$1 = l$1 === "";
		return e.base.stack.pop(), jr(e, r.o, r.i), "[" + s + (i$1 ? ",]" : "]");
	}
	return "[]";
}
function Xt(e, r, t, n$1) {
	if (typeof t == "string") {
		let a = Number(t), s = a >= 0 && a.toString() === t || Vr(t);
		if (D$1(e.base, n$1)) {
			let i$1 = m$1(e, n$1.i);
			return O$1(e.base, r.i), s && a !== a ? Ur(e, r.i, t, i$1) : Ne(e, r.i, s ? t : "\\"" + t + "\\"", i$1), "";
		}
		return (s ? t : "\\"" + t + "\\"") + ":" + f$1(e, n$1);
	}
	return "[" + f$1(e, t) + "]:" + f$1(e, n$1);
}
function an(e, r, t) {
	let n$1 = t.k, a = n$1.length;
	if (a > 0) {
		let s = t.v;
		e.base.stack.push(r.i);
		let i$1 = Xt(e, r, n$1[0], s[0]);
		for (let u$1 = 1, l$1 = i$1; u$1 < a; u$1++) l$1 = Xt(e, r, n$1[u$1], s[u$1]), i$1 += (l$1 && i$1 && ",") + l$1;
		return e.base.stack.pop(), "{" + i$1 + "}";
	}
	return "{}";
}
function Uo(e, r) {
	return jr(e, r.o, r.i), an(e, r, r.p);
}
function jo(e, r, t, n$1) {
	let a = an(e, r, t);
	return a !== "{}" ? "Object.assign(" + n$1 + "," + a + ")" : n$1;
}
function Yo(e, r, t, n$1, a) {
	let s = e.base, i$1 = f$1(e, a), u$1 = Number(n$1), l$1 = u$1 >= 0 && u$1.toString() === n$1 || Vr(n$1);
	if (D$1(s, a)) l$1 && u$1 !== u$1 ? Ur(e, r.i, n$1, i$1) : Ne(e, r.i, l$1 ? n$1 : "\\"" + n$1 + "\\"", i$1);
	else {
		let g$1 = s.assignments;
		s.assignments = t, l$1 && u$1 !== u$1 ? Ur(e, r.i, n$1, i$1) : Ne(e, r.i, l$1 ? n$1 : "\\"" + n$1 + "\\"", i$1), s.assignments = g$1;
	}
}
function qo(e, r, t, n$1, a) {
	if (typeof n$1 == "string") Yo(e, r, t, n$1, a);
	else {
		let s = e.base, i$1 = s.stack;
		s.stack = [];
		let u$1 = f$1(e, a);
		s.stack = i$1;
		let l$1 = s.assignments;
		s.assignments = t, Ne(e, r.i, f$1(e, n$1), u$1), s.assignments = l$1;
	}
}
function Wo(e, r, t) {
	let n$1 = t.k, a = n$1.length;
	if (a > 0) {
		let s = [], i$1 = t.v;
		e.base.stack.push(r.i);
		for (let u$1 = 0; u$1 < a; u$1++) qo(e, r, s, n$1[u$1], i$1[u$1]);
		return e.base.stack.pop(), tn(s);
	}
	return o$2;
}
function qr(e, r, t) {
	if (r.p) {
		let n$1 = e.base;
		if (n$1.features & 8) t = jo(e, r, r.p, t);
		else {
			O$1(n$1, r.i);
			let a = Wo(e, r, r.p);
			if (a) return "(" + se(e, r.i, t) + "," + a + m$1(e, r.i) + ")";
		}
	}
	return t;
}
function Go(e, r) {
	return jr(e, r.o, r.i), qr(e, r, xo);
}
function Ko(e) {
	return "new Date(\\"" + e.s + "\\")";
}
function Ho(e, r) {
	if (e.base.features & 32) return "/" + r.c + "/" + r.m;
	throw new w$1(r);
}
function Qt(e, r, t) {
	let n$1 = e.base;
	return D$1(n$1, t) ? (O$1(n$1, r), Bo(e, r, m$1(e, t.i)), "") : f$1(e, t);
}
function Jo(e, r) {
	let t = Oo, n$1 = r.a, a = n$1.length, s = r.i;
	if (a > 0) {
		e.base.stack.push(s);
		let i$1 = Qt(e, s, n$1[0]);
		for (let u$1 = 1, l$1 = i$1; u$1 < a; u$1++) l$1 = Qt(e, s, n$1[u$1]), i$1 += (l$1 && i$1 && ",") + l$1;
		e.base.stack.pop(), i$1 && (t += "([" + i$1 + "])");
	}
	return t;
}
function en(e, r, t, n$1, a) {
	let s = e.base;
	if (D$1(s, t)) {
		let i$1 = m$1(e, t.i);
		if (O$1(s, r), D$1(s, n$1)) return ge(e, r, i$1, m$1(e, n$1.i)), "";
		if (n$1.t !== 4 && n$1.i != null && Lr(s, n$1.i)) {
			let l$1 = "(" + f$1(e, n$1) + ",[" + a + "," + a + "])";
			return ge(e, r, i$1, m$1(e, n$1.i)), Zt(e, r, a), l$1;
		}
		let u$1 = s.stack;
		return s.stack = [], ge(e, r, i$1, f$1(e, n$1)), s.stack = u$1, "";
	}
	if (D$1(s, n$1)) {
		let i$1 = m$1(e, n$1.i);
		if (O$1(s, r), t.t !== 4 && t.i != null && Lr(s, t.i)) {
			let l$1 = "(" + f$1(e, t) + ",[" + a + "," + a + "])";
			return ge(e, r, m$1(e, t.i), i$1), Zt(e, r, a), l$1;
		}
		let u$1 = s.stack;
		return s.stack = [], ge(e, r, f$1(e, t), i$1), s.stack = u$1, "";
	}
	return "[" + f$1(e, t) + "," + f$1(e, n$1) + "]";
}
function Zo(e, r) {
	let t = To, n$1 = r.e.k, a = n$1.length, s = r.i, i$1 = r.f, u$1 = m$1(e, i$1.i), l$1 = e.base;
	if (a > 0) {
		let g$1 = r.e.v;
		l$1.stack.push(s);
		let S = en(e, s, n$1[0], g$1[0], u$1);
		for (let d$1 = 1, K$1 = S; d$1 < a; d$1++) K$1 = en(e, s, n$1[d$1], g$1[d$1], u$1), S += (K$1 && S && ",") + K$1;
		l$1.stack.pop(), S && (t += "([" + S + "])");
	}
	return i$1.t === 26 && (O$1(l$1, i$1.i), t = "(" + f$1(e, i$1) + "," + t + ")"), t;
}
function $o(e, r) {
	return W(e, r.f) + "(\\"" + r.s + "\\")";
}
function Xo(e, r) {
	return "new " + r.c + "(" + f$1(e, r.f) + "," + r.b + "," + r.l + ")";
}
function Qo(e, r) {
	return "new DataView(" + f$1(e, r.f) + "," + r.b + "," + r.l + ")";
}
function ea(e, r) {
	let t = r.i;
	e.base.stack.push(t);
	let n$1 = qr(e, r, "new AggregateError([],\\"" + r.m + "\\")");
	return e.base.stack.pop(), n$1;
}
function ra(e, r) {
	return qr(e, r, "new " + Ce[r.s] + "(\\"" + r.m + "\\")");
}
function ta(e, r) {
	let t, n$1 = r.f, a = r.i, s = r.s ? wo : ho, i$1 = e.base;
	if (D$1(i$1, n$1)) {
		let u$1 = m$1(e, n$1.i);
		t = s + (r.s ? "().then(" + sr([], u$1) + ")" : "().catch(" + Wt([], "throw " + u$1) + ")");
	} else {
		i$1.stack.push(a);
		let u$1 = f$1(e, n$1);
		i$1.stack.pop(), t = s + "(" + u$1 + ")";
	}
	return t;
}
function na(e, r) {
	return "Object(" + f$1(e, r.f) + ")";
}
function W(e, r) {
	let t = f$1(e, r);
	return r.t === 4 ? t : "(" + t + ")";
}
function oa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return "(" + se(e, r.s, W(e, r.f) + "()") + ").p";
}
function aa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return W(e, r.a[0]) + "(" + m$1(e, r.i) + "," + f$1(e, r.a[1]) + ")";
}
function sa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return W(e, r.a[0]) + "(" + m$1(e, r.i) + "," + f$1(e, r.a[1]) + ")";
}
function ia(e, r) {
	let t = e.base.plugins;
	if (t) for (let n$1 = 0, a = t.length; n$1 < a; n$1++) {
		let s = t[n$1];
		if (s.tag === r.c) return e.child ??= new Mr(e), s.serialize(r.s, e.child, { id: r.i });
	}
	throw new Q(r.c);
}
function ua(e, r) {
	let t = "", n$1 = !1;
	return r.f.t !== 4 && (O$1(e.base, r.f.i), t = "(" + f$1(e, r.f) + ",", n$1 = !0), t += se(e, r.i, "(" + Ct$1 + ")(" + m$1(e, r.f.i) + ")"), n$1 && (t += ")"), t;
}
function la(e, r) {
	return W(e, r.a[0]) + "(" + f$1(e, r.a[1]) + ")";
}
function ca(e, r) {
	let t = r.a[0], n$1 = r.a[1], a = e.base, s = "";
	t.t !== 4 && (O$1(a, t.i), s += "(" + f$1(e, t)), n$1.t !== 4 && (O$1(a, n$1.i), s += (s ? "," : "(") + f$1(e, n$1)), s && (s += ",");
	let i$1 = se(e, r.i, "(" + At$1 + ")(" + m$1(e, n$1.i) + "," + m$1(e, t.i) + ")");
	return s ? s + i$1 + ")" : i$1;
}
function fa(e, r) {
	return W(e, r.a[0]) + "(" + f$1(e, r.a[1]) + ")";
}
function Sa(e, r) {
	let t = se(e, r.i, W(e, r.f) + "()"), n$1 = r.a.length;
	if (n$1) {
		let a = f$1(e, r.a[0]);
		for (let s = 1; s < n$1; s++) a += "," + f$1(e, r.a[s]);
		return "(" + t + "," + a + "," + m$1(e, r.i) + ")";
	}
	return t;
}
function ma(e, r) {
	return m$1(e, r.i) + ".next(" + f$1(e, r.f) + ")";
}
function pa(e, r) {
	return m$1(e, r.i) + ".throw(" + f$1(e, r.f) + ")";
}
function da(e, r) {
	return m$1(e, r.i) + ".return(" + f$1(e, r.f) + ")";
}
function rn(e, r, t, n$1) {
	let a = e.base;
	return D$1(a, n$1) ? (O$1(a, r), Vo(e, r, t, m$1(e, n$1.i)), "") : f$1(e, n$1);
}
function ga(e, r) {
	let t = r.a, n$1 = t.length, a = r.i;
	if (n$1 > 0) {
		e.base.stack.push(a);
		let s = rn(e, a, 0, t[0]);
		for (let i$1 = 1, u$1 = s; i$1 < n$1; i$1++) u$1 = rn(e, a, i$1, t[i$1]), s += (u$1 && s && ",") + u$1;
		if (e.base.stack.pop(), s) return "{__SEROVAL_SEQUENCE__:!0,v:[" + s + "],t:" + r.s + ",d:" + r.l + "}";
	}
	return "{__SEROVAL_SEQUENCE__:!0,v:[],t:-1,d:0}";
}
function ya(e, r) {
	switch (r.t) {
		case 17: return rt$1[r.s];
		case 18: return Mo(r);
		case 9: return Lo(e, r);
		case 10: return Uo(e, r);
		case 11: return Go(e, r);
		case 5: return Ko(r);
		case 6: return Ho(e, r);
		case 7: return Jo(e, r);
		case 8: return Zo(e, r);
		case 19: return $o(e, r);
		case 16:
		case 15: return Xo(e, r);
		case 20: return Qo(e, r);
		case 14: return ea(e, r);
		case 13: return ra(e, r);
		case 12: return ta(e, r);
		case 21: return na(e, r);
		case 22: return oa(e, r);
		case 25: return ia(e, r);
		case 26: return Ot[r.s];
		case 35: return ga(e, r);
		default: throw new w$1(r);
	}
}
function f$1(e, r) {
	switch (r.t) {
		case 2: return nt$1[r.s];
		case 0: return "" + r.s;
		case 1: return "\\"" + r.s + "\\"";
		case 3: return r.s + "n";
		case 4: return m$1(e, r.i);
		case 23: return aa(e, r);
		case 24: return sa(e, r);
		case 27: return ua(e, r);
		case 28: return la(e, r);
		case 29: return ca(e, r);
		case 30: return fa(e, r);
		case 31: return Sa(e, r);
		case 32: return ma(e, r);
		case 33: return pa(e, r);
		case 34: return da(e, r);
		default: return se(e, r.i, ya(e, r));
	}
}
function cr(e, r) {
	let t = f$1(e, r), n$1 = r.i;
	if (n$1 == null) return t;
	let a = on(e.base), s = m$1(e, n$1), i$1 = e.state.scopeId, u$1 = i$1 == null ? "" : ce$1, l$1 = a ? "(" + t + "," + a + s + ")" : t;
	if (u$1 === "") return r.t === 10 && !a ? "(" + l$1 + ")" : l$1;
	let g$1 = i$1 == null ? "()" : "(" + ce$1 + "[\\"" + y$1(i$1) + "\\"])";
	return "(" + sr([u$1], l$1) + ")" + g$1;
}
var Gr = class {
	constructor(r, t) {
		this._p = r;
		this.depth = t;
	}
	parse(r) {
		return E$1(this._p, this.depth, r);
	}
}, Kr = class {
	constructor(r, t) {
		this._p = r;
		this.depth = t;
	}
	parse(r) {
		return E$1(this._p, this.depth, r);
	}
	parseWithError(r) {
		return G(this._p, this.depth, r);
	}
	isAlive() {
		return this._p.state.alive;
	}
	pushPendingState() {
		Xr(this._p);
	}
	popPendingState() {
		be(this._p);
	}
	onParse(r) {
		ie(this._p, r);
	}
	onError(r) {
		Zr(this._p, r);
	}
};
function Na(e) {
	return {
		alive: !0,
		pending: 0,
		initial: !0,
		buffer: [],
		onParse: e.onParse,
		onError: e.onError,
		onDone: e.onDone
	};
}
function Hr(e) {
	return {
		type: 2,
		base: pe$1(2, e),
		state: Na(e)
	};
}
function ba(e, r, t) {
	let n$1 = [];
	for (let a = 0, s = t.length; a < s; a++) a in t ? n$1[a] = E$1(e, r, t[a]) : n$1[a] = 0;
	return n$1;
}
function va(e, r, t, n$1) {
	return _e(t, n$1, ba(e, r, n$1));
}
function Jr(e, r, t) {
	let n$1 = Object.entries(t), a = [], s = [];
	for (let i$1 = 0, u$1 = n$1.length; i$1 < u$1; i$1++) a.push(y$1(n$1[i$1][0])), s.push(E$1(e, r, n$1[i$1][1]));
	return C$1 in t && (a.push(I(e.base, C$1)), s.push(Ue(er(e.base), E$1(e, r, $e(t))))), v$2 in t && (a.push(I(e.base, v$2)), s.push(je(rr(e.base), E$1(e, r, e.type === 1 ? te$2() : Xe(t))))), P$2 in t && (a.push(I(e.base, P$2)), s.push(X(t[P$2]))), R$1 in t && (a.push(I(e.base, R$1)), s.push(t[R$1] ? J$1 : Z$1)), {
		k: a,
		v: s
	};
}
function Wr(e, r, t, n$1, a) {
	return tr(t, n$1, a, Jr(e, r, n$1));
}
function Ca(e, r, t, n$1) {
	return ke(t, E$1(e, r, n$1.valueOf()));
}
function Aa(e, r, t, n$1) {
	return De(t, n$1, E$1(e, r, n$1.buffer));
}
function Ea(e, r, t, n$1) {
	return Fe(t, n$1, E$1(e, r, n$1.buffer));
}
function Ia(e, r, t, n$1) {
	return Be(t, n$1, E$1(e, r, n$1.buffer));
}
function sn(e, r, t, n$1) {
	let a = $$1(n$1, e.base.features);
	return Ve(t, n$1, a ? Jr(e, r, a) : o$2);
}
function Ra(e, r, t, n$1) {
	let a = $$1(n$1, e.base.features);
	return Me(t, n$1, a ? Jr(e, r, a) : o$2);
}
function Pa(e, r, t, n$1) {
	let a = [], s = [];
	for (let [i$1, u$1] of n$1.entries()) a.push(E$1(e, r, i$1)), s.push(E$1(e, r, u$1));
	return nr(e.base, t, a, s);
}
function xa(e, r, t, n$1) {
	let a = [];
	for (let s of n$1.keys()) a.push(E$1(e, r, s));
	return Le(t, a);
}
function Oa(e, r, t, n$1) {
	let a = Ye(t, k(e.base, 4), []);
	return e.type === 1 || (Xr(e), n$1.on({
		next: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, qe(t, i$1));
			}
		},
		throw: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, We(t, i$1));
			}
			be(e);
		},
		return: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, Ge(t, i$1));
			}
			be(e);
		}
	})), a;
}
function Ta(e, r, t) {
	if (this.state.alive) {
		let n$1 = G(this, r, t);
		n$1 && ie(this, c$2(23, e, o$2, o$2, o$2, o$2, o$2, [k(this.base, 2), n$1], o$2, o$2, o$2, o$2)), be(this);
	}
}
function wa(e, r, t) {
	if (this.state.alive) {
		let n$1 = G(this, r, t);
		n$1 && ie(this, c$2(24, e, o$2, o$2, o$2, o$2, o$2, [k(this.base, 3), n$1], o$2, o$2, o$2, o$2));
	}
	be(this);
}
function ha(e, r, t, n$1) {
	let a = hr(e.base, {});
	return e.type === 2 && (Xr(e), n$1.then(Ta.bind(e, a, r), wa.bind(e, a, r))), ht(e.base, t, a);
}
function za(e, r, t, n$1, a) {
	for (let s = 0, i$1 = a.length; s < i$1; s++) {
		let u$1 = a[s];
		if (u$1.parse.sync && u$1.test(n$1)) return fe$1(t, u$1.tag, u$1.parse.sync(n$1, new Gr(e, r), { id: t }));
	}
	return o$2;
}
function _a(e, r, t, n$1, a) {
	for (let s = 0, i$1 = a.length; s < i$1; s++) {
		let u$1 = a[s];
		if (u$1.parse.stream && u$1.test(n$1)) return fe$1(t, u$1.tag, u$1.parse.stream(n$1, new Kr(e, r), { id: t }));
	}
	return o$2;
}
function un(e, r, t, n$1) {
	let a = e.base.plugins;
	return a ? e.type === 1 ? za(e, r, t, n$1, a) : _a(e, r, t, n$1, a) : o$2;
}
function ka(e, r, t, n$1) {
	let a = [];
	for (let s = 0, i$1 = n$1.v.length; s < i$1; s++) a[s] = E$1(e, r, n$1.v[s]);
	return Ke(t, a, n$1.t, n$1.d);
}
function Da(e, r, t, n$1, a) {
	switch (a) {
		case Object: return Wr(e, r, t, n$1, !1);
		case o$2: return Wr(e, r, t, n$1, !0);
		case Date: return he(t, n$1);
		case Error:
		case EvalError:
		case RangeError:
		case ReferenceError:
		case SyntaxError:
		case TypeError:
		case URIError: return sn(e, r, t, n$1);
		case Number:
		case Boolean:
		case String:
		case BigInt: return Ca(e, r, t, n$1);
		case ArrayBuffer: return or(e.base, t, n$1);
		case Int8Array:
		case Int16Array:
		case Int32Array:
		case Uint8Array:
		case Uint16Array:
		case Uint32Array:
		case Uint8ClampedArray:
		case Float32Array:
		case Float64Array: return Aa(e, r, t, n$1);
		case DataView: return Ia(e, r, t, n$1);
		case Map: return Pa(e, r, t, n$1);
		case Set: return xa(e, r, t, n$1);
		default: break;
	}
	if (a === Promise || n$1 instanceof Promise) return ha(e, r, t, n$1);
	let s = e.base.features;
	if (s & 32 && a === RegExp) return ze(t, n$1);
	if (s & 16) switch (a) {
		case BigInt64Array:
		case BigUint64Array: return Ea(e, r, t, n$1);
		default: break;
	}
	if (s & 1 && typeof AggregateError != "undefined" && (a === AggregateError || n$1 instanceof AggregateError)) return Ra(e, r, t, n$1);
	if (n$1 instanceof Error) return sn(e, r, t, n$1);
	if (C$1 in n$1 || v$2 in n$1) return Wr(e, r, t, n$1, !!a);
	throw new x$1(n$1);
}
function Fa(e, r, t, n$1) {
	if (Array.isArray(n$1)) return va(e, r, t, n$1);
	if (M(n$1)) return Oa(e, r, t, n$1);
	if (Ze(n$1)) return ka(e, r, t, n$1);
	let a = n$1.constructor;
	if (a === Y$1) return E$1(e, r, n$1.replacement);
	return un(e, r, t, n$1) || Da(e, r, t, n$1, a);
}
function Ba(e, r, t) {
	let n$1 = q$1(e.base, t);
	if (n$1.type !== 0) return n$1.value;
	let a = un(e, r, n$1.value, t);
	if (a) return a;
	throw new x$1(t);
}
function E$1(e, r, t) {
	if (r >= e.base.depthLimit) throw new ee(e.base.depthLimit);
	switch (typeof t) {
		case "boolean": return t ? J$1 : Z$1;
		case "undefined": return Ae$1;
		case "string": return X(t);
		case "number": return Te(t);
		case "bigint": return we(t);
		case "object":
			if (t) {
				let n$1 = q$1(e.base, t);
				return n$1.type === 0 ? Fa(e, r + 1, n$1.value, t) : n$1.value;
			}
			return Ee$1;
		case "symbol": return I(e.base, t);
		case "function": return Ba(e, r, t);
		default: throw new x$1(t);
	}
}
function ie(e, r) {
	e.state.initial ? e.state.buffer.push(r) : $r(e, r, !1);
}
function Zr(e, r) {
	if (e.state.onError) e.state.onError(r);
	else throw r instanceof z ? r : new z(r);
}
function ln(e) {
	e.state.onDone && e.state.onDone();
}
function $r(e, r, t) {
	try {
		e.state.onParse(r, t);
	} catch (n$1) {
		Zr(e, n$1);
	}
}
function Xr(e) {
	e.state.pending++;
}
function be(e) {
	--e.state.pending <= 0 && ln(e);
}
function G(e, r, t) {
	try {
		return E$1(e, r, t);
	} catch (n$1) {
		return Zr(e, n$1), o$2;
	}
}
function Qr(e, r) {
	let t = G(e, 0, r);
	t && ($r(e, t, !0), e.state.initial = !1, Va(e, e.state), e.state.pending <= 0 && fr(e));
}
function Va(e, r) {
	for (let t = 0, n$1 = r.buffer.length; t < n$1; t++) $r(e, r.buffer[t], !1);
}
function fr(e) {
	e.state.alive && (ln(e), e.state.alive = !1);
}
function cn(e, r) {
	let t = A(r.plugins), n$1 = Hr({
		plugins: t,
		refs: r.refs,
		disabledFeatures: r.disabledFeatures,
		onParse(a, s) {
			let i$1 = ur({
				plugins: t,
				features: n$1.base.features,
				scopeId: r.scopeId,
				markedRefs: n$1.base.marked
			}), u$1;
			try {
				u$1 = cr(i$1, a);
			} catch (l$1) {
				r.onError && r.onError(l$1);
				return;
			}
			r.onSerialize(u$1, s);
		},
		onError: r.onError,
		onDone: r.onDone
	});
	return Qr(n$1, e), fr.bind(null, n$1);
}
var Sr = class {
	constructor(r) {
		this.options = r;
		this.alive = !0;
		this.flushed = !1;
		this.done = !1;
		this.pending = 0;
		this.cleanups = [];
		this.refs = /* @__PURE__ */ new Map();
		this.keys = /* @__PURE__ */ new Set();
		this.ids = 0;
		this.plugins = A(r.plugins);
	}
	write(r, t) {
		this.alive && !this.flushed && (this.pending++, this.keys.add(r), this.cleanups.push(cn(t, {
			plugins: this.plugins,
			scopeId: this.options.scopeId,
			refs: this.refs,
			disabledFeatures: this.options.disabledFeatures,
			onError: this.options.onError,
			onSerialize: (n$1, a) => {
				this.alive && this.options.onData(a ? this.options.globalIdentifier + "[\\"" + y$1(r) + "\\"]=" + n$1 : n$1);
			},
			onDone: () => {
				this.alive && (this.pending--, this.pending <= 0 && this.flushed && !this.done && this.options.onDone && (this.options.onDone(), this.done = !0));
			}
		})));
	}
	getNextID() {
		for (; this.keys.has("" + this.ids);) this.ids++;
		return "" + this.ids;
	}
	push(r) {
		let t = this.getNextID();
		return this.write(t, r), t;
	}
	flush() {
		this.alive && (this.flushed = !0, this.pending <= 0 && !this.done && this.options.onDone && (this.options.onDone(), this.done = !0));
	}
	close() {
		if (this.alive) {
			for (let r = 0, t = this.cleanups.length; r < t; r++) this.cleanups[r]();
			!this.done && this.options.onDone && (this.options.onDone(), this.done = !0), this.alive = !1;
		}
	}
};

//#endregion
//#region node_modules/seroval/dist/esm/production/index.mjs
var L$1 = ((i$1) => (i$1[i$1.AggregateError = 1] = "AggregateError", i$1[i$1.ArrowFunction = 2] = "ArrowFunction", i$1[i$1.ErrorPrototypeStack = 4] = "ErrorPrototypeStack", i$1[i$1.ObjectAssign = 8] = "ObjectAssign", i$1[i$1.BigIntTypedArray = 16] = "BigIntTypedArray", i$1[i$1.RegExp = 32] = "RegExp", i$1))(L$1 || {});
var v$1 = Symbol.asyncIterator, mr = Symbol.hasInstance, R = Symbol.isConcatSpreadable, C = Symbol.iterator, pr = Symbol.match, dr = Symbol.matchAll, gr = Symbol.replace, yr = Symbol.search, Nr = Symbol.species, br = Symbol.split, vr = Symbol.toPrimitive, P$1 = Symbol.toStringTag, Cr = Symbol.unscopables;
var rt = {
	0: "Symbol.asyncIterator",
	1: "Symbol.hasInstance",
	2: "Symbol.isConcatSpreadable",
	3: "Symbol.iterator",
	4: "Symbol.match",
	5: "Symbol.matchAll",
	6: "Symbol.replace",
	7: "Symbol.search",
	8: "Symbol.species",
	9: "Symbol.split",
	10: "Symbol.toPrimitive",
	11: "Symbol.toStringTag",
	12: "Symbol.unscopables"
}, ve = {
	[v$1]: 0,
	[mr]: 1,
	[R]: 2,
	[C]: 3,
	[pr]: 4,
	[dr]: 5,
	[gr]: 6,
	[yr]: 7,
	[Nr]: 8,
	[br]: 9,
	[vr]: 10,
	[P$1]: 11,
	[Cr]: 12
}, tt = {
	0: v$1,
	1: mr,
	2: R,
	3: C,
	4: pr,
	5: dr,
	6: gr,
	7: yr,
	8: Nr,
	9: br,
	10: vr,
	11: P$1,
	12: Cr
}, nt = {
	2: "!0",
	3: "!1",
	1: "void 0",
	0: "null",
	4: "-0",
	5: "1/0",
	6: "-1/0",
	7: "0/0"
}, o$1 = void 0, ot = {
	2: !0,
	3: !1,
	1: o$1,
	0: null,
	4: -0,
	5: Number.POSITIVE_INFINITY,
	6: Number.NEGATIVE_INFINITY,
	7: NaN
};
function c$1(e, r, t, n$1, a, s, i$1, u$1, l$1, g$1, S, d$1) {
	return {
		t: e,
		i: r,
		s: t,
		c: n$1,
		m: a,
		p: s,
		e: i$1,
		a: u$1,
		f: l$1,
		b: g$1,
		o: S,
		l: d$1
	};
}
function F(e) {
	return c$1(2, o$1, e, o$1, o$1, o$1, o$1, o$1, o$1, o$1, o$1, o$1);
}
var J = F(2), Z = F(3), Ae = F(1), Ee = F(0), st = F(4), it = F(5), ut = F(6), lt = F(7);
var U = "__SEROVAL_REFS__", ce = "$R", Ie = \`self.\${ce}\`;
var Ar = /* @__PURE__ */ new Map(), j = /* @__PURE__ */ new Map();
typeof globalThis != "undefined" ? Object.defineProperty(globalThis, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof window != "undefined" ? Object.defineProperty(window, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof self != "undefined" ? Object.defineProperty(self, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof global != "undefined" && Object.defineProperty(global, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
});
var { toString: ys } = Object.prototype;
var re = () => {
	let e = {
		p: 0,
		s: 0,
		f: 0
	};
	return e.p = new Promise((r, t) => {
		e.s = r, e.f = t;
	}), e;
}, vn = (e, r) => {
	e.s(r), e.p.s = 1, e.p.v = r;
}, Cn = (e, r) => {
	e.f(r), e.p.s = 2, e.p.v = r;
}, yt = re.toString(), Nt = vn.toString(), bt = Cn.toString(), Rr = () => {
	let e = [], r = [], t = !0, n$1 = !1, a = 0, s = (l$1, g$1, S) => {
		for (S = 0; S < a; S++) r[S] && r[S][g$1](l$1);
	}, i$1 = (l$1, g$1, S, d$1) => {
		for (g$1 = 0, S = e.length; g$1 < S; g$1++) d$1 = e[g$1], !t && g$1 === S - 1 ? l$1[n$1 ? "return" : "throw"](d$1) : l$1.next(d$1);
	}, u$1 = (l$1, g$1) => (t && (g$1 = a++, r[g$1] = l$1), i$1(l$1), () => {
		t && (r[g$1] = r[a], r[a--] = void 0);
	});
	return {
		__SEROVAL_STREAM__: !0,
		on: (l$1) => u$1(l$1),
		next: (l$1) => {
			t && (e.push(l$1), s(l$1, "next"));
		},
		throw: (l$1) => {
			t && (e.push(l$1), s(l$1, "throw"), t = !1, n$1 = !1, r.length = 0);
		},
		return: (l$1) => {
			t && (e.push(l$1), s(l$1, "return"), t = !1, n$1 = !0, r.length = 0);
		}
	};
}, vt = Rr.toString(), Pr = (e) => (r) => () => {
	let t = 0, n$1 = {
		[e]: () => n$1,
		next: () => {
			if (t > r.d) return {
				done: !0,
				value: void 0
			};
			let a = t++, s = r.v[a];
			if (a === r.t) throw s;
			return {
				done: a === r.d,
				value: s
			};
		}
	};
	return n$1;
}, Ct = Pr.toString(), xr = (e, r) => (t) => () => {
	let n$1 = 0, a = -1, s = !1, i$1 = [], u$1 = [], l$1 = (S = 0, d$1 = u$1.length) => {
		for (; S < d$1; S++) u$1[S].s({
			done: !0,
			value: void 0
		});
	};
	t.on({
		next: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !1,
				value: S
			}), i$1.push(S);
		},
		throw: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.f(S), l$1(), a = i$1.length, s = !0, i$1.push(S);
		},
		return: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !0,
				value: S
			}), l$1(), a = i$1.length, i$1.push(S);
		}
	});
	let g$1 = {
		[e]: () => g$1,
		next: () => {
			if (a === -1) {
				let K$1 = n$1++;
				if (K$1 >= i$1.length) {
					let et = r();
					return u$1.push(et), et.p;
				}
				return {
					done: !1,
					value: i$1[K$1]
				};
			}
			if (n$1 > a) return {
				done: !0,
				value: void 0
			};
			let S = n$1++, d$1 = i$1[S];
			if (S !== a) return {
				done: !1,
				value: d$1
			};
			if (s) throw d$1;
			return {
				done: !0,
				value: d$1
			};
		}
	};
	return g$1;
}, At = xr.toString(), Or = (e) => {
	let r = atob(e), t = r.length, n$1 = new Uint8Array(t);
	for (let a = 0; a < t; a++) n$1[a] = r.charCodeAt(a);
	return n$1.buffer;
}, Et = Or.toString();
var An = Pr(C);
function te$1() {
	return Rr();
}
var En = xr(v$1, re);
var ae = ((t) => (t[t.Vanilla = 1] = "Vanilla", t[t.Cross = 2] = "Cross", t))(ae || {});
function ni(e) {
	return e;
}
var Eo = () => T, Io = Eo.toString(), qt = /=>/.test(Io);
var Ht = "hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_", Gt = Ht.length, Jt = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_", Kt = Jt.length;

//#endregion
//#region node_modules/seroval-plugins/dist/esm/production/web.mjs
var u = (e) => {
	let r = new AbortController(), a = r.abort.bind(r);
	return e.then(a, a), r;
};
function E(e) {
	e(this.reason);
}
function D(e) {
	this.addEventListener("abort", E.bind(this, e), { once: !0 });
}
function c(e) {
	return new Promise(D.bind(e));
}
var i = {}, O = ni({
	tag: "seroval-plugins/web/AbortSignal",
	extends: [ni({
		tag: "seroval-plugins/web/AbortControllerFactoryPlugin",
		test(e) {
			return e === i;
		},
		parse: {
			sync() {
				return i;
			},
			async async() {
				return await Promise.resolve(i);
			},
			stream() {
				return i;
			}
		},
		serialize() {
			return u.toString();
		},
		deserialize() {
			return u;
		}
	})],
	test(e) {
		return typeof AbortSignal == "undefined" ? !1 : e instanceof AbortSignal;
	},
	parse: {
		sync(e, r) {
			return e.aborted ? { reason: r.parse(e.reason) } : {};
		},
		async async(e, r) {
			if (e.aborted) return { reason: await r.parse(e.reason) };
			let a = await c(e);
			return { reason: await r.parse(a) };
		},
		stream(e, r) {
			if (e.aborted) return { reason: r.parse(e.reason) };
			let a = c(e);
			return {
				factory: r.parse(i),
				controller: r.parse(a)
			};
		}
	},
	serialize(e, r) {
		return e.reason ? "AbortSignal.abort(" + r.serialize(e.reason) + ")" : e.controller && e.factory ? "(" + r.serialize(e.factory) + ")(" + r.serialize(e.controller) + ").signal" : "(new AbortController).signal";
	},
	deserialize(e, r) {
		return e.reason ? AbortSignal.abort(r.deserialize(e.reason)) : e.controller ? u(r.deserialize(e.controller)).signal : new AbortController().signal;
	}
});
var B = ni({
	tag: "seroval-plugins/web/Blob",
	test(e) {
		return typeof Blob == "undefined" ? !1 : e instanceof Blob;
	},
	parse: { async async(e, r) {
		return {
			type: await r.parse(e.type),
			buffer: await r.parse(await e.arrayBuffer())
		};
	} },
	serialize(e, r) {
		return "new Blob([" + r.serialize(e.buffer) + "],{type:" + r.serialize(e.type) + "})";
	},
	deserialize(e, r) {
		return new Blob([r.deserialize(e.buffer)], { type: r.deserialize(e.type) });
	}
});
function d(e) {
	return {
		detail: e.detail,
		bubbles: e.bubbles,
		cancelable: e.cancelable,
		composed: e.composed
	};
}
var L = ni({
	tag: "seroval-plugins/web/CustomEvent",
	test(e) {
		return typeof CustomEvent == "undefined" ? !1 : e instanceof CustomEvent;
	},
	parse: {
		sync(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(d(e))
			};
		},
		async async(e, r) {
			return {
				type: await r.parse(e.type),
				options: await r.parse(d(e))
			};
		},
		stream(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(d(e))
			};
		}
	},
	serialize(e, r) {
		return "new CustomEvent(" + r.serialize(e.type) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new CustomEvent(r.deserialize(e.type), r.deserialize(e.options));
	}
});
var q = ni({
	tag: "seroval-plugins/web/DOMException",
	test(e) {
		return typeof DOMException == "undefined" ? !1 : e instanceof DOMException;
	},
	parse: {
		sync(e, r) {
			return {
				name: r.parse(e.name),
				message: r.parse(e.message)
			};
		},
		async async(e, r) {
			return {
				name: await r.parse(e.name),
				message: await r.parse(e.message)
			};
		},
		stream(e, r) {
			return {
				name: r.parse(e.name),
				message: r.parse(e.message)
			};
		}
	},
	serialize(e, r) {
		return "new DOMException(" + r.serialize(e.message) + "," + r.serialize(e.name) + ")";
	},
	deserialize(e, r) {
		return new DOMException(r.deserialize(e.message), r.deserialize(e.name));
	}
});
function f(e) {
	return {
		bubbles: e.bubbles,
		cancelable: e.cancelable,
		composed: e.composed
	};
}
var Y = ni({
	tag: "seroval-plugins/web/Event",
	test(e) {
		return typeof Event == "undefined" ? !1 : e instanceof Event;
	},
	parse: {
		sync(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(f(e))
			};
		},
		async async(e, r) {
			return {
				type: await r.parse(e.type),
				options: await r.parse(f(e))
			};
		},
		stream(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(f(e))
			};
		}
	},
	serialize(e, r) {
		return "new Event(" + r.serialize(e.type) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Event(r.deserialize(e.type), r.deserialize(e.options));
	}
});
var m = ni({
	tag: "seroval-plugins/web/File",
	test(e) {
		return typeof File == "undefined" ? !1 : e instanceof File;
	},
	parse: { async async(e, r) {
		return {
			name: await r.parse(e.name),
			options: await r.parse({
				type: e.type,
				lastModified: e.lastModified
			}),
			buffer: await r.parse(await e.arrayBuffer())
		};
	} },
	serialize(e, r) {
		return "new File([" + r.serialize(e.buffer) + "]," + r.serialize(e.name) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new File([r.deserialize(e.buffer)], r.deserialize(e.name), r.deserialize(e.options));
	}
});
function y(e) {
	let r = [];
	return e.forEach((a, t) => {
		r.push([t, a]);
	}), r;
}
var o = {}, v = (e, r = new FormData(), a = 0, t = e.length, s) => {
	for (; a < t; a++) s = e[a], r.append(s[0], s[1]);
	return r;
}, K = ni({
	tag: "seroval-plugins/web/FormData",
	extends: [m, ni({
		tag: "seroval-plugins/web/FormDataFactory",
		test(e) {
			return e === o;
		},
		parse: {
			sync() {
				return o;
			},
			async async() {
				return await Promise.resolve(o);
			},
			stream() {
				return o;
			}
		},
		serialize() {
			return v.toString();
		},
		deserialize() {
			return o;
		}
	})],
	test(e) {
		return typeof FormData == "undefined" ? !1 : e instanceof FormData;
	},
	parse: {
		sync(e, r) {
			return {
				factory: r.parse(o),
				entries: r.parse(y(e))
			};
		},
		async async(e, r) {
			return {
				factory: await r.parse(o),
				entries: await r.parse(y(e))
			};
		},
		stream(e, r) {
			return {
				factory: r.parse(o),
				entries: r.parse(y(e))
			};
		}
	},
	serialize(e, r) {
		return "(" + r.serialize(e.factory) + ")(" + r.serialize(e.entries) + ")";
	},
	deserialize(e, r) {
		return v(r.deserialize(e.entries));
	}
});
function g(e) {
	let r = [];
	return e.forEach((a, t) => {
		r.push([t, a]);
	}), r;
}
var l = ni({
	tag: "seroval-plugins/web/Headers",
	test(e) {
		return typeof Headers == "undefined" ? !1 : e instanceof Headers;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(g(e)) };
		},
		async async(e, r) {
			return { value: await r.parse(g(e)) };
		},
		stream(e, r) {
			return { value: r.parse(g(e)) };
		}
	},
	serialize(e, r) {
		return "new Headers(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new Headers(r.deserialize(e.value));
	}
});
var $ = ni({
	tag: "seroval-plugins/web/ImageData",
	test(e) {
		return typeof ImageData == "undefined" ? !1 : e instanceof ImageData;
	},
	parse: {
		sync(e, r) {
			return {
				data: r.parse(e.data),
				width: r.parse(e.width),
				height: r.parse(e.height),
				options: r.parse({ colorSpace: e.colorSpace })
			};
		},
		async async(e, r) {
			return {
				data: await r.parse(e.data),
				width: await r.parse(e.width),
				height: await r.parse(e.height),
				options: await r.parse({ colorSpace: e.colorSpace })
			};
		},
		stream(e, r) {
			return {
				data: r.parse(e.data),
				width: r.parse(e.width),
				height: r.parse(e.height),
				options: r.parse({ colorSpace: e.colorSpace })
			};
		}
	},
	serialize(e, r) {
		return "new ImageData(" + r.serialize(e.data) + "," + r.serialize(e.width) + "," + r.serialize(e.height) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new ImageData(r.deserialize(e.data), r.deserialize(e.width), r.deserialize(e.height), r.deserialize(e.options));
	}
});
var n = {}, P = (e) => new ReadableStream({ start: (r) => {
	e.on({
		next: (a) => {
			try {
				r.enqueue(a);
			} catch (t) {}
		},
		throw: (a) => {
			r.error(a);
		},
		return: () => {
			try {
				r.close();
			} catch (a) {}
		}
	});
} }), x = ni({
	tag: "seroval-plugins/web/ReadableStreamFactory",
	test(e) {
		return e === n;
	},
	parse: {
		sync() {
			return n;
		},
		async async() {
			return await Promise.resolve(n);
		},
		stream() {
			return n;
		}
	},
	serialize() {
		return P.toString();
	},
	deserialize() {
		return n;
	}
});
function w(e) {
	let r = te$1(), a = e.getReader();
	async function t() {
		try {
			let s = await a.read();
			s.done ? r.return(s.value) : (r.next(s.value), await t());
		} catch (s) {
			r.throw(s);
		}
	}
	return t().catch(() => {}), r;
}
var p = ni({
	tag: "seroval/plugins/web/ReadableStream",
	extends: [x],
	test(e) {
		return typeof ReadableStream == "undefined" ? !1 : e instanceof ReadableStream;
	},
	parse: {
		sync(e, r) {
			return {
				factory: r.parse(n),
				stream: r.parse(te$1())
			};
		},
		async async(e, r) {
			return {
				factory: await r.parse(n),
				stream: await r.parse(w(e))
			};
		},
		stream(e, r) {
			return {
				factory: r.parse(n),
				stream: r.parse(w(e))
			};
		}
	},
	serialize(e, r) {
		return "(" + r.serialize(e.factory) + ")(" + r.serialize(e.stream) + ")";
	},
	deserialize(e, r) {
		return P(r.deserialize(e.stream));
	}
});
function N(e, r) {
	return {
		body: r,
		cache: e.cache,
		credentials: e.credentials,
		headers: e.headers,
		integrity: e.integrity,
		keepalive: e.keepalive,
		method: e.method,
		mode: e.mode,
		redirect: e.redirect,
		referrer: e.referrer,
		referrerPolicy: e.referrerPolicy
	};
}
var te = ni({
	tag: "seroval-plugins/web/Request",
	extends: [p, l],
	test(e) {
		return typeof Request == "undefined" ? !1 : e instanceof Request;
	},
	parse: {
		async async(e, r) {
			return {
				url: await r.parse(e.url),
				options: await r.parse(N(e, e.body && !e.bodyUsed ? await e.clone().arrayBuffer() : null))
			};
		},
		stream(e, r) {
			return {
				url: r.parse(e.url),
				options: r.parse(N(e, e.body && !e.bodyUsed ? e.clone().body : null))
			};
		}
	},
	serialize(e, r) {
		return "new Request(" + r.serialize(e.url) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Request(r.deserialize(e.url), r.deserialize(e.options));
	}
});
function h(e) {
	return {
		headers: e.headers,
		status: e.status,
		statusText: e.statusText
	};
}
var ne = ni({
	tag: "seroval-plugins/web/Response",
	extends: [p, l],
	test(e) {
		return typeof Response == "undefined" ? !1 : e instanceof Response;
	},
	parse: {
		async async(e, r) {
			return {
				body: await r.parse(e.body && !e.bodyUsed ? await e.clone().arrayBuffer() : null),
				options: await r.parse(h(e))
			};
		},
		stream(e, r) {
			return {
				body: r.parse(e.body && !e.bodyUsed ? e.clone().body : null),
				options: r.parse(h(e))
			};
		}
	},
	serialize(e, r) {
		return "new Response(" + r.serialize(e.body) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Response(r.deserialize(e.body), r.deserialize(e.options));
	}
});
var pe = ni({
	tag: "seroval-plugins/web/URL",
	test(e) {
		return typeof URL == "undefined" ? !1 : e instanceof URL;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(e.href) };
		},
		async async(e, r) {
			return { value: await r.parse(e.href) };
		},
		stream(e, r) {
			return { value: r.parse(e.href) };
		}
	},
	serialize(e, r) {
		return "new URL(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new URL(r.deserialize(e.value));
	}
});
var fe = ni({
	tag: "seroval-plugins/web/URLSearchParams",
	test(e) {
		return typeof URLSearchParams == "undefined" ? !1 : e instanceof URLSearchParams;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(e.toString()) };
		},
		async async(e, r) {
			return { value: await r.parse(e.toString()) };
		},
		stream(e, r) {
			return { value: r.parse(e.toString()) };
		}
	},
	serialize(e, r) {
		return "new URLSearchParams(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new URLSearchParams(r.deserialize(e.value));
	}
});

//#endregion
//#region node_modules/solid-js/web/dist/server.js
const booleans = [
	"allowfullscreen",
	"async",
	"alpha",
	"autofocus",
	"autoplay",
	"checked",
	"controls",
	"default",
	"disabled",
	"formnovalidate",
	"hidden",
	"indeterminate",
	"inert",
	"ismap",
	"loop",
	"multiple",
	"muted",
	"nomodule",
	"novalidate",
	"open",
	"playsinline",
	"readonly",
	"required",
	"reversed",
	"seamless",
	"selected",
	"adauctionheaders",
	"browsingtopics",
	"credentialless",
	"defaultchecked",
	"defaultmuted",
	"defaultselected",
	"defer",
	"disablepictureinpicture",
	"disableremoteplayback",
	"preservespitch",
	"shadowrootclonable",
	"shadowrootcustomelementregistry",
	"shadowrootdelegatesfocus",
	"shadowrootserializable",
	"sharedstoragewritable"
];
const Properties = /* @__PURE__ */ new Set([
	"className",
	"value",
	"readOnly",
	"noValidate",
	"formNoValidate",
	"isMap",
	"noModule",
	"playsInline",
	"adAuctionHeaders",
	"allowFullscreen",
	"browsingTopics",
	"defaultChecked",
	"defaultMuted",
	"defaultSelected",
	"disablePictureInPicture",
	"disableRemotePlayback",
	"preservesPitch",
	"shadowRootClonable",
	"shadowRootCustomElementRegistry",
	"shadowRootDelegatesFocus",
	"shadowRootSerializable",
	"sharedStorageWritable",
	...booleans
]);
const Aliases = /* @__PURE__ */ Object.assign(Object.create(null), {
	className: "class",
	htmlFor: "for"
});
const PropAliases = /* @__PURE__ */ Object.assign(Object.create(null), {
	class: "className",
	novalidate: {
		$: "noValidate",
		FORM: 1
	},
	formnovalidate: {
		$: "formNoValidate",
		BUTTON: 1,
		INPUT: 1
	},
	ismap: {
		$: "isMap",
		IMG: 1
	},
	nomodule: {
		$: "noModule",
		SCRIPT: 1
	},
	playsinline: {
		$: "playsInline",
		VIDEO: 1
	},
	readonly: {
		$: "readOnly",
		INPUT: 1,
		TEXTAREA: 1
	},
	adauctionheaders: {
		$: "adAuctionHeaders",
		IFRAME: 1
	},
	allowfullscreen: {
		$: "allowFullscreen",
		IFRAME: 1
	},
	browsingtopics: {
		$: "browsingTopics",
		IMG: 1
	},
	defaultchecked: {
		$: "defaultChecked",
		INPUT: 1
	},
	defaultmuted: {
		$: "defaultMuted",
		AUDIO: 1,
		VIDEO: 1
	},
	defaultselected: {
		$: "defaultSelected",
		OPTION: 1
	},
	disablepictureinpicture: {
		$: "disablePictureInPicture",
		VIDEO: 1
	},
	disableremoteplayback: {
		$: "disableRemotePlayback",
		AUDIO: 1,
		VIDEO: 1
	},
	preservespitch: {
		$: "preservesPitch",
		AUDIO: 1,
		VIDEO: 1
	},
	shadowrootclonable: {
		$: "shadowRootClonable",
		TEMPLATE: 1
	},
	shadowrootdelegatesfocus: {
		$: "shadowRootDelegatesFocus",
		TEMPLATE: 1
	},
	shadowrootserializable: {
		$: "shadowRootSerializable",
		TEMPLATE: 1
	},
	sharedstoragewritable: {
		$: "sharedStorageWritable",
		IFRAME: 1,
		IMG: 1
	}
});
const ES2017FLAG = L$2.AggregateError | L$2.BigIntTypedArray;
const GLOBAL_IDENTIFIER = "_$HY.r";
function createSerializer({ onData, onDone, scopeId, onError, plugins: customPlugins }) {
	const defaultPlugins = [
		O,
		L,
		q,
		Y,
		K,
		l,
		p,
		te,
		ne,
		fe,
		pe
	];
	return new Sr({
		scopeId,
		plugins: customPlugins ? [...customPlugins, ...defaultPlugins] : defaultPlugins,
		globalIdentifier: GLOBAL_IDENTIFIER,
		disabledFeatures: ES2017FLAG,
		onData,
		onDone,
		onError
	});
}
function getLocalHeaderScript(id) {
	return mn(id) + ";";
}
function renderToString(code, options = {}) {
	const { renderId } = options;
	let scripts = "";
	const serializer = createSerializer({
		scopeId: renderId,
		plugins: options.plugins,
		onData(script) {
			if (!scripts) scripts = getLocalHeaderScript(renderId);
			scripts += script + ";";
		},
		onError: options.onError
	});
	sharedConfig.context = {
		id: renderId || "",
		count: 0,
		suspense: {},
		lazy: {},
		assets: [],
		nonce: options.nonce,
		serialize(id, p$1) {
			!sharedConfig.context.noHydrate && serializer.write(id, p$1);
		},
		roots: 0,
		nextRoot() {
			return this.renderId + "i-" + this.roots++;
		}
	};
	let html = createRoot((d$1) => {
		setTimeout(d$1);
		return resolveSSRNode(escape(code()));
	});
	sharedConfig.context.noHydrate = true;
	serializer.close();
	html = injectAssets(sharedConfig.context.assets, html);
	if (scripts.length) html = injectScripts(html, scripts, options.nonce);
	return html;
}
function ssr(t, ...nodes) {
	if (nodes.length) {
		let result = "";
		for (let i$1 = 0; i$1 < nodes.length; i$1++) {
			result += t[i$1];
			const node = nodes[i$1];
			if (node !== void 0) result += resolveSSRNode(node);
		}
		t = result + t[nodes.length];
	}
	return { t };
}
function escape(s, attr) {
	const t = typeof s;
	if (t !== "string") {
		if (!attr && t === "function") return escape(s());
		if (!attr && Array.isArray(s)) {
			s = s.slice();
			for (let i$1 = 0; i$1 < s.length; i$1++) s[i$1] = escape(s[i$1]);
			return s;
		}
		if (attr && t === "boolean") return String(s);
		return s;
	}
	const delim = attr ? "\\"" : "<";
	const escDelim = attr ? "&quot;" : "&lt;";
	let iDelim = s.indexOf(delim);
	let iAmp = s.indexOf("&");
	if (iDelim < 0 && iAmp < 0) return s;
	let left = 0, out = "";
	while (iDelim >= 0 && iAmp >= 0) if (iDelim < iAmp) {
		if (left < iDelim) out += s.substring(left, iDelim);
		out += escDelim;
		left = iDelim + 1;
		iDelim = s.indexOf(delim, left);
	} else {
		if (left < iAmp) out += s.substring(left, iAmp);
		out += "&amp;";
		left = iAmp + 1;
		iAmp = s.indexOf("&", left);
	}
	if (iDelim >= 0) do {
		if (left < iDelim) out += s.substring(left, iDelim);
		out += escDelim;
		left = iDelim + 1;
		iDelim = s.indexOf(delim, left);
	} while (iDelim >= 0);
	else while (iAmp >= 0) {
		if (left < iAmp) out += s.substring(left, iAmp);
		out += "&amp;";
		left = iAmp + 1;
		iAmp = s.indexOf("&", left);
	}
	return left < s.length ? out + s.substring(left) : out;
}
function resolveSSRNode(node, top) {
	const t = typeof node;
	if (t === "string") return node;
	if (node == null || t === "boolean") return "";
	if (Array.isArray(node)) {
		let prev = {};
		let mapped = "";
		for (let i$1 = 0, len = node.length; i$1 < len; i$1++) {
			if (!top && typeof prev !== "object" && typeof node[i$1] !== "object") mapped += \`<!--!$-->\`;
			mapped += resolveSSRNode(prev = node[i$1]);
		}
		return mapped;
	}
	if (t === "object") return node.t;
	if (t === "function") return resolveSSRNode(node());
	return String(node);
}
function injectAssets(assets, html) {
	if (!assets || !assets.length) return html;
	let out = "";
	for (let i$1 = 0, len = assets.length; i$1 < len; i$1++) out += assets[i$1]();
	const index = html.indexOf("</head>");
	if (index === -1) return html;
	return html.slice(0, index) + out + html.slice(index);
}
function injectScripts(html, scripts, nonce) {
	const tag = \`<script\${nonce ? \` nonce="\${nonce}"\` : ""}>\${scripts}<\\/script>\`;
	const index = html.indexOf("<!--xs-->");
	if (index > -1) return html.slice(0, index) + tag + html.slice(index);
	return html + tag;
}

//#endregion
//#region tests/fixtures/ssr.tsx
var _tmpl$ = ["<button type=\\"button\\">", "</button>"];
const App = () => {
	const [count, setCount] = createSignal(0);
	return ssr(_tmpl$, escape(count()));
};
var ssr_default = renderToString(App);

//#endregion
export { ssr_default as default };"
`;

exports[`rolldown-plugin-solid dist should transform SSR component 1`] = `
"//#region node_modules/solid-js/dist/server.js
const ERROR = Symbol("error");
function castError(err) {
	if (err instanceof Error) return err;
	return new Error(typeof err === "string" ? err : "Unknown error", { cause: err });
}
function handleError(err, owner = Owner) {
	const fns = owner && owner.context && owner.context[ERROR];
	const error = castError(err);
	if (!fns) throw error;
	try {
		for (const f$2 of fns) f$2(error);
	} catch (e) {
		handleError(e, owner && owner.owner || null);
	}
}
const UNOWNED = {
	context: null,
	owner: null,
	owned: null,
	cleanups: null
};
let Owner = null;
function createOwner() {
	const o$3 = {
		owner: Owner,
		context: Owner ? Owner.context : null,
		owned: null,
		cleanups: null
	};
	if (Owner) if (!Owner.owned) Owner.owned = [o$3];
	else Owner.owned.push(o$3);
	return o$3;
}
function createRoot(fn$1, detachedOwner) {
	const owner = Owner, current = detachedOwner === void 0 ? owner : detachedOwner, root = fn$1.length === 0 ? UNOWNED : {
		context: current ? current.context : null,
		owner: current,
		owned: null,
		cleanups: null
	};
	Owner = root;
	let result;
	try {
		result = fn$1(fn$1.length === 0 ? () => {} : () => cleanNode(root));
	} catch (err) {
		handleError(err);
	} finally {
		Owner = owner;
	}
	return result;
}
function createSignal(value, options) {
	return [() => value, (v$3) => {
		return value = typeof v$3 === "function" ? v$3(value) : v$3;
	}];
}
function createMemo(fn$1, value) {
	Owner = createOwner();
	let v$3;
	try {
		v$3 = fn$1(value);
	} catch (err) {
		handleError(err);
	} finally {
		Owner = Owner.owner;
	}
	return () => v$3;
}
function cleanNode(node) {
	if (node.owned) {
		for (let i$1 = 0; i$1 < node.owned.length; i$1++) cleanNode(node.owned[i$1]);
		node.owned = null;
	}
	if (node.cleanups) {
		for (let i$1 = 0; i$1 < node.cleanups.length; i$1++) node.cleanups[i$1]();
		node.cleanups = null;
	}
}
function createContext(defaultValue) {
	const id = Symbol("context");
	return {
		id,
		Provider: createProvider(id),
		defaultValue
	};
}
function children(fn$1) {
	const memo = createMemo(() => resolveChildren(fn$1()));
	memo.toArray = () => {
		const c$3 = memo();
		return Array.isArray(c$3) ? c$3 : c$3 != null ? [c$3] : [];
	};
	return memo;
}
function resolveChildren(children$1) {
	if (typeof children$1 === "function" && !children$1.length) return resolveChildren(children$1());
	if (Array.isArray(children$1)) {
		const results = [];
		for (let i$1 = 0; i$1 < children$1.length; i$1++) {
			const result = resolveChildren(children$1[i$1]);
			Array.isArray(result) ? results.push.apply(results, result) : results.push(result);
		}
		return results;
	}
	return children$1;
}
function createProvider(id) {
	return function provider(props) {
		return createMemo(() => {
			Owner.context = {
				...Owner.context,
				[id]: props.value
			};
			return children(() => props.children);
		});
	};
}
const sharedConfig = {
	context: void 0,
	getContextId() {
		if (!this.context) throw new Error(\`getContextId cannot be used under non-hydrating context\`);
		return getContextId(this.context.count);
	},
	getNextContextId() {
		if (!this.context) throw new Error(\`getNextContextId cannot be used under non-hydrating context\`);
		return getContextId(this.context.count++);
	}
};
function getContextId(count) {
	const num = String(count), len = num.length - 1;
	return sharedConfig.context.id + (len ? String.fromCharCode(96 + len) : "") + num;
}
const SuspenseContext = createContext();

//#endregion
//#region node_modules/solid-js/node_modules/seroval/dist/esm/production/index.mjs
var L$2 = ((i$1) => (i$1[i$1.AggregateError = 1] = "AggregateError", i$1[i$1.ArrowFunction = 2] = "ArrowFunction", i$1[i$1.ErrorPrototypeStack = 4] = "ErrorPrototypeStack", i$1[i$1.ObjectAssign = 8] = "ObjectAssign", i$1[i$1.BigIntTypedArray = 16] = "BigIntTypedArray", i$1[i$1.RegExp = 32] = "RegExp", i$1))(L$2 || {});
var v$2 = Symbol.asyncIterator, mr$1 = Symbol.hasInstance, R$1 = Symbol.isConcatSpreadable, C$1 = Symbol.iterator, pr$1 = Symbol.match, dr$1 = Symbol.matchAll, gr$1 = Symbol.replace, yr$1 = Symbol.search, Nr$1 = Symbol.species, br$1 = Symbol.split, vr$1 = Symbol.toPrimitive, P$2 = Symbol.toStringTag, Cr$1 = Symbol.unscopables;
var rt$1 = {
	0: "Symbol.asyncIterator",
	1: "Symbol.hasInstance",
	2: "Symbol.isConcatSpreadable",
	3: "Symbol.iterator",
	4: "Symbol.match",
	5: "Symbol.matchAll",
	6: "Symbol.replace",
	7: "Symbol.search",
	8: "Symbol.species",
	9: "Symbol.split",
	10: "Symbol.toPrimitive",
	11: "Symbol.toStringTag",
	12: "Symbol.unscopables"
}, ve$1 = {
	[v$2]: 0,
	[mr$1]: 1,
	[R$1]: 2,
	[C$1]: 3,
	[pr$1]: 4,
	[dr$1]: 5,
	[gr$1]: 6,
	[yr$1]: 7,
	[Nr$1]: 8,
	[br$1]: 9,
	[vr$1]: 10,
	[P$2]: 11,
	[Cr$1]: 12
}, tt$1 = {
	0: v$2,
	1: mr$1,
	2: R$1,
	3: C$1,
	4: pr$1,
	5: dr$1,
	6: gr$1,
	7: yr$1,
	8: Nr$1,
	9: br$1,
	10: vr$1,
	11: P$2,
	12: Cr$1
}, nt$1 = {
	2: "!0",
	3: "!1",
	1: "void 0",
	0: "null",
	4: "-0",
	5: "1/0",
	6: "-1/0",
	7: "0/0"
}, o$2 = void 0, ot$1 = {
	2: !0,
	3: !1,
	1: o$2,
	0: null,
	4: -0,
	5: Number.POSITIVE_INFINITY,
	6: Number.NEGATIVE_INFINITY,
	7: NaN
};
var Ce = {
	0: "Error",
	1: "EvalError",
	2: "RangeError",
	3: "ReferenceError",
	4: "SyntaxError",
	5: "TypeError",
	6: "URIError"
}, at = {
	0: Error,
	1: EvalError,
	2: RangeError,
	3: ReferenceError,
	4: SyntaxError,
	5: TypeError,
	6: URIError
};
function c$2(e, r, t, n$1, a, s, i$1, u$1, l$1, g$1, S, d$1) {
	return {
		t: e,
		i: r,
		s: t,
		c: n$1,
		m: a,
		p: s,
		e: i$1,
		a: u$1,
		f: l$1,
		b: g$1,
		o: S,
		l: d$1
	};
}
function F$1(e) {
	return c$2(2, o$2, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
var J$1 = F$1(2), Z$1 = F$1(3), Ae$1 = F$1(1), Ee$1 = F$1(0), st$1 = F$1(4), it$1 = F$1(5), ut$1 = F$1(6), lt$1 = F$1(7);
function fn(e) {
	switch (e) {
		case "\\"": return "\\\\\\"";
		case "\\\\": return "\\\\\\\\";
		case \`
\`: return "\\\\n";
		case "\\r": return "\\\\r";
		case "\\b": return "\\\\b";
		case "	": return "\\\\t";
		case "\\f": return "\\\\f";
		case "<": return "\\\\x3C";
		case "\\u2028": return "\\\\u2028";
		case "\\u2029": return "\\\\u2029";
		default: return o$2;
	}
}
function y$1(e) {
	let r = "", t = 0, n$1;
	for (let a = 0, s = e.length; a < s; a++) n$1 = fn(e[a]), n$1 && (r += e.slice(t, a) + n$1, t = a + 1);
	return t === 0 ? r = e : r += e.slice(t), r;
}
var U$1 = "__SEROVAL_REFS__", ce$1 = "$R", Ie$1 = \`self.\${ce$1}\`;
function mn(e) {
	return e == null ? \`\${Ie$1}=\${Ie$1}||[]\` : \`(\${Ie$1}=\${Ie$1}||{})["\${y$1(e)}"]=[]\`;
}
var Ar$1 = /* @__PURE__ */ new Map(), j$1 = /* @__PURE__ */ new Map();
function Er(e) {
	return Ar$1.has(e);
}
function ct(e) {
	if (Er(e)) return Ar$1.get(e);
	throw new Re(e);
}
typeof globalThis != "undefined" ? Object.defineProperty(globalThis, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof window != "undefined" ? Object.defineProperty(window, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof self != "undefined" ? Object.defineProperty(self, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof global != "undefined" && Object.defineProperty(global, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
});
function xe(e) {
	return e instanceof EvalError ? 1 : e instanceof RangeError ? 2 : e instanceof ReferenceError ? 3 : e instanceof SyntaxError ? 4 : e instanceof TypeError ? 5 : e instanceof URIError ? 6 : 0;
}
function gn(e) {
	let r = Ce[xe(e)];
	return e.name !== r ? { name: e.name } : e.constructor.name !== r ? { name: e.constructor.name } : {};
}
function $$1(e, r) {
	let t = gn(e), n$1 = Object.getOwnPropertyNames(e);
	for (let a = 0, s = n$1.length, i$1; a < s; a++) i$1 = n$1[a], i$1 !== "name" && i$1 !== "message" && (i$1 === "stack" ? r & 4 && (t = t || {}, t[i$1] = e[i$1]) : (t = t || {}, t[i$1] = e[i$1]));
	return t;
}
function Oe(e) {
	return Object.isFrozen(e) ? 3 : Object.isSealed(e) ? 2 : Object.isExtensible(e) ? 0 : 1;
}
function Te(e) {
	switch (e) {
		case Number.POSITIVE_INFINITY: return it$1;
		case Number.NEGATIVE_INFINITY: return ut$1;
	}
	return e !== e ? lt$1 : Object.is(e, -0) ? st$1 : c$2(0, o$2, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function X(e) {
	return c$2(1, o$2, y$1(e), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function we(e) {
	return c$2(3, o$2, "" + e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function mt(e) {
	return c$2(4, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function he(e, r) {
	let t = r.valueOf();
	return c$2(5, e, t !== t ? "" : r.toISOString(), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function ze(e, r) {
	return c$2(6, e, o$2, y$1(r.source), r.flags, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function pt(e, r) {
	return c$2(17, e, ve$1[r], o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function dt(e, r) {
	return c$2(18, e, y$1(ct(r)), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function fe$1(e, r, t) {
	return c$2(25, e, t, y$1(r), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function _e(e, r, t) {
	return c$2(9, e, o$2, o$2, o$2, o$2, o$2, t, o$2, o$2, Oe(r), o$2);
}
function ke(e, r) {
	return c$2(21, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function De(e, r, t) {
	return c$2(15, e, o$2, r.constructor.name, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.length);
}
function Fe(e, r, t) {
	return c$2(16, e, o$2, r.constructor.name, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.byteLength);
}
function Be(e, r, t) {
	return c$2(20, e, o$2, o$2, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.byteLength);
}
function Ve(e, r, t) {
	return c$2(13, e, xe(r), o$2, y$1(r.message), t, o$2, o$2, o$2, o$2, o$2, o$2);
}
function Me(e, r, t) {
	return c$2(14, e, xe(r), o$2, y$1(r.message), t, o$2, o$2, o$2, o$2, o$2, o$2);
}
function Le(e, r) {
	return c$2(7, e, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2, o$2);
}
function Ue(e, r) {
	return c$2(28, o$2, o$2, o$2, o$2, o$2, o$2, [e, r], o$2, o$2, o$2, o$2);
}
function je(e, r) {
	return c$2(30, o$2, o$2, o$2, o$2, o$2, o$2, [e, r], o$2, o$2, o$2, o$2);
}
function Ye(e, r, t) {
	return c$2(31, e, o$2, o$2, o$2, o$2, o$2, t, r, o$2, o$2, o$2);
}
function qe(e, r) {
	return c$2(32, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function We(e, r) {
	return c$2(33, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function Ge(e, r) {
	return c$2(34, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function Ke(e, r, t, n$1) {
	return c$2(35, e, t, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2, n$1);
}
var { toString: ys$1 } = Object.prototype;
var yn = {
	parsing: 1,
	serialization: 2,
	deserialization: 3
};
function Nn(e) {
	return \`Seroval Error (step: \${yn[e]})\`;
}
var bn = (e, r) => Nn(e), Se = class extends Error {
	constructor(t, n$1) {
		super(bn(t, n$1));
		this.cause = n$1;
	}
}, z = class extends Se {
	constructor(r) {
		super("parsing", r);
	}
}, Ir = class extends Se {
	constructor(r) {
		super("serialization", r);
	}
}, He = class extends Se {
	constructor(r) {
		super("deserialization", r);
	}
};
function _(e) {
	return \`Seroval Error (specific: \${e})\`;
}
var x$1 = class extends Error {
	constructor(t) {
		super(_(1));
		this.value = t;
	}
}, w$1 = class extends Error {
	constructor(r) {
		super(_(2));
	}
}, Q = class extends Error {
	constructor(r) {
		super(_(3));
	}
}, V = class extends Error {
	constructor(r) {
		super(_(4));
	}
}, Re = class extends Error {
	constructor(t) {
		super(_(5));
		this.value = t;
	}
}, Pe = class extends Error {
	constructor(r) {
		super(_(6));
	}
}, Je = class extends Error {
	constructor(r) {
		super(_(7));
	}
}, h$1 = class extends Error {
	constructor(r) {
		super(_(8));
	}
}, gt = class extends Error {
	constructor(r) {
		super(_(9));
	}
}, ee = class extends Error {
	constructor(r) {
		super(_(9));
	}
};
var Y$1 = class {
	constructor(r, t) {
		this.value = r;
		this.replacement = t;
	}
};
var re$1 = () => {
	let e = {
		p: 0,
		s: 0,
		f: 0
	};
	return e.p = new Promise((r, t) => {
		e.s = r, e.f = t;
	}), e;
}, vn$1 = (e, r) => {
	e.s(r), e.p.s = 1, e.p.v = r;
}, Cn$1 = (e, r) => {
	e.f(r), e.p.s = 2, e.p.v = r;
}, yt$1 = re$1.toString(), Nt$1 = vn$1.toString(), bt$1 = Cn$1.toString(), Rr$1 = () => {
	let e = [], r = [], t = !0, n$1 = !1, a = 0, s = (l$1, g$1, S) => {
		for (S = 0; S < a; S++) r[S] && r[S][g$1](l$1);
	}, i$1 = (l$1, g$1, S, d$1) => {
		for (g$1 = 0, S = e.length; g$1 < S; g$1++) d$1 = e[g$1], !t && g$1 === S - 1 ? l$1[n$1 ? "return" : "throw"](d$1) : l$1.next(d$1);
	}, u$1 = (l$1, g$1) => (t && (g$1 = a++, r[g$1] = l$1), i$1(l$1), () => {
		t && (r[g$1] = r[a], r[a--] = void 0);
	});
	return {
		__SEROVAL_STREAM__: !0,
		on: (l$1) => u$1(l$1),
		next: (l$1) => {
			t && (e.push(l$1), s(l$1, "next"));
		},
		throw: (l$1) => {
			t && (e.push(l$1), s(l$1, "throw"), t = !1, n$1 = !1, r.length = 0);
		},
		return: (l$1) => {
			t && (e.push(l$1), s(l$1, "return"), t = !1, n$1 = !0, r.length = 0);
		}
	};
}, vt$1 = Rr$1.toString(), Pr$1 = (e) => (r) => () => {
	let t = 0, n$1 = {
		[e]: () => n$1,
		next: () => {
			if (t > r.d) return {
				done: !0,
				value: void 0
			};
			let a = t++, s = r.v[a];
			if (a === r.t) throw s;
			return {
				done: a === r.d,
				value: s
			};
		}
	};
	return n$1;
}, Ct$1 = Pr$1.toString(), xr$1 = (e, r) => (t) => () => {
	let n$1 = 0, a = -1, s = !1, i$1 = [], u$1 = [], l$1 = (S = 0, d$1 = u$1.length) => {
		for (; S < d$1; S++) u$1[S].s({
			done: !0,
			value: void 0
		});
	};
	t.on({
		next: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !1,
				value: S
			}), i$1.push(S);
		},
		throw: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.f(S), l$1(), a = i$1.length, s = !0, i$1.push(S);
		},
		return: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !0,
				value: S
			}), l$1(), a = i$1.length, i$1.push(S);
		}
	});
	let g$1 = {
		[e]: () => g$1,
		next: () => {
			if (a === -1) {
				let K$1 = n$1++;
				if (K$1 >= i$1.length) {
					let et = r();
					return u$1.push(et), et.p;
				}
				return {
					done: !1,
					value: i$1[K$1]
				};
			}
			if (n$1 > a) return {
				done: !0,
				value: void 0
			};
			let S = n$1++, d$1 = i$1[S];
			if (S !== a) return {
				done: !1,
				value: d$1
			};
			if (s) throw d$1;
			return {
				done: !0,
				value: d$1
			};
		}
	};
	return g$1;
}, At$1 = xr$1.toString(), Or$1 = (e) => {
	let r = atob(e), t = r.length, n$1 = new Uint8Array(t);
	for (let a = 0; a < t; a++) n$1[a] = r.charCodeAt(a);
	return n$1.buffer;
}, Et$1 = Or$1.toString();
function Ze(e) {
	return "__SEROVAL_SEQUENCE__" in e;
}
function Tr(e, r, t) {
	return {
		__SEROVAL_SEQUENCE__: !0,
		v: e,
		t: r,
		d: t
	};
}
function $e(e) {
	let r = [], t = -1, n$1 = -1, a = e[C$1]();
	for (;;) try {
		let s = a.next();
		if (r.push(s.value), s.done) {
			n$1 = r.length - 1;
			break;
		}
	} catch (s) {
		t = r.length, r.push(s);
	}
	return Tr(r, t, n$1);
}
var An$1 = Pr$1(C$1);
var Rt = {}, Pt = {};
var xt = {
	0: {},
	1: {},
	2: {},
	3: {},
	4: {},
	5: {}
}, Ot = {
	0: "[]",
	1: yt$1,
	2: Nt$1,
	3: bt$1,
	4: vt$1,
	5: Et$1
};
function M(e) {
	return "__SEROVAL_STREAM__" in e;
}
function te$2() {
	return Rr$1();
}
function Xe(e) {
	let r = te$2(), t = e[v$2]();
	async function n$1() {
		try {
			let a = await t.next();
			a.done ? r.return(a.value) : (r.next(a.value), await n$1());
		} catch (a) {
			r.throw(a);
		}
	}
	return n$1().catch(() => {}), r;
}
var En$1 = xr$1(v$2, re$1);
function pe$1(e, r) {
	return {
		plugins: r.plugins,
		mode: e,
		marked: /* @__PURE__ */ new Set(),
		features: 63 ^ (r.disabledFeatures || 0),
		refs: r.refs || /* @__PURE__ */ new Map(),
		depthLimit: r.depthLimit || 1e3
	};
}
function de(e, r) {
	e.marked.add(r);
}
function hr(e, r) {
	let t = e.refs.size;
	return e.refs.set(r, t), t;
}
function Qe(e, r) {
	let t = e.refs.get(r);
	return t != null ? (de(e, t), {
		type: 1,
		value: mt(t)
	}) : {
		type: 0,
		value: hr(e, r)
	};
}
function q$1(e, r) {
	let t = Qe(e, r);
	return t.type === 1 ? t : Er(r) ? {
		type: 2,
		value: dt(t.value, r)
	} : t;
}
function I(e, r) {
	let t = q$1(e, r);
	if (t.type !== 0) return t.value;
	if (r in ve$1) return pt(t.value, r);
	throw new x$1(r);
}
function k(e, r) {
	let t = Qe(e, xt[r]);
	return t.type === 1 ? t.value : c$2(26, t.value, r, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function er(e) {
	let r = Qe(e, Rt);
	return r.type === 1 ? r.value : c$2(27, r.value, o$2, o$2, o$2, o$2, o$2, o$2, I(e, C$1), o$2, o$2, o$2);
}
function rr(e) {
	let r = Qe(e, Pt);
	return r.type === 1 ? r.value : c$2(29, r.value, o$2, o$2, o$2, o$2, o$2, [k(e, 1), I(e, v$2)], o$2, o$2, o$2, o$2);
}
function tr(e, r, t, n$1) {
	return c$2(t ? 11 : 10, e, o$2, o$2, o$2, n$1, o$2, o$2, o$2, o$2, Oe(r), o$2);
}
function nr(e, r, t, n$1) {
	return c$2(8, r, o$2, o$2, o$2, o$2, {
		k: t,
		v: n$1
	}, o$2, k(e, 0), o$2, o$2, o$2);
}
function ht(e, r, t) {
	return c$2(22, r, t, o$2, o$2, o$2, o$2, o$2, k(e, 1), o$2, o$2, o$2);
}
function or(e, r, t) {
	let n$1 = new Uint8Array(t), a = "";
	for (let s = 0, i$1 = n$1.length; s < i$1; s++) a += String.fromCharCode(n$1[s]);
	return c$2(19, r, y$1(btoa(a)), o$2, o$2, o$2, o$2, o$2, k(e, 5), o$2, o$2, o$2);
}
var ae$1 = ((t) => (t[t.Vanilla = 1] = "Vanilla", t[t.Cross = 2] = "Cross", t))(ae$1 || {});
function kt(e, r) {
	for (let t = 0, n$1 = r.length; t < n$1; t++) {
		let a = r[t];
		e.has(a) || (e.add(a), a.extends && kt(e, a.extends));
	}
}
function A(e) {
	if (e) {
		let r = /* @__PURE__ */ new Set();
		return kt(r, e), [...r];
	}
}
var Eo$1 = () => T, Io$1 = Eo$1.toString(), qt$1 = /=>/.test(Io$1);
function sr(e, r) {
	return qt$1 ? (e.length === 1 ? e[0] : "(" + e.join(",") + ")") + "=>" + (r.startsWith("{") ? "(" + r + ")" : r) : "function(" + e.join(",") + "){return " + r + "}";
}
function Wt(e, r) {
	return qt$1 ? (e.length === 1 ? e[0] : "(" + e.join(",") + ")") + "=>{" + r + "}" : "function(" + e.join(",") + "){" + r + "}";
}
var Ht$1 = "hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_", Gt$1 = Ht$1.length, Jt$1 = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_", Kt$1 = Jt$1.length;
function Br(e) {
	let r = e % Gt$1, t = Ht$1[r];
	for (e = (e - r) / Gt$1; e > 0;) r = e % Kt$1, t += Jt$1[r], e = (e - r) / Kt$1;
	return t;
}
var Ro = /^[$A-Z_][0-9A-Z_$]*$/i;
function Vr(e) {
	let r = e[0];
	return (r === "$" || r === "_" || r >= "A" && r <= "Z" || r >= "a" && r <= "z") && Ro.test(e);
}
function ye(e) {
	switch (e.t) {
		case 0: return e.s + "=" + e.v;
		case 2: return e.s + ".set(" + e.k + "," + e.v + ")";
		case 1: return e.s + ".add(" + e.v + ")";
		case 3: return e.s + ".delete(" + e.k + ")";
	}
}
function Po(e) {
	let r = [], t = e[0];
	for (let n$1 = 1, a = e.length, s, i$1 = t; n$1 < a; n$1++) s = e[n$1], s.t === 0 && s.v === i$1.v ? t = {
		t: 0,
		s: s.s,
		k: o$2,
		v: ye(t)
	} : s.t === 2 && s.s === i$1.s ? t = {
		t: 2,
		s: ye(t),
		k: s.k,
		v: s.v
	} : s.t === 1 && s.s === i$1.s ? t = {
		t: 1,
		s: ye(t),
		k: o$2,
		v: s.v
	} : s.t === 3 && s.s === i$1.s ? t = {
		t: 3,
		s: ye(t),
		k: s.k,
		v: o$2
	} : (r.push(t), t = s), i$1 = s;
	return r.push(t), r;
}
function tn(e) {
	if (e.length) {
		let r = "", t = Po(e);
		for (let n$1 = 0, a = t.length; n$1 < a; n$1++) r += ye(t[n$1]) + ",";
		return r;
	}
	return o$2;
}
var xo = "Object.create(null)", Oo = "new Set", To = "new Map", wo = "Promise.resolve", ho = "Promise.reject", zo = {
	3: "Object.freeze",
	2: "Object.seal",
	1: "Object.preventExtensions",
	0: o$2
};
function nn(e, r) {
	return {
		mode: e,
		plugins: r.plugins,
		features: r.features,
		marked: new Set(r.markedRefs),
		stack: [],
		flags: [],
		assignments: []
	};
}
function ur(e) {
	return {
		mode: 2,
		base: nn(2, e),
		state: e,
		child: o$2
	};
}
var Mr = class {
	constructor(r) {
		this._p = r;
	}
	serialize(r) {
		return f$1(this._p, r);
	}
};
function ko(e, r) {
	let t = e.valid.get(r);
	t ?? (t = e.valid.size, e.valid.set(r, t));
	let n$1 = e.vars[t];
	return n$1 ?? (n$1 = Br(t), e.vars[t] = n$1), n$1;
}
function Do(e) {
	return ce$1 + "[" + e + "]";
}
function m$1(e, r) {
	return e.mode === 1 ? ko(e.state, r) : Do(r);
}
function O$1(e, r) {
	e.marked.add(r);
}
function Lr(e, r) {
	return e.marked.has(r);
}
function jr(e, r, t) {
	r !== 0 && (O$1(e.base, t), e.base.flags.push({
		type: r,
		value: m$1(e, t)
	}));
}
function Fo(e) {
	let r = "";
	for (let t = 0, n$1 = e.flags, a = n$1.length; t < a; t++) {
		let s = n$1[t];
		r += zo[s.type] + "(" + s.value + "),";
	}
	return r;
}
function on(e) {
	let r = tn(e.assignments), t = Fo(e);
	return r ? t ? r + t : r : t;
}
function Yr(e, r, t) {
	e.assignments.push({
		t: 0,
		s: r,
		k: o$2,
		v: t
	});
}
function Bo(e, r, t) {
	e.base.assignments.push({
		t: 1,
		s: m$1(e, r),
		k: o$2,
		v: t
	});
}
function ge(e, r, t, n$1) {
	e.base.assignments.push({
		t: 2,
		s: m$1(e, r),
		k: t,
		v: n$1
	});
}
function Zt(e, r, t) {
	e.base.assignments.push({
		t: 3,
		s: m$1(e, r),
		k: t,
		v: o$2
	});
}
function Ne(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + "[" + t + "]", n$1);
}
function Ur(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + "." + t, n$1);
}
function Vo(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + ".v[" + t + "]", n$1);
}
function D$1(e, r) {
	return r.t === 4 && e.stack.includes(r.i);
}
function se(e, r, t) {
	return e.mode === 1 && !Lr(e.base, r) ? t : m$1(e, r) + "=" + t;
}
function Mo(e) {
	return U$1 + ".get(\\"" + e.s + "\\")";
}
function $t(e, r, t, n$1) {
	return t ? D$1(e.base, t) ? (O$1(e.base, r), Ne(e, r, n$1, m$1(e, t.i)), "") : f$1(e, t) : "";
}
function Lo(e, r) {
	let t = r.i, n$1 = r.a, a = n$1.length;
	if (a > 0) {
		e.base.stack.push(t);
		let s = $t(e, t, n$1[0], 0), i$1 = s === "";
		for (let u$1 = 1, l$1; u$1 < a; u$1++) l$1 = $t(e, t, n$1[u$1], u$1), s += "," + l$1, i$1 = l$1 === "";
		return e.base.stack.pop(), jr(e, r.o, r.i), "[" + s + (i$1 ? ",]" : "]");
	}
	return "[]";
}
function Xt(e, r, t, n$1) {
	if (typeof t == "string") {
		let a = Number(t), s = a >= 0 && a.toString() === t || Vr(t);
		if (D$1(e.base, n$1)) {
			let i$1 = m$1(e, n$1.i);
			return O$1(e.base, r.i), s && a !== a ? Ur(e, r.i, t, i$1) : Ne(e, r.i, s ? t : "\\"" + t + "\\"", i$1), "";
		}
		return (s ? t : "\\"" + t + "\\"") + ":" + f$1(e, n$1);
	}
	return "[" + f$1(e, t) + "]:" + f$1(e, n$1);
}
function an(e, r, t) {
	let n$1 = t.k, a = n$1.length;
	if (a > 0) {
		let s = t.v;
		e.base.stack.push(r.i);
		let i$1 = Xt(e, r, n$1[0], s[0]);
		for (let u$1 = 1, l$1 = i$1; u$1 < a; u$1++) l$1 = Xt(e, r, n$1[u$1], s[u$1]), i$1 += (l$1 && i$1 && ",") + l$1;
		return e.base.stack.pop(), "{" + i$1 + "}";
	}
	return "{}";
}
function Uo(e, r) {
	return jr(e, r.o, r.i), an(e, r, r.p);
}
function jo(e, r, t, n$1) {
	let a = an(e, r, t);
	return a !== "{}" ? "Object.assign(" + n$1 + "," + a + ")" : n$1;
}
function Yo(e, r, t, n$1, a) {
	let s = e.base, i$1 = f$1(e, a), u$1 = Number(n$1), l$1 = u$1 >= 0 && u$1.toString() === n$1 || Vr(n$1);
	if (D$1(s, a)) l$1 && u$1 !== u$1 ? Ur(e, r.i, n$1, i$1) : Ne(e, r.i, l$1 ? n$1 : "\\"" + n$1 + "\\"", i$1);
	else {
		let g$1 = s.assignments;
		s.assignments = t, l$1 && u$1 !== u$1 ? Ur(e, r.i, n$1, i$1) : Ne(e, r.i, l$1 ? n$1 : "\\"" + n$1 + "\\"", i$1), s.assignments = g$1;
	}
}
function qo(e, r, t, n$1, a) {
	if (typeof n$1 == "string") Yo(e, r, t, n$1, a);
	else {
		let s = e.base, i$1 = s.stack;
		s.stack = [];
		let u$1 = f$1(e, a);
		s.stack = i$1;
		let l$1 = s.assignments;
		s.assignments = t, Ne(e, r.i, f$1(e, n$1), u$1), s.assignments = l$1;
	}
}
function Wo(e, r, t) {
	let n$1 = t.k, a = n$1.length;
	if (a > 0) {
		let s = [], i$1 = t.v;
		e.base.stack.push(r.i);
		for (let u$1 = 0; u$1 < a; u$1++) qo(e, r, s, n$1[u$1], i$1[u$1]);
		return e.base.stack.pop(), tn(s);
	}
	return o$2;
}
function qr(e, r, t) {
	if (r.p) {
		let n$1 = e.base;
		if (n$1.features & 8) t = jo(e, r, r.p, t);
		else {
			O$1(n$1, r.i);
			let a = Wo(e, r, r.p);
			if (a) return "(" + se(e, r.i, t) + "," + a + m$1(e, r.i) + ")";
		}
	}
	return t;
}
function Go(e, r) {
	return jr(e, r.o, r.i), qr(e, r, xo);
}
function Ko(e) {
	return "new Date(\\"" + e.s + "\\")";
}
function Ho(e, r) {
	if (e.base.features & 32) return "/" + r.c + "/" + r.m;
	throw new w$1(r);
}
function Qt(e, r, t) {
	let n$1 = e.base;
	return D$1(n$1, t) ? (O$1(n$1, r), Bo(e, r, m$1(e, t.i)), "") : f$1(e, t);
}
function Jo(e, r) {
	let t = Oo, n$1 = r.a, a = n$1.length, s = r.i;
	if (a > 0) {
		e.base.stack.push(s);
		let i$1 = Qt(e, s, n$1[0]);
		for (let u$1 = 1, l$1 = i$1; u$1 < a; u$1++) l$1 = Qt(e, s, n$1[u$1]), i$1 += (l$1 && i$1 && ",") + l$1;
		e.base.stack.pop(), i$1 && (t += "([" + i$1 + "])");
	}
	return t;
}
function en(e, r, t, n$1, a) {
	let s = e.base;
	if (D$1(s, t)) {
		let i$1 = m$1(e, t.i);
		if (O$1(s, r), D$1(s, n$1)) return ge(e, r, i$1, m$1(e, n$1.i)), "";
		if (n$1.t !== 4 && n$1.i != null && Lr(s, n$1.i)) {
			let l$1 = "(" + f$1(e, n$1) + ",[" + a + "," + a + "])";
			return ge(e, r, i$1, m$1(e, n$1.i)), Zt(e, r, a), l$1;
		}
		let u$1 = s.stack;
		return s.stack = [], ge(e, r, i$1, f$1(e, n$1)), s.stack = u$1, "";
	}
	if (D$1(s, n$1)) {
		let i$1 = m$1(e, n$1.i);
		if (O$1(s, r), t.t !== 4 && t.i != null && Lr(s, t.i)) {
			let l$1 = "(" + f$1(e, t) + ",[" + a + "," + a + "])";
			return ge(e, r, m$1(e, t.i), i$1), Zt(e, r, a), l$1;
		}
		let u$1 = s.stack;
		return s.stack = [], ge(e, r, f$1(e, t), i$1), s.stack = u$1, "";
	}
	return "[" + f$1(e, t) + "," + f$1(e, n$1) + "]";
}
function Zo(e, r) {
	let t = To, n$1 = r.e.k, a = n$1.length, s = r.i, i$1 = r.f, u$1 = m$1(e, i$1.i), l$1 = e.base;
	if (a > 0) {
		let g$1 = r.e.v;
		l$1.stack.push(s);
		let S = en(e, s, n$1[0], g$1[0], u$1);
		for (let d$1 = 1, K$1 = S; d$1 < a; d$1++) K$1 = en(e, s, n$1[d$1], g$1[d$1], u$1), S += (K$1 && S && ",") + K$1;
		l$1.stack.pop(), S && (t += "([" + S + "])");
	}
	return i$1.t === 26 && (O$1(l$1, i$1.i), t = "(" + f$1(e, i$1) + "," + t + ")"), t;
}
function $o(e, r) {
	return W(e, r.f) + "(\\"" + r.s + "\\")";
}
function Xo(e, r) {
	return "new " + r.c + "(" + f$1(e, r.f) + "," + r.b + "," + r.l + ")";
}
function Qo(e, r) {
	return "new DataView(" + f$1(e, r.f) + "," + r.b + "," + r.l + ")";
}
function ea(e, r) {
	let t = r.i;
	e.base.stack.push(t);
	let n$1 = qr(e, r, "new AggregateError([],\\"" + r.m + "\\")");
	return e.base.stack.pop(), n$1;
}
function ra(e, r) {
	return qr(e, r, "new " + Ce[r.s] + "(\\"" + r.m + "\\")");
}
function ta(e, r) {
	let t, n$1 = r.f, a = r.i, s = r.s ? wo : ho, i$1 = e.base;
	if (D$1(i$1, n$1)) {
		let u$1 = m$1(e, n$1.i);
		t = s + (r.s ? "().then(" + sr([], u$1) + ")" : "().catch(" + Wt([], "throw " + u$1) + ")");
	} else {
		i$1.stack.push(a);
		let u$1 = f$1(e, n$1);
		i$1.stack.pop(), t = s + "(" + u$1 + ")";
	}
	return t;
}
function na(e, r) {
	return "Object(" + f$1(e, r.f) + ")";
}
function W(e, r) {
	let t = f$1(e, r);
	return r.t === 4 ? t : "(" + t + ")";
}
function oa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return "(" + se(e, r.s, W(e, r.f) + "()") + ").p";
}
function aa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return W(e, r.a[0]) + "(" + m$1(e, r.i) + "," + f$1(e, r.a[1]) + ")";
}
function sa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return W(e, r.a[0]) + "(" + m$1(e, r.i) + "," + f$1(e, r.a[1]) + ")";
}
function ia(e, r) {
	let t = e.base.plugins;
	if (t) for (let n$1 = 0, a = t.length; n$1 < a; n$1++) {
		let s = t[n$1];
		if (s.tag === r.c) return e.child ??= new Mr(e), s.serialize(r.s, e.child, { id: r.i });
	}
	throw new Q(r.c);
}
function ua(e, r) {
	let t = "", n$1 = !1;
	return r.f.t !== 4 && (O$1(e.base, r.f.i), t = "(" + f$1(e, r.f) + ",", n$1 = !0), t += se(e, r.i, "(" + Ct$1 + ")(" + m$1(e, r.f.i) + ")"), n$1 && (t += ")"), t;
}
function la(e, r) {
	return W(e, r.a[0]) + "(" + f$1(e, r.a[1]) + ")";
}
function ca(e, r) {
	let t = r.a[0], n$1 = r.a[1], a = e.base, s = "";
	t.t !== 4 && (O$1(a, t.i), s += "(" + f$1(e, t)), n$1.t !== 4 && (O$1(a, n$1.i), s += (s ? "," : "(") + f$1(e, n$1)), s && (s += ",");
	let i$1 = se(e, r.i, "(" + At$1 + ")(" + m$1(e, n$1.i) + "," + m$1(e, t.i) + ")");
	return s ? s + i$1 + ")" : i$1;
}
function fa(e, r) {
	return W(e, r.a[0]) + "(" + f$1(e, r.a[1]) + ")";
}
function Sa(e, r) {
	let t = se(e, r.i, W(e, r.f) + "()"), n$1 = r.a.length;
	if (n$1) {
		let a = f$1(e, r.a[0]);
		for (let s = 1; s < n$1; s++) a += "," + f$1(e, r.a[s]);
		return "(" + t + "," + a + "," + m$1(e, r.i) + ")";
	}
	return t;
}
function ma(e, r) {
	return m$1(e, r.i) + ".next(" + f$1(e, r.f) + ")";
}
function pa(e, r) {
	return m$1(e, r.i) + ".throw(" + f$1(e, r.f) + ")";
}
function da(e, r) {
	return m$1(e, r.i) + ".return(" + f$1(e, r.f) + ")";
}
function rn(e, r, t, n$1) {
	let a = e.base;
	return D$1(a, n$1) ? (O$1(a, r), Vo(e, r, t, m$1(e, n$1.i)), "") : f$1(e, n$1);
}
function ga(e, r) {
	let t = r.a, n$1 = t.length, a = r.i;
	if (n$1 > 0) {
		e.base.stack.push(a);
		let s = rn(e, a, 0, t[0]);
		for (let i$1 = 1, u$1 = s; i$1 < n$1; i$1++) u$1 = rn(e, a, i$1, t[i$1]), s += (u$1 && s && ",") + u$1;
		if (e.base.stack.pop(), s) return "{__SEROVAL_SEQUENCE__:!0,v:[" + s + "],t:" + r.s + ",d:" + r.l + "}";
	}
	return "{__SEROVAL_SEQUENCE__:!0,v:[],t:-1,d:0}";
}
function ya(e, r) {
	switch (r.t) {
		case 17: return rt$1[r.s];
		case 18: return Mo(r);
		case 9: return Lo(e, r);
		case 10: return Uo(e, r);
		case 11: return Go(e, r);
		case 5: return Ko(r);
		case 6: return Ho(e, r);
		case 7: return Jo(e, r);
		case 8: return Zo(e, r);
		case 19: return $o(e, r);
		case 16:
		case 15: return Xo(e, r);
		case 20: return Qo(e, r);
		case 14: return ea(e, r);
		case 13: return ra(e, r);
		case 12: return ta(e, r);
		case 21: return na(e, r);
		case 22: return oa(e, r);
		case 25: return ia(e, r);
		case 26: return Ot[r.s];
		case 35: return ga(e, r);
		default: throw new w$1(r);
	}
}
function f$1(e, r) {
	switch (r.t) {
		case 2: return nt$1[r.s];
		case 0: return "" + r.s;
		case 1: return "\\"" + r.s + "\\"";
		case 3: return r.s + "n";
		case 4: return m$1(e, r.i);
		case 23: return aa(e, r);
		case 24: return sa(e, r);
		case 27: return ua(e, r);
		case 28: return la(e, r);
		case 29: return ca(e, r);
		case 30: return fa(e, r);
		case 31: return Sa(e, r);
		case 32: return ma(e, r);
		case 33: return pa(e, r);
		case 34: return da(e, r);
		default: return se(e, r.i, ya(e, r));
	}
}
function cr(e, r) {
	let t = f$1(e, r), n$1 = r.i;
	if (n$1 == null) return t;
	let a = on(e.base), s = m$1(e, n$1), i$1 = e.state.scopeId, u$1 = i$1 == null ? "" : ce$1, l$1 = a ? "(" + t + "," + a + s + ")" : t;
	if (u$1 === "") return r.t === 10 && !a ? "(" + l$1 + ")" : l$1;
	let g$1 = i$1 == null ? "()" : "(" + ce$1 + "[\\"" + y$1(i$1) + "\\"])";
	return "(" + sr([u$1], l$1) + ")" + g$1;
}
var Gr = class {
	constructor(r, t) {
		this._p = r;
		this.depth = t;
	}
	parse(r) {
		return E$1(this._p, this.depth, r);
	}
}, Kr = class {
	constructor(r, t) {
		this._p = r;
		this.depth = t;
	}
	parse(r) {
		return E$1(this._p, this.depth, r);
	}
	parseWithError(r) {
		return G(this._p, this.depth, r);
	}
	isAlive() {
		return this._p.state.alive;
	}
	pushPendingState() {
		Xr(this._p);
	}
	popPendingState() {
		be(this._p);
	}
	onParse(r) {
		ie(this._p, r);
	}
	onError(r) {
		Zr(this._p, r);
	}
};
function Na(e) {
	return {
		alive: !0,
		pending: 0,
		initial: !0,
		buffer: [],
		onParse: e.onParse,
		onError: e.onError,
		onDone: e.onDone
	};
}
function Hr(e) {
	return {
		type: 2,
		base: pe$1(2, e),
		state: Na(e)
	};
}
function ba(e, r, t) {
	let n$1 = [];
	for (let a = 0, s = t.length; a < s; a++) a in t ? n$1[a] = E$1(e, r, t[a]) : n$1[a] = 0;
	return n$1;
}
function va(e, r, t, n$1) {
	return _e(t, n$1, ba(e, r, n$1));
}
function Jr(e, r, t) {
	let n$1 = Object.entries(t), a = [], s = [];
	for (let i$1 = 0, u$1 = n$1.length; i$1 < u$1; i$1++) a.push(y$1(n$1[i$1][0])), s.push(E$1(e, r, n$1[i$1][1]));
	return C$1 in t && (a.push(I(e.base, C$1)), s.push(Ue(er(e.base), E$1(e, r, $e(t))))), v$2 in t && (a.push(I(e.base, v$2)), s.push(je(rr(e.base), E$1(e, r, e.type === 1 ? te$2() : Xe(t))))), P$2 in t && (a.push(I(e.base, P$2)), s.push(X(t[P$2]))), R$1 in t && (a.push(I(e.base, R$1)), s.push(t[R$1] ? J$1 : Z$1)), {
		k: a,
		v: s
	};
}
function Wr(e, r, t, n$1, a) {
	return tr(t, n$1, a, Jr(e, r, n$1));
}
function Ca(e, r, t, n$1) {
	return ke(t, E$1(e, r, n$1.valueOf()));
}
function Aa(e, r, t, n$1) {
	return De(t, n$1, E$1(e, r, n$1.buffer));
}
function Ea(e, r, t, n$1) {
	return Fe(t, n$1, E$1(e, r, n$1.buffer));
}
function Ia(e, r, t, n$1) {
	return Be(t, n$1, E$1(e, r, n$1.buffer));
}
function sn(e, r, t, n$1) {
	let a = $$1(n$1, e.base.features);
	return Ve(t, n$1, a ? Jr(e, r, a) : o$2);
}
function Ra(e, r, t, n$1) {
	let a = $$1(n$1, e.base.features);
	return Me(t, n$1, a ? Jr(e, r, a) : o$2);
}
function Pa(e, r, t, n$1) {
	let a = [], s = [];
	for (let [i$1, u$1] of n$1.entries()) a.push(E$1(e, r, i$1)), s.push(E$1(e, r, u$1));
	return nr(e.base, t, a, s);
}
function xa(e, r, t, n$1) {
	let a = [];
	for (let s of n$1.keys()) a.push(E$1(e, r, s));
	return Le(t, a);
}
function Oa(e, r, t, n$1) {
	let a = Ye(t, k(e.base, 4), []);
	return e.type === 1 || (Xr(e), n$1.on({
		next: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, qe(t, i$1));
			}
		},
		throw: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, We(t, i$1));
			}
			be(e);
		},
		return: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, Ge(t, i$1));
			}
			be(e);
		}
	})), a;
}
function Ta(e, r, t) {
	if (this.state.alive) {
		let n$1 = G(this, r, t);
		n$1 && ie(this, c$2(23, e, o$2, o$2, o$2, o$2, o$2, [k(this.base, 2), n$1], o$2, o$2, o$2, o$2)), be(this);
	}
}
function wa(e, r, t) {
	if (this.state.alive) {
		let n$1 = G(this, r, t);
		n$1 && ie(this, c$2(24, e, o$2, o$2, o$2, o$2, o$2, [k(this.base, 3), n$1], o$2, o$2, o$2, o$2));
	}
	be(this);
}
function ha(e, r, t, n$1) {
	let a = hr(e.base, {});
	return e.type === 2 && (Xr(e), n$1.then(Ta.bind(e, a, r), wa.bind(e, a, r))), ht(e.base, t, a);
}
function za(e, r, t, n$1, a) {
	for (let s = 0, i$1 = a.length; s < i$1; s++) {
		let u$1 = a[s];
		if (u$1.parse.sync && u$1.test(n$1)) return fe$1(t, u$1.tag, u$1.parse.sync(n$1, new Gr(e, r), { id: t }));
	}
	return o$2;
}
function _a(e, r, t, n$1, a) {
	for (let s = 0, i$1 = a.length; s < i$1; s++) {
		let u$1 = a[s];
		if (u$1.parse.stream && u$1.test(n$1)) return fe$1(t, u$1.tag, u$1.parse.stream(n$1, new Kr(e, r), { id: t }));
	}
	return o$2;
}
function un(e, r, t, n$1) {
	let a = e.base.plugins;
	return a ? e.type === 1 ? za(e, r, t, n$1, a) : _a(e, r, t, n$1, a) : o$2;
}
function ka(e, r, t, n$1) {
	let a = [];
	for (let s = 0, i$1 = n$1.v.length; s < i$1; s++) a[s] = E$1(e, r, n$1.v[s]);
	return Ke(t, a, n$1.t, n$1.d);
}
function Da(e, r, t, n$1, a) {
	switch (a) {
		case Object: return Wr(e, r, t, n$1, !1);
		case o$2: return Wr(e, r, t, n$1, !0);
		case Date: return he(t, n$1);
		case Error:
		case EvalError:
		case RangeError:
		case ReferenceError:
		case SyntaxError:
		case TypeError:
		case URIError: return sn(e, r, t, n$1);
		case Number:
		case Boolean:
		case String:
		case BigInt: return Ca(e, r, t, n$1);
		case ArrayBuffer: return or(e.base, t, n$1);
		case Int8Array:
		case Int16Array:
		case Int32Array:
		case Uint8Array:
		case Uint16Array:
		case Uint32Array:
		case Uint8ClampedArray:
		case Float32Array:
		case Float64Array: return Aa(e, r, t, n$1);
		case DataView: return Ia(e, r, t, n$1);
		case Map: return Pa(e, r, t, n$1);
		case Set: return xa(e, r, t, n$1);
		default: break;
	}
	if (a === Promise || n$1 instanceof Promise) return ha(e, r, t, n$1);
	let s = e.base.features;
	if (s & 32 && a === RegExp) return ze(t, n$1);
	if (s & 16) switch (a) {
		case BigInt64Array:
		case BigUint64Array: return Ea(e, r, t, n$1);
		default: break;
	}
	if (s & 1 && typeof AggregateError != "undefined" && (a === AggregateError || n$1 instanceof AggregateError)) return Ra(e, r, t, n$1);
	if (n$1 instanceof Error) return sn(e, r, t, n$1);
	if (C$1 in n$1 || v$2 in n$1) return Wr(e, r, t, n$1, !!a);
	throw new x$1(n$1);
}
function Fa(e, r, t, n$1) {
	if (Array.isArray(n$1)) return va(e, r, t, n$1);
	if (M(n$1)) return Oa(e, r, t, n$1);
	if (Ze(n$1)) return ka(e, r, t, n$1);
	let a = n$1.constructor;
	if (a === Y$1) return E$1(e, r, n$1.replacement);
	return un(e, r, t, n$1) || Da(e, r, t, n$1, a);
}
function Ba(e, r, t) {
	let n$1 = q$1(e.base, t);
	if (n$1.type !== 0) return n$1.value;
	let a = un(e, r, n$1.value, t);
	if (a) return a;
	throw new x$1(t);
}
function E$1(e, r, t) {
	if (r >= e.base.depthLimit) throw new ee(e.base.depthLimit);
	switch (typeof t) {
		case "boolean": return t ? J$1 : Z$1;
		case "undefined": return Ae$1;
		case "string": return X(t);
		case "number": return Te(t);
		case "bigint": return we(t);
		case "object":
			if (t) {
				let n$1 = q$1(e.base, t);
				return n$1.type === 0 ? Fa(e, r + 1, n$1.value, t) : n$1.value;
			}
			return Ee$1;
		case "symbol": return I(e.base, t);
		case "function": return Ba(e, r, t);
		default: throw new x$1(t);
	}
}
function ie(e, r) {
	e.state.initial ? e.state.buffer.push(r) : $r(e, r, !1);
}
function Zr(e, r) {
	if (e.state.onError) e.state.onError(r);
	else throw r instanceof z ? r : new z(r);
}
function ln(e) {
	e.state.onDone && e.state.onDone();
}
function $r(e, r, t) {
	try {
		e.state.onParse(r, t);
	} catch (n$1) {
		Zr(e, n$1);
	}
}
function Xr(e) {
	e.state.pending++;
}
function be(e) {
	--e.state.pending <= 0 && ln(e);
}
function G(e, r, t) {
	try {
		return E$1(e, r, t);
	} catch (n$1) {
		return Zr(e, n$1), o$2;
	}
}
function Qr(e, r) {
	let t = G(e, 0, r);
	t && ($r(e, t, !0), e.state.initial = !1, Va(e, e.state), e.state.pending <= 0 && fr(e));
}
function Va(e, r) {
	for (let t = 0, n$1 = r.buffer.length; t < n$1; t++) $r(e, r.buffer[t], !1);
}
function fr(e) {
	e.state.alive && (ln(e), e.state.alive = !1);
}
function cn(e, r) {
	let t = A(r.plugins), n$1 = Hr({
		plugins: t,
		refs: r.refs,
		disabledFeatures: r.disabledFeatures,
		onParse(a, s) {
			let i$1 = ur({
				plugins: t,
				features: n$1.base.features,
				scopeId: r.scopeId,
				markedRefs: n$1.base.marked
			}), u$1;
			try {
				u$1 = cr(i$1, a);
			} catch (l$1) {
				r.onError && r.onError(l$1);
				return;
			}
			r.onSerialize(u$1, s);
		},
		onError: r.onError,
		onDone: r.onDone
	});
	return Qr(n$1, e), fr.bind(null, n$1);
}
var Sr = class {
	constructor(r) {
		this.options = r;
		this.alive = !0;
		this.flushed = !1;
		this.done = !1;
		this.pending = 0;
		this.cleanups = [];
		this.refs = /* @__PURE__ */ new Map();
		this.keys = /* @__PURE__ */ new Set();
		this.ids = 0;
		this.plugins = A(r.plugins);
	}
	write(r, t) {
		this.alive && !this.flushed && (this.pending++, this.keys.add(r), this.cleanups.push(cn(t, {
			plugins: this.plugins,
			scopeId: this.options.scopeId,
			refs: this.refs,
			disabledFeatures: this.options.disabledFeatures,
			onError: this.options.onError,
			onSerialize: (n$1, a) => {
				this.alive && this.options.onData(a ? this.options.globalIdentifier + "[\\"" + y$1(r) + "\\"]=" + n$1 : n$1);
			},
			onDone: () => {
				this.alive && (this.pending--, this.pending <= 0 && this.flushed && !this.done && this.options.onDone && (this.options.onDone(), this.done = !0));
			}
		})));
	}
	getNextID() {
		for (; this.keys.has("" + this.ids);) this.ids++;
		return "" + this.ids;
	}
	push(r) {
		let t = this.getNextID();
		return this.write(t, r), t;
	}
	flush() {
		this.alive && (this.flushed = !0, this.pending <= 0 && !this.done && this.options.onDone && (this.options.onDone(), this.done = !0));
	}
	close() {
		if (this.alive) {
			for (let r = 0, t = this.cleanups.length; r < t; r++) this.cleanups[r]();
			!this.done && this.options.onDone && (this.options.onDone(), this.done = !0), this.alive = !1;
		}
	}
};

//#endregion
//#region node_modules/seroval/dist/esm/production/index.mjs
var L$1 = ((i$1) => (i$1[i$1.AggregateError = 1] = "AggregateError", i$1[i$1.ArrowFunction = 2] = "ArrowFunction", i$1[i$1.ErrorPrototypeStack = 4] = "ErrorPrototypeStack", i$1[i$1.ObjectAssign = 8] = "ObjectAssign", i$1[i$1.BigIntTypedArray = 16] = "BigIntTypedArray", i$1[i$1.RegExp = 32] = "RegExp", i$1))(L$1 || {});
var v$1 = Symbol.asyncIterator, mr = Symbol.hasInstance, R = Symbol.isConcatSpreadable, C = Symbol.iterator, pr = Symbol.match, dr = Symbol.matchAll, gr = Symbol.replace, yr = Symbol.search, Nr = Symbol.species, br = Symbol.split, vr = Symbol.toPrimitive, P$1 = Symbol.toStringTag, Cr = Symbol.unscopables;
var rt = {
	0: "Symbol.asyncIterator",
	1: "Symbol.hasInstance",
	2: "Symbol.isConcatSpreadable",
	3: "Symbol.iterator",
	4: "Symbol.match",
	5: "Symbol.matchAll",
	6: "Symbol.replace",
	7: "Symbol.search",
	8: "Symbol.species",
	9: "Symbol.split",
	10: "Symbol.toPrimitive",
	11: "Symbol.toStringTag",
	12: "Symbol.unscopables"
}, ve = {
	[v$1]: 0,
	[mr]: 1,
	[R]: 2,
	[C]: 3,
	[pr]: 4,
	[dr]: 5,
	[gr]: 6,
	[yr]: 7,
	[Nr]: 8,
	[br]: 9,
	[vr]: 10,
	[P$1]: 11,
	[Cr]: 12
}, tt = {
	0: v$1,
	1: mr,
	2: R,
	3: C,
	4: pr,
	5: dr,
	6: gr,
	7: yr,
	8: Nr,
	9: br,
	10: vr,
	11: P$1,
	12: Cr
}, nt = {
	2: "!0",
	3: "!1",
	1: "void 0",
	0: "null",
	4: "-0",
	5: "1/0",
	6: "-1/0",
	7: "0/0"
}, o$1 = void 0, ot = {
	2: !0,
	3: !1,
	1: o$1,
	0: null,
	4: -0,
	5: Number.POSITIVE_INFINITY,
	6: Number.NEGATIVE_INFINITY,
	7: NaN
};
function c$1(e, r, t, n$1, a, s, i$1, u$1, l$1, g$1, S, d$1) {
	return {
		t: e,
		i: r,
		s: t,
		c: n$1,
		m: a,
		p: s,
		e: i$1,
		a: u$1,
		f: l$1,
		b: g$1,
		o: S,
		l: d$1
	};
}
function F(e) {
	return c$1(2, o$1, e, o$1, o$1, o$1, o$1, o$1, o$1, o$1, o$1, o$1);
}
var J = F(2), Z = F(3), Ae = F(1), Ee = F(0), st = F(4), it = F(5), ut = F(6), lt = F(7);
var U = "__SEROVAL_REFS__", ce = "$R", Ie = \`self.\${ce}\`;
var Ar = /* @__PURE__ */ new Map(), j = /* @__PURE__ */ new Map();
typeof globalThis != "undefined" ? Object.defineProperty(globalThis, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof window != "undefined" ? Object.defineProperty(window, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof self != "undefined" ? Object.defineProperty(self, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof global != "undefined" && Object.defineProperty(global, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
});
var { toString: ys } = Object.prototype;
var re = () => {
	let e = {
		p: 0,
		s: 0,
		f: 0
	};
	return e.p = new Promise((r, t) => {
		e.s = r, e.f = t;
	}), e;
}, vn = (e, r) => {
	e.s(r), e.p.s = 1, e.p.v = r;
}, Cn = (e, r) => {
	e.f(r), e.p.s = 2, e.p.v = r;
}, yt = re.toString(), Nt = vn.toString(), bt = Cn.toString(), Rr = () => {
	let e = [], r = [], t = !0, n$1 = !1, a = 0, s = (l$1, g$1, S) => {
		for (S = 0; S < a; S++) r[S] && r[S][g$1](l$1);
	}, i$1 = (l$1, g$1, S, d$1) => {
		for (g$1 = 0, S = e.length; g$1 < S; g$1++) d$1 = e[g$1], !t && g$1 === S - 1 ? l$1[n$1 ? "return" : "throw"](d$1) : l$1.next(d$1);
	}, u$1 = (l$1, g$1) => (t && (g$1 = a++, r[g$1] = l$1), i$1(l$1), () => {
		t && (r[g$1] = r[a], r[a--] = void 0);
	});
	return {
		__SEROVAL_STREAM__: !0,
		on: (l$1) => u$1(l$1),
		next: (l$1) => {
			t && (e.push(l$1), s(l$1, "next"));
		},
		throw: (l$1) => {
			t && (e.push(l$1), s(l$1, "throw"), t = !1, n$1 = !1, r.length = 0);
		},
		return: (l$1) => {
			t && (e.push(l$1), s(l$1, "return"), t = !1, n$1 = !0, r.length = 0);
		}
	};
}, vt = Rr.toString(), Pr = (e) => (r) => () => {
	let t = 0, n$1 = {
		[e]: () => n$1,
		next: () => {
			if (t > r.d) return {
				done: !0,
				value: void 0
			};
			let a = t++, s = r.v[a];
			if (a === r.t) throw s;
			return {
				done: a === r.d,
				value: s
			};
		}
	};
	return n$1;
}, Ct = Pr.toString(), xr = (e, r) => (t) => () => {
	let n$1 = 0, a = -1, s = !1, i$1 = [], u$1 = [], l$1 = (S = 0, d$1 = u$1.length) => {
		for (; S < d$1; S++) u$1[S].s({
			done: !0,
			value: void 0
		});
	};
	t.on({
		next: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !1,
				value: S
			}), i$1.push(S);
		},
		throw: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.f(S), l$1(), a = i$1.length, s = !0, i$1.push(S);
		},
		return: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !0,
				value: S
			}), l$1(), a = i$1.length, i$1.push(S);
		}
	});
	let g$1 = {
		[e]: () => g$1,
		next: () => {
			if (a === -1) {
				let K$1 = n$1++;
				if (K$1 >= i$1.length) {
					let et = r();
					return u$1.push(et), et.p;
				}
				return {
					done: !1,
					value: i$1[K$1]
				};
			}
			if (n$1 > a) return {
				done: !0,
				value: void 0
			};
			let S = n$1++, d$1 = i$1[S];
			if (S !== a) return {
				done: !1,
				value: d$1
			};
			if (s) throw d$1;
			return {
				done: !0,
				value: d$1
			};
		}
	};
	return g$1;
}, At = xr.toString(), Or = (e) => {
	let r = atob(e), t = r.length, n$1 = new Uint8Array(t);
	for (let a = 0; a < t; a++) n$1[a] = r.charCodeAt(a);
	return n$1.buffer;
}, Et = Or.toString();
var An = Pr(C);
function te$1() {
	return Rr();
}
var En = xr(v$1, re);
var ae = ((t) => (t[t.Vanilla = 1] = "Vanilla", t[t.Cross = 2] = "Cross", t))(ae || {});
function ni(e) {
	return e;
}
var Eo = () => T, Io = Eo.toString(), qt = /=>/.test(Io);
var Ht = "hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_", Gt = Ht.length, Jt = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_", Kt = Jt.length;

//#endregion
//#region node_modules/seroval-plugins/dist/esm/production/web.mjs
var u = (e) => {
	let r = new AbortController(), a = r.abort.bind(r);
	return e.then(a, a), r;
};
function E(e) {
	e(this.reason);
}
function D(e) {
	this.addEventListener("abort", E.bind(this, e), { once: !0 });
}
function c(e) {
	return new Promise(D.bind(e));
}
var i = {}, O = ni({
	tag: "seroval-plugins/web/AbortSignal",
	extends: [ni({
		tag: "seroval-plugins/web/AbortControllerFactoryPlugin",
		test(e) {
			return e === i;
		},
		parse: {
			sync() {
				return i;
			},
			async async() {
				return await Promise.resolve(i);
			},
			stream() {
				return i;
			}
		},
		serialize() {
			return u.toString();
		},
		deserialize() {
			return u;
		}
	})],
	test(e) {
		return typeof AbortSignal == "undefined" ? !1 : e instanceof AbortSignal;
	},
	parse: {
		sync(e, r) {
			return e.aborted ? { reason: r.parse(e.reason) } : {};
		},
		async async(e, r) {
			if (e.aborted) return { reason: await r.parse(e.reason) };
			let a = await c(e);
			return { reason: await r.parse(a) };
		},
		stream(e, r) {
			if (e.aborted) return { reason: r.parse(e.reason) };
			let a = c(e);
			return {
				factory: r.parse(i),
				controller: r.parse(a)
			};
		}
	},
	serialize(e, r) {
		return e.reason ? "AbortSignal.abort(" + r.serialize(e.reason) + ")" : e.controller && e.factory ? "(" + r.serialize(e.factory) + ")(" + r.serialize(e.controller) + ").signal" : "(new AbortController).signal";
	},
	deserialize(e, r) {
		return e.reason ? AbortSignal.abort(r.deserialize(e.reason)) : e.controller ? u(r.deserialize(e.controller)).signal : new AbortController().signal;
	}
});
var B = ni({
	tag: "seroval-plugins/web/Blob",
	test(e) {
		return typeof Blob == "undefined" ? !1 : e instanceof Blob;
	},
	parse: { async async(e, r) {
		return {
			type: await r.parse(e.type),
			buffer: await r.parse(await e.arrayBuffer())
		};
	} },
	serialize(e, r) {
		return "new Blob([" + r.serialize(e.buffer) + "],{type:" + r.serialize(e.type) + "})";
	},
	deserialize(e, r) {
		return new Blob([r.deserialize(e.buffer)], { type: r.deserialize(e.type) });
	}
});
function d(e) {
	return {
		detail: e.detail,
		bubbles: e.bubbles,
		cancelable: e.cancelable,
		composed: e.composed
	};
}
var L = ni({
	tag: "seroval-plugins/web/CustomEvent",
	test(e) {
		return typeof CustomEvent == "undefined" ? !1 : e instanceof CustomEvent;
	},
	parse: {
		sync(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(d(e))
			};
		},
		async async(e, r) {
			return {
				type: await r.parse(e.type),
				options: await r.parse(d(e))
			};
		},
		stream(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(d(e))
			};
		}
	},
	serialize(e, r) {
		return "new CustomEvent(" + r.serialize(e.type) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new CustomEvent(r.deserialize(e.type), r.deserialize(e.options));
	}
});
var q = ni({
	tag: "seroval-plugins/web/DOMException",
	test(e) {
		return typeof DOMException == "undefined" ? !1 : e instanceof DOMException;
	},
	parse: {
		sync(e, r) {
			return {
				name: r.parse(e.name),
				message: r.parse(e.message)
			};
		},
		async async(e, r) {
			return {
				name: await r.parse(e.name),
				message: await r.parse(e.message)
			};
		},
		stream(e, r) {
			return {
				name: r.parse(e.name),
				message: r.parse(e.message)
			};
		}
	},
	serialize(e, r) {
		return "new DOMException(" + r.serialize(e.message) + "," + r.serialize(e.name) + ")";
	},
	deserialize(e, r) {
		return new DOMException(r.deserialize(e.message), r.deserialize(e.name));
	}
});
function f(e) {
	return {
		bubbles: e.bubbles,
		cancelable: e.cancelable,
		composed: e.composed
	};
}
var Y = ni({
	tag: "seroval-plugins/web/Event",
	test(e) {
		return typeof Event == "undefined" ? !1 : e instanceof Event;
	},
	parse: {
		sync(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(f(e))
			};
		},
		async async(e, r) {
			return {
				type: await r.parse(e.type),
				options: await r.parse(f(e))
			};
		},
		stream(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(f(e))
			};
		}
	},
	serialize(e, r) {
		return "new Event(" + r.serialize(e.type) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Event(r.deserialize(e.type), r.deserialize(e.options));
	}
});
var m = ni({
	tag: "seroval-plugins/web/File",
	test(e) {
		return typeof File == "undefined" ? !1 : e instanceof File;
	},
	parse: { async async(e, r) {
		return {
			name: await r.parse(e.name),
			options: await r.parse({
				type: e.type,
				lastModified: e.lastModified
			}),
			buffer: await r.parse(await e.arrayBuffer())
		};
	} },
	serialize(e, r) {
		return "new File([" + r.serialize(e.buffer) + "]," + r.serialize(e.name) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new File([r.deserialize(e.buffer)], r.deserialize(e.name), r.deserialize(e.options));
	}
});
function y(e) {
	let r = [];
	return e.forEach((a, t) => {
		r.push([t, a]);
	}), r;
}
var o = {}, v = (e, r = new FormData(), a = 0, t = e.length, s) => {
	for (; a < t; a++) s = e[a], r.append(s[0], s[1]);
	return r;
}, K = ni({
	tag: "seroval-plugins/web/FormData",
	extends: [m, ni({
		tag: "seroval-plugins/web/FormDataFactory",
		test(e) {
			return e === o;
		},
		parse: {
			sync() {
				return o;
			},
			async async() {
				return await Promise.resolve(o);
			},
			stream() {
				return o;
			}
		},
		serialize() {
			return v.toString();
		},
		deserialize() {
			return o;
		}
	})],
	test(e) {
		return typeof FormData == "undefined" ? !1 : e instanceof FormData;
	},
	parse: {
		sync(e, r) {
			return {
				factory: r.parse(o),
				entries: r.parse(y(e))
			};
		},
		async async(e, r) {
			return {
				factory: await r.parse(o),
				entries: await r.parse(y(e))
			};
		},
		stream(e, r) {
			return {
				factory: r.parse(o),
				entries: r.parse(y(e))
			};
		}
	},
	serialize(e, r) {
		return "(" + r.serialize(e.factory) + ")(" + r.serialize(e.entries) + ")";
	},
	deserialize(e, r) {
		return v(r.deserialize(e.entries));
	}
});
function g(e) {
	let r = [];
	return e.forEach((a, t) => {
		r.push([t, a]);
	}), r;
}
var l = ni({
	tag: "seroval-plugins/web/Headers",
	test(e) {
		return typeof Headers == "undefined" ? !1 : e instanceof Headers;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(g(e)) };
		},
		async async(e, r) {
			return { value: await r.parse(g(e)) };
		},
		stream(e, r) {
			return { value: r.parse(g(e)) };
		}
	},
	serialize(e, r) {
		return "new Headers(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new Headers(r.deserialize(e.value));
	}
});
var $ = ni({
	tag: "seroval-plugins/web/ImageData",
	test(e) {
		return typeof ImageData == "undefined" ? !1 : e instanceof ImageData;
	},
	parse: {
		sync(e, r) {
			return {
				data: r.parse(e.data),
				width: r.parse(e.width),
				height: r.parse(e.height),
				options: r.parse({ colorSpace: e.colorSpace })
			};
		},
		async async(e, r) {
			return {
				data: await r.parse(e.data),
				width: await r.parse(e.width),
				height: await r.parse(e.height),
				options: await r.parse({ colorSpace: e.colorSpace })
			};
		},
		stream(e, r) {
			return {
				data: r.parse(e.data),
				width: r.parse(e.width),
				height: r.parse(e.height),
				options: r.parse({ colorSpace: e.colorSpace })
			};
		}
	},
	serialize(e, r) {
		return "new ImageData(" + r.serialize(e.data) + "," + r.serialize(e.width) + "," + r.serialize(e.height) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new ImageData(r.deserialize(e.data), r.deserialize(e.width), r.deserialize(e.height), r.deserialize(e.options));
	}
});
var n = {}, P = (e) => new ReadableStream({ start: (r) => {
	e.on({
		next: (a) => {
			try {
				r.enqueue(a);
			} catch (t) {}
		},
		throw: (a) => {
			r.error(a);
		},
		return: () => {
			try {
				r.close();
			} catch (a) {}
		}
	});
} }), x = ni({
	tag: "seroval-plugins/web/ReadableStreamFactory",
	test(e) {
		return e === n;
	},
	parse: {
		sync() {
			return n;
		},
		async async() {
			return await Promise.resolve(n);
		},
		stream() {
			return n;
		}
	},
	serialize() {
		return P.toString();
	},
	deserialize() {
		return n;
	}
});
function w(e) {
	let r = te$1(), a = e.getReader();
	async function t() {
		try {
			let s = await a.read();
			s.done ? r.return(s.value) : (r.next(s.value), await t());
		} catch (s) {
			r.throw(s);
		}
	}
	return t().catch(() => {}), r;
}
var p = ni({
	tag: "seroval/plugins/web/ReadableStream",
	extends: [x],
	test(e) {
		return typeof ReadableStream == "undefined" ? !1 : e instanceof ReadableStream;
	},
	parse: {
		sync(e, r) {
			return {
				factory: r.parse(n),
				stream: r.parse(te$1())
			};
		},
		async async(e, r) {
			return {
				factory: await r.parse(n),
				stream: await r.parse(w(e))
			};
		},
		stream(e, r) {
			return {
				factory: r.parse(n),
				stream: r.parse(w(e))
			};
		}
	},
	serialize(e, r) {
		return "(" + r.serialize(e.factory) + ")(" + r.serialize(e.stream) + ")";
	},
	deserialize(e, r) {
		return P(r.deserialize(e.stream));
	}
});
function N(e, r) {
	return {
		body: r,
		cache: e.cache,
		credentials: e.credentials,
		headers: e.headers,
		integrity: e.integrity,
		keepalive: e.keepalive,
		method: e.method,
		mode: e.mode,
		redirect: e.redirect,
		referrer: e.referrer,
		referrerPolicy: e.referrerPolicy
	};
}
var te = ni({
	tag: "seroval-plugins/web/Request",
	extends: [p, l],
	test(e) {
		return typeof Request == "undefined" ? !1 : e instanceof Request;
	},
	parse: {
		async async(e, r) {
			return {
				url: await r.parse(e.url),
				options: await r.parse(N(e, e.body && !e.bodyUsed ? await e.clone().arrayBuffer() : null))
			};
		},
		stream(e, r) {
			return {
				url: r.parse(e.url),
				options: r.parse(N(e, e.body && !e.bodyUsed ? e.clone().body : null))
			};
		}
	},
	serialize(e, r) {
		return "new Request(" + r.serialize(e.url) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Request(r.deserialize(e.url), r.deserialize(e.options));
	}
});
function h(e) {
	return {
		headers: e.headers,
		status: e.status,
		statusText: e.statusText
	};
}
var ne = ni({
	tag: "seroval-plugins/web/Response",
	extends: [p, l],
	test(e) {
		return typeof Response == "undefined" ? !1 : e instanceof Response;
	},
	parse: {
		async async(e, r) {
			return {
				body: await r.parse(e.body && !e.bodyUsed ? await e.clone().arrayBuffer() : null),
				options: await r.parse(h(e))
			};
		},
		stream(e, r) {
			return {
				body: r.parse(e.body && !e.bodyUsed ? e.clone().body : null),
				options: r.parse(h(e))
			};
		}
	},
	serialize(e, r) {
		return "new Response(" + r.serialize(e.body) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Response(r.deserialize(e.body), r.deserialize(e.options));
	}
});
var pe = ni({
	tag: "seroval-plugins/web/URL",
	test(e) {
		return typeof URL == "undefined" ? !1 : e instanceof URL;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(e.href) };
		},
		async async(e, r) {
			return { value: await r.parse(e.href) };
		},
		stream(e, r) {
			return { value: r.parse(e.href) };
		}
	},
	serialize(e, r) {
		return "new URL(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new URL(r.deserialize(e.value));
	}
});
var fe = ni({
	tag: "seroval-plugins/web/URLSearchParams",
	test(e) {
		return typeof URLSearchParams == "undefined" ? !1 : e instanceof URLSearchParams;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(e.toString()) };
		},
		async async(e, r) {
			return { value: await r.parse(e.toString()) };
		},
		stream(e, r) {
			return { value: r.parse(e.toString()) };
		}
	},
	serialize(e, r) {
		return "new URLSearchParams(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new URLSearchParams(r.deserialize(e.value));
	}
});

//#endregion
//#region node_modules/solid-js/web/dist/server.js
const booleans = [
	"allowfullscreen",
	"async",
	"alpha",
	"autofocus",
	"autoplay",
	"checked",
	"controls",
	"default",
	"disabled",
	"formnovalidate",
	"hidden",
	"indeterminate",
	"inert",
	"ismap",
	"loop",
	"multiple",
	"muted",
	"nomodule",
	"novalidate",
	"open",
	"playsinline",
	"readonly",
	"required",
	"reversed",
	"seamless",
	"selected",
	"adauctionheaders",
	"browsingtopics",
	"credentialless",
	"defaultchecked",
	"defaultmuted",
	"defaultselected",
	"defer",
	"disablepictureinpicture",
	"disableremoteplayback",
	"preservespitch",
	"shadowrootclonable",
	"shadowrootcustomelementregistry",
	"shadowrootdelegatesfocus",
	"shadowrootserializable",
	"sharedstoragewritable"
];
const Properties = /* @__PURE__ */ new Set([
	"className",
	"value",
	"readOnly",
	"noValidate",
	"formNoValidate",
	"isMap",
	"noModule",
	"playsInline",
	"adAuctionHeaders",
	"allowFullscreen",
	"browsingTopics",
	"defaultChecked",
	"defaultMuted",
	"defaultSelected",
	"disablePictureInPicture",
	"disableRemotePlayback",
	"preservesPitch",
	"shadowRootClonable",
	"shadowRootCustomElementRegistry",
	"shadowRootDelegatesFocus",
	"shadowRootSerializable",
	"sharedStorageWritable",
	...booleans
]);
const Aliases = /* @__PURE__ */ Object.assign(Object.create(null), {
	className: "class",
	htmlFor: "for"
});
const PropAliases = /* @__PURE__ */ Object.assign(Object.create(null), {
	class: "className",
	novalidate: {
		$: "noValidate",
		FORM: 1
	},
	formnovalidate: {
		$: "formNoValidate",
		BUTTON: 1,
		INPUT: 1
	},
	ismap: {
		$: "isMap",
		IMG: 1
	},
	nomodule: {
		$: "noModule",
		SCRIPT: 1
	},
	playsinline: {
		$: "playsInline",
		VIDEO: 1
	},
	readonly: {
		$: "readOnly",
		INPUT: 1,
		TEXTAREA: 1
	},
	adauctionheaders: {
		$: "adAuctionHeaders",
		IFRAME: 1
	},
	allowfullscreen: {
		$: "allowFullscreen",
		IFRAME: 1
	},
	browsingtopics: {
		$: "browsingTopics",
		IMG: 1
	},
	defaultchecked: {
		$: "defaultChecked",
		INPUT: 1
	},
	defaultmuted: {
		$: "defaultMuted",
		AUDIO: 1,
		VIDEO: 1
	},
	defaultselected: {
		$: "defaultSelected",
		OPTION: 1
	},
	disablepictureinpicture: {
		$: "disablePictureInPicture",
		VIDEO: 1
	},
	disableremoteplayback: {
		$: "disableRemotePlayback",
		AUDIO: 1,
		VIDEO: 1
	},
	preservespitch: {
		$: "preservesPitch",
		AUDIO: 1,
		VIDEO: 1
	},
	shadowrootclonable: {
		$: "shadowRootClonable",
		TEMPLATE: 1
	},
	shadowrootdelegatesfocus: {
		$: "shadowRootDelegatesFocus",
		TEMPLATE: 1
	},
	shadowrootserializable: {
		$: "shadowRootSerializable",
		TEMPLATE: 1
	},
	sharedstoragewritable: {
		$: "sharedStorageWritable",
		IFRAME: 1,
		IMG: 1
	}
});
const ES2017FLAG = L$2.AggregateError | L$2.BigIntTypedArray;
const GLOBAL_IDENTIFIER = "_$HY.r";
function createSerializer({ onData, onDone, scopeId, onError, plugins: customPlugins }) {
	const defaultPlugins = [
		O,
		L,
		q,
		Y,
		K,
		l,
		p,
		te,
		ne,
		fe,
		pe
	];
	return new Sr({
		scopeId,
		plugins: customPlugins ? [...customPlugins, ...defaultPlugins] : defaultPlugins,
		globalIdentifier: GLOBAL_IDENTIFIER,
		disabledFeatures: ES2017FLAG,
		onData,
		onDone,
		onError
	});
}
function getLocalHeaderScript(id) {
	return mn(id) + ";";
}
function renderToString(code, options = {}) {
	const { renderId } = options;
	let scripts = "";
	const serializer = createSerializer({
		scopeId: renderId,
		plugins: options.plugins,
		onData(script) {
			if (!scripts) scripts = getLocalHeaderScript(renderId);
			scripts += script + ";";
		},
		onError: options.onError
	});
	sharedConfig.context = {
		id: renderId || "",
		count: 0,
		suspense: {},
		lazy: {},
		assets: [],
		nonce: options.nonce,
		serialize(id, p$1) {
			!sharedConfig.context.noHydrate && serializer.write(id, p$1);
		},
		roots: 0,
		nextRoot() {
			return this.renderId + "i-" + this.roots++;
		}
	};
	let html = createRoot((d$1) => {
		setTimeout(d$1);
		return resolveSSRNode(escape(code()));
	});
	sharedConfig.context.noHydrate = true;
	serializer.close();
	html = injectAssets(sharedConfig.context.assets, html);
	if (scripts.length) html = injectScripts(html, scripts, options.nonce);
	return html;
}
function ssr(t, ...nodes) {
	if (nodes.length) {
		let result = "";
		for (let i$1 = 0; i$1 < nodes.length; i$1++) {
			result += t[i$1];
			const node = nodes[i$1];
			if (node !== void 0) result += resolveSSRNode(node);
		}
		t = result + t[nodes.length];
	}
	return { t };
}
function escape(s, attr) {
	const t = typeof s;
	if (t !== "string") {
		if (!attr && t === "function") return escape(s());
		if (!attr && Array.isArray(s)) {
			s = s.slice();
			for (let i$1 = 0; i$1 < s.length; i$1++) s[i$1] = escape(s[i$1]);
			return s;
		}
		if (attr && t === "boolean") return String(s);
		return s;
	}
	const delim = attr ? "\\"" : "<";
	const escDelim = attr ? "&quot;" : "&lt;";
	let iDelim = s.indexOf(delim);
	let iAmp = s.indexOf("&");
	if (iDelim < 0 && iAmp < 0) return s;
	let left = 0, out = "";
	while (iDelim >= 0 && iAmp >= 0) if (iDelim < iAmp) {
		if (left < iDelim) out += s.substring(left, iDelim);
		out += escDelim;
		left = iDelim + 1;
		iDelim = s.indexOf(delim, left);
	} else {
		if (left < iAmp) out += s.substring(left, iAmp);
		out += "&amp;";
		left = iAmp + 1;
		iAmp = s.indexOf("&", left);
	}
	if (iDelim >= 0) do {
		if (left < iDelim) out += s.substring(left, iDelim);
		out += escDelim;
		left = iDelim + 1;
		iDelim = s.indexOf(delim, left);
	} while (iDelim >= 0);
	else while (iAmp >= 0) {
		if (left < iAmp) out += s.substring(left, iAmp);
		out += "&amp;";
		left = iAmp + 1;
		iAmp = s.indexOf("&", left);
	}
	return left < s.length ? out + s.substring(left) : out;
}
function resolveSSRNode(node, top) {
	const t = typeof node;
	if (t === "string") return node;
	if (node == null || t === "boolean") return "";
	if (Array.isArray(node)) {
		let prev = {};
		let mapped = "";
		for (let i$1 = 0, len = node.length; i$1 < len; i$1++) {
			if (!top && typeof prev !== "object" && typeof node[i$1] !== "object") mapped += \`<!--!$-->\`;
			mapped += resolveSSRNode(prev = node[i$1]);
		}
		return mapped;
	}
	if (t === "object") return node.t;
	if (t === "function") return resolveSSRNode(node());
	return String(node);
}
function injectAssets(assets, html) {
	if (!assets || !assets.length) return html;
	let out = "";
	for (let i$1 = 0, len = assets.length; i$1 < len; i$1++) out += assets[i$1]();
	const index = html.indexOf("</head>");
	if (index === -1) return html;
	return html.slice(0, index) + out + html.slice(index);
}
function injectScripts(html, scripts, nonce) {
	const tag = \`<script\${nonce ? \` nonce="\${nonce}"\` : ""}>\${scripts}<\\/script>\`;
	const index = html.indexOf("<!--xs-->");
	if (index > -1) return html.slice(0, index) + tag + html.slice(index);
	return html + tag;
}

//#endregion
//#region tests/fixtures/ssr.tsx
var _tmpl$ = ["<button type=\\"button\\">", "</button>"];
const App = () => {
	const [count, setCount] = createSignal(0);
	return ssr(_tmpl$, escape(count()));
};
var ssr_default = renderToString(App);

//#endregion
export { ssr_default as default };"
`;

exports[`rolldown-plugin-solid src should transform SSR with hydratable option 1`] = `
"//#region node_modules/solid-js/dist/server.js
const ERROR = Symbol("error");
function castError(err) {
	if (err instanceof Error) return err;
	return new Error(typeof err === "string" ? err : "Unknown error", { cause: err });
}
function handleError(err, owner = Owner) {
	const fns = owner && owner.context && owner.context[ERROR];
	const error = castError(err);
	if (!fns) throw error;
	try {
		for (const f$2 of fns) f$2(error);
	} catch (e) {
		handleError(e, owner && owner.owner || null);
	}
}
const UNOWNED = {
	context: null,
	owner: null,
	owned: null,
	cleanups: null
};
let Owner = null;
function createOwner() {
	const o$3 = {
		owner: Owner,
		context: Owner ? Owner.context : null,
		owned: null,
		cleanups: null
	};
	if (Owner) if (!Owner.owned) Owner.owned = [o$3];
	else Owner.owned.push(o$3);
	return o$3;
}
function createRoot(fn$1, detachedOwner) {
	const owner = Owner, current = detachedOwner === void 0 ? owner : detachedOwner, root = fn$1.length === 0 ? UNOWNED : {
		context: current ? current.context : null,
		owner: current,
		owned: null,
		cleanups: null
	};
	Owner = root;
	let result;
	try {
		result = fn$1(fn$1.length === 0 ? () => {} : () => cleanNode(root));
	} catch (err) {
		handleError(err);
	} finally {
		Owner = owner;
	}
	return result;
}
function createSignal(value, options) {
	return [() => value, (v$3) => {
		return value = typeof v$3 === "function" ? v$3(value) : v$3;
	}];
}
function createMemo(fn$1, value) {
	Owner = createOwner();
	let v$3;
	try {
		v$3 = fn$1(value);
	} catch (err) {
		handleError(err);
	} finally {
		Owner = Owner.owner;
	}
	return () => v$3;
}
function cleanNode(node) {
	if (node.owned) {
		for (let i$1 = 0; i$1 < node.owned.length; i$1++) cleanNode(node.owned[i$1]);
		node.owned = null;
	}
	if (node.cleanups) {
		for (let i$1 = 0; i$1 < node.cleanups.length; i$1++) node.cleanups[i$1]();
		node.cleanups = null;
	}
}
function createContext(defaultValue) {
	const id = Symbol("context");
	return {
		id,
		Provider: createProvider(id),
		defaultValue
	};
}
function children(fn$1) {
	const memo = createMemo(() => resolveChildren(fn$1()));
	memo.toArray = () => {
		const c$3 = memo();
		return Array.isArray(c$3) ? c$3 : c$3 != null ? [c$3] : [];
	};
	return memo;
}
function resolveChildren(children$1) {
	if (typeof children$1 === "function" && !children$1.length) return resolveChildren(children$1());
	if (Array.isArray(children$1)) {
		const results = [];
		for (let i$1 = 0; i$1 < children$1.length; i$1++) {
			const result = resolveChildren(children$1[i$1]);
			Array.isArray(result) ? results.push.apply(results, result) : results.push(result);
		}
		return results;
	}
	return children$1;
}
function createProvider(id) {
	return function provider(props) {
		return createMemo(() => {
			Owner.context = {
				...Owner.context,
				[id]: props.value
			};
			return children(() => props.children);
		});
	};
}
const sharedConfig = {
	context: void 0,
	getContextId() {
		if (!this.context) throw new Error(\`getContextId cannot be used under non-hydrating context\`);
		return getContextId(this.context.count);
	},
	getNextContextId() {
		if (!this.context) throw new Error(\`getNextContextId cannot be used under non-hydrating context\`);
		return getContextId(this.context.count++);
	}
};
function getContextId(count) {
	const num = String(count), len = num.length - 1;
	return sharedConfig.context.id + (len ? String.fromCharCode(96 + len) : "") + num;
}
const SuspenseContext = createContext();

//#endregion
//#region node_modules/solid-js/node_modules/seroval/dist/esm/production/index.mjs
var L$2 = ((i$1) => (i$1[i$1.AggregateError = 1] = "AggregateError", i$1[i$1.ArrowFunction = 2] = "ArrowFunction", i$1[i$1.ErrorPrototypeStack = 4] = "ErrorPrototypeStack", i$1[i$1.ObjectAssign = 8] = "ObjectAssign", i$1[i$1.BigIntTypedArray = 16] = "BigIntTypedArray", i$1[i$1.RegExp = 32] = "RegExp", i$1))(L$2 || {});
var v$2 = Symbol.asyncIterator, mr$1 = Symbol.hasInstance, R$1 = Symbol.isConcatSpreadable, C$1 = Symbol.iterator, pr$1 = Symbol.match, dr$1 = Symbol.matchAll, gr$1 = Symbol.replace, yr$1 = Symbol.search, Nr$1 = Symbol.species, br$1 = Symbol.split, vr$1 = Symbol.toPrimitive, P$2 = Symbol.toStringTag, Cr$1 = Symbol.unscopables;
var rt$1 = {
	0: "Symbol.asyncIterator",
	1: "Symbol.hasInstance",
	2: "Symbol.isConcatSpreadable",
	3: "Symbol.iterator",
	4: "Symbol.match",
	5: "Symbol.matchAll",
	6: "Symbol.replace",
	7: "Symbol.search",
	8: "Symbol.species",
	9: "Symbol.split",
	10: "Symbol.toPrimitive",
	11: "Symbol.toStringTag",
	12: "Symbol.unscopables"
}, ve$1 = {
	[v$2]: 0,
	[mr$1]: 1,
	[R$1]: 2,
	[C$1]: 3,
	[pr$1]: 4,
	[dr$1]: 5,
	[gr$1]: 6,
	[yr$1]: 7,
	[Nr$1]: 8,
	[br$1]: 9,
	[vr$1]: 10,
	[P$2]: 11,
	[Cr$1]: 12
}, tt$1 = {
	0: v$2,
	1: mr$1,
	2: R$1,
	3: C$1,
	4: pr$1,
	5: dr$1,
	6: gr$1,
	7: yr$1,
	8: Nr$1,
	9: br$1,
	10: vr$1,
	11: P$2,
	12: Cr$1
}, nt$1 = {
	2: "!0",
	3: "!1",
	1: "void 0",
	0: "null",
	4: "-0",
	5: "1/0",
	6: "-1/0",
	7: "0/0"
}, o$2 = void 0, ot$1 = {
	2: !0,
	3: !1,
	1: o$2,
	0: null,
	4: -0,
	5: Number.POSITIVE_INFINITY,
	6: Number.NEGATIVE_INFINITY,
	7: NaN
};
var Ce = {
	0: "Error",
	1: "EvalError",
	2: "RangeError",
	3: "ReferenceError",
	4: "SyntaxError",
	5: "TypeError",
	6: "URIError"
}, at = {
	0: Error,
	1: EvalError,
	2: RangeError,
	3: ReferenceError,
	4: SyntaxError,
	5: TypeError,
	6: URIError
};
function c$2(e, r, t, n$1, a, s, i$1, u$1, l$1, g$1, S, d$1) {
	return {
		t: e,
		i: r,
		s: t,
		c: n$1,
		m: a,
		p: s,
		e: i$1,
		a: u$1,
		f: l$1,
		b: g$1,
		o: S,
		l: d$1
	};
}
function F$1(e) {
	return c$2(2, o$2, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
var J$1 = F$1(2), Z$1 = F$1(3), Ae$1 = F$1(1), Ee$1 = F$1(0), st$1 = F$1(4), it$1 = F$1(5), ut$1 = F$1(6), lt$1 = F$1(7);
function fn(e) {
	switch (e) {
		case "\\"": return "\\\\\\"";
		case "\\\\": return "\\\\\\\\";
		case \`
\`: return "\\\\n";
		case "\\r": return "\\\\r";
		case "\\b": return "\\\\b";
		case "	": return "\\\\t";
		case "\\f": return "\\\\f";
		case "<": return "\\\\x3C";
		case "\\u2028": return "\\\\u2028";
		case "\\u2029": return "\\\\u2029";
		default: return o$2;
	}
}
function y$1(e) {
	let r = "", t = 0, n$1;
	for (let a = 0, s = e.length; a < s; a++) n$1 = fn(e[a]), n$1 && (r += e.slice(t, a) + n$1, t = a + 1);
	return t === 0 ? r = e : r += e.slice(t), r;
}
var U$1 = "__SEROVAL_REFS__", ce$1 = "$R", Ie$1 = \`self.\${ce$1}\`;
function mn(e) {
	return e == null ? \`\${Ie$1}=\${Ie$1}||[]\` : \`(\${Ie$1}=\${Ie$1}||{})["\${y$1(e)}"]=[]\`;
}
var Ar$1 = /* @__PURE__ */ new Map(), j$1 = /* @__PURE__ */ new Map();
function Er(e) {
	return Ar$1.has(e);
}
function ct(e) {
	if (Er(e)) return Ar$1.get(e);
	throw new Re(e);
}
typeof globalThis != "undefined" ? Object.defineProperty(globalThis, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof window != "undefined" ? Object.defineProperty(window, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof self != "undefined" ? Object.defineProperty(self, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof global != "undefined" && Object.defineProperty(global, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
});
function xe(e) {
	return e instanceof EvalError ? 1 : e instanceof RangeError ? 2 : e instanceof ReferenceError ? 3 : e instanceof SyntaxError ? 4 : e instanceof TypeError ? 5 : e instanceof URIError ? 6 : 0;
}
function gn(e) {
	let r = Ce[xe(e)];
	return e.name !== r ? { name: e.name } : e.constructor.name !== r ? { name: e.constructor.name } : {};
}
function $$1(e, r) {
	let t = gn(e), n$1 = Object.getOwnPropertyNames(e);
	for (let a = 0, s = n$1.length, i$1; a < s; a++) i$1 = n$1[a], i$1 !== "name" && i$1 !== "message" && (i$1 === "stack" ? r & 4 && (t = t || {}, t[i$1] = e[i$1]) : (t = t || {}, t[i$1] = e[i$1]));
	return t;
}
function Oe(e) {
	return Object.isFrozen(e) ? 3 : Object.isSealed(e) ? 2 : Object.isExtensible(e) ? 0 : 1;
}
function Te(e) {
	switch (e) {
		case Number.POSITIVE_INFINITY: return it$1;
		case Number.NEGATIVE_INFINITY: return ut$1;
	}
	return e !== e ? lt$1 : Object.is(e, -0) ? st$1 : c$2(0, o$2, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function X(e) {
	return c$2(1, o$2, y$1(e), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function we(e) {
	return c$2(3, o$2, "" + e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function mt(e) {
	return c$2(4, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function he(e, r) {
	let t = r.valueOf();
	return c$2(5, e, t !== t ? "" : r.toISOString(), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function ze(e, r) {
	return c$2(6, e, o$2, y$1(r.source), r.flags, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function pt(e, r) {
	return c$2(17, e, ve$1[r], o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function dt(e, r) {
	return c$2(18, e, y$1(ct(r)), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function fe$1(e, r, t) {
	return c$2(25, e, t, y$1(r), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function _e(e, r, t) {
	return c$2(9, e, o$2, o$2, o$2, o$2, o$2, t, o$2, o$2, Oe(r), o$2);
}
function ke(e, r) {
	return c$2(21, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function De(e, r, t) {
	return c$2(15, e, o$2, r.constructor.name, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.length);
}
function Fe(e, r, t) {
	return c$2(16, e, o$2, r.constructor.name, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.byteLength);
}
function Be(e, r, t) {
	return c$2(20, e, o$2, o$2, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.byteLength);
}
function Ve(e, r, t) {
	return c$2(13, e, xe(r), o$2, y$1(r.message), t, o$2, o$2, o$2, o$2, o$2, o$2);
}
function Me(e, r, t) {
	return c$2(14, e, xe(r), o$2, y$1(r.message), t, o$2, o$2, o$2, o$2, o$2, o$2);
}
function Le(e, r) {
	return c$2(7, e, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2, o$2);
}
function Ue(e, r) {
	return c$2(28, o$2, o$2, o$2, o$2, o$2, o$2, [e, r], o$2, o$2, o$2, o$2);
}
function je(e, r) {
	return c$2(30, o$2, o$2, o$2, o$2, o$2, o$2, [e, r], o$2, o$2, o$2, o$2);
}
function Ye(e, r, t) {
	return c$2(31, e, o$2, o$2, o$2, o$2, o$2, t, r, o$2, o$2, o$2);
}
function qe(e, r) {
	return c$2(32, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function We(e, r) {
	return c$2(33, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function Ge(e, r) {
	return c$2(34, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function Ke(e, r, t, n$1) {
	return c$2(35, e, t, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2, n$1);
}
var { toString: ys$1 } = Object.prototype;
var yn = {
	parsing: 1,
	serialization: 2,
	deserialization: 3
};
function Nn(e) {
	return \`Seroval Error (step: \${yn[e]})\`;
}
var bn = (e, r) => Nn(e), Se = class extends Error {
	constructor(t, n$1) {
		super(bn(t, n$1));
		this.cause = n$1;
	}
}, z = class extends Se {
	constructor(r) {
		super("parsing", r);
	}
}, Ir = class extends Se {
	constructor(r) {
		super("serialization", r);
	}
}, He = class extends Se {
	constructor(r) {
		super("deserialization", r);
	}
};
function _(e) {
	return \`Seroval Error (specific: \${e})\`;
}
var x$1 = class extends Error {
	constructor(t) {
		super(_(1));
		this.value = t;
	}
}, w$1 = class extends Error {
	constructor(r) {
		super(_(2));
	}
}, Q = class extends Error {
	constructor(r) {
		super(_(3));
	}
}, V = class extends Error {
	constructor(r) {
		super(_(4));
	}
}, Re = class extends Error {
	constructor(t) {
		super(_(5));
		this.value = t;
	}
}, Pe = class extends Error {
	constructor(r) {
		super(_(6));
	}
}, Je = class extends Error {
	constructor(r) {
		super(_(7));
	}
}, h$1 = class extends Error {
	constructor(r) {
		super(_(8));
	}
}, gt = class extends Error {
	constructor(r) {
		super(_(9));
	}
}, ee = class extends Error {
	constructor(r) {
		super(_(9));
	}
};
var Y$1 = class {
	constructor(r, t) {
		this.value = r;
		this.replacement = t;
	}
};
var re$1 = () => {
	let e = {
		p: 0,
		s: 0,
		f: 0
	};
	return e.p = new Promise((r, t) => {
		e.s = r, e.f = t;
	}), e;
}, vn$1 = (e, r) => {
	e.s(r), e.p.s = 1, e.p.v = r;
}, Cn$1 = (e, r) => {
	e.f(r), e.p.s = 2, e.p.v = r;
}, yt$1 = re$1.toString(), Nt$1 = vn$1.toString(), bt$1 = Cn$1.toString(), Rr$1 = () => {
	let e = [], r = [], t = !0, n$1 = !1, a = 0, s = (l$1, g$1, S) => {
		for (S = 0; S < a; S++) r[S] && r[S][g$1](l$1);
	}, i$1 = (l$1, g$1, S, d$1) => {
		for (g$1 = 0, S = e.length; g$1 < S; g$1++) d$1 = e[g$1], !t && g$1 === S - 1 ? l$1[n$1 ? "return" : "throw"](d$1) : l$1.next(d$1);
	}, u$1 = (l$1, g$1) => (t && (g$1 = a++, r[g$1] = l$1), i$1(l$1), () => {
		t && (r[g$1] = r[a], r[a--] = void 0);
	});
	return {
		__SEROVAL_STREAM__: !0,
		on: (l$1) => u$1(l$1),
		next: (l$1) => {
			t && (e.push(l$1), s(l$1, "next"));
		},
		throw: (l$1) => {
			t && (e.push(l$1), s(l$1, "throw"), t = !1, n$1 = !1, r.length = 0);
		},
		return: (l$1) => {
			t && (e.push(l$1), s(l$1, "return"), t = !1, n$1 = !0, r.length = 0);
		}
	};
}, vt$1 = Rr$1.toString(), Pr$1 = (e) => (r) => () => {
	let t = 0, n$1 = {
		[e]: () => n$1,
		next: () => {
			if (t > r.d) return {
				done: !0,
				value: void 0
			};
			let a = t++, s = r.v[a];
			if (a === r.t) throw s;
			return {
				done: a === r.d,
				value: s
			};
		}
	};
	return n$1;
}, Ct$1 = Pr$1.toString(), xr$1 = (e, r) => (t) => () => {
	let n$1 = 0, a = -1, s = !1, i$1 = [], u$1 = [], l$1 = (S = 0, d$1 = u$1.length) => {
		for (; S < d$1; S++) u$1[S].s({
			done: !0,
			value: void 0
		});
	};
	t.on({
		next: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !1,
				value: S
			}), i$1.push(S);
		},
		throw: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.f(S), l$1(), a = i$1.length, s = !0, i$1.push(S);
		},
		return: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !0,
				value: S
			}), l$1(), a = i$1.length, i$1.push(S);
		}
	});
	let g$1 = {
		[e]: () => g$1,
		next: () => {
			if (a === -1) {
				let K$1 = n$1++;
				if (K$1 >= i$1.length) {
					let et = r();
					return u$1.push(et), et.p;
				}
				return {
					done: !1,
					value: i$1[K$1]
				};
			}
			if (n$1 > a) return {
				done: !0,
				value: void 0
			};
			let S = n$1++, d$1 = i$1[S];
			if (S !== a) return {
				done: !1,
				value: d$1
			};
			if (s) throw d$1;
			return {
				done: !0,
				value: d$1
			};
		}
	};
	return g$1;
}, At$1 = xr$1.toString(), Or$1 = (e) => {
	let r = atob(e), t = r.length, n$1 = new Uint8Array(t);
	for (let a = 0; a < t; a++) n$1[a] = r.charCodeAt(a);
	return n$1.buffer;
}, Et$1 = Or$1.toString();
function Ze(e) {
	return "__SEROVAL_SEQUENCE__" in e;
}
function Tr(e, r, t) {
	return {
		__SEROVAL_SEQUENCE__: !0,
		v: e,
		t: r,
		d: t
	};
}
function $e(e) {
	let r = [], t = -1, n$1 = -1, a = e[C$1]();
	for (;;) try {
		let s = a.next();
		if (r.push(s.value), s.done) {
			n$1 = r.length - 1;
			break;
		}
	} catch (s) {
		t = r.length, r.push(s);
	}
	return Tr(r, t, n$1);
}
var An$1 = Pr$1(C$1);
var Rt = {}, Pt = {};
var xt = {
	0: {},
	1: {},
	2: {},
	3: {},
	4: {},
	5: {}
}, Ot = {
	0: "[]",
	1: yt$1,
	2: Nt$1,
	3: bt$1,
	4: vt$1,
	5: Et$1
};
function M(e) {
	return "__SEROVAL_STREAM__" in e;
}
function te$2() {
	return Rr$1();
}
function Xe(e) {
	let r = te$2(), t = e[v$2]();
	async function n$1() {
		try {
			let a = await t.next();
			a.done ? r.return(a.value) : (r.next(a.value), await n$1());
		} catch (a) {
			r.throw(a);
		}
	}
	return n$1().catch(() => {}), r;
}
var En$1 = xr$1(v$2, re$1);
function pe$1(e, r) {
	return {
		plugins: r.plugins,
		mode: e,
		marked: /* @__PURE__ */ new Set(),
		features: 63 ^ (r.disabledFeatures || 0),
		refs: r.refs || /* @__PURE__ */ new Map(),
		depthLimit: r.depthLimit || 1e3
	};
}
function de(e, r) {
	e.marked.add(r);
}
function hr(e, r) {
	let t = e.refs.size;
	return e.refs.set(r, t), t;
}
function Qe(e, r) {
	let t = e.refs.get(r);
	return t != null ? (de(e, t), {
		type: 1,
		value: mt(t)
	}) : {
		type: 0,
		value: hr(e, r)
	};
}
function q$1(e, r) {
	let t = Qe(e, r);
	return t.type === 1 ? t : Er(r) ? {
		type: 2,
		value: dt(t.value, r)
	} : t;
}
function I(e, r) {
	let t = q$1(e, r);
	if (t.type !== 0) return t.value;
	if (r in ve$1) return pt(t.value, r);
	throw new x$1(r);
}
function k(e, r) {
	let t = Qe(e, xt[r]);
	return t.type === 1 ? t.value : c$2(26, t.value, r, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function er(e) {
	let r = Qe(e, Rt);
	return r.type === 1 ? r.value : c$2(27, r.value, o$2, o$2, o$2, o$2, o$2, o$2, I(e, C$1), o$2, o$2, o$2);
}
function rr(e) {
	let r = Qe(e, Pt);
	return r.type === 1 ? r.value : c$2(29, r.value, o$2, o$2, o$2, o$2, o$2, [k(e, 1), I(e, v$2)], o$2, o$2, o$2, o$2);
}
function tr(e, r, t, n$1) {
	return c$2(t ? 11 : 10, e, o$2, o$2, o$2, n$1, o$2, o$2, o$2, o$2, Oe(r), o$2);
}
function nr(e, r, t, n$1) {
	return c$2(8, r, o$2, o$2, o$2, o$2, {
		k: t,
		v: n$1
	}, o$2, k(e, 0), o$2, o$2, o$2);
}
function ht(e, r, t) {
	return c$2(22, r, t, o$2, o$2, o$2, o$2, o$2, k(e, 1), o$2, o$2, o$2);
}
function or(e, r, t) {
	let n$1 = new Uint8Array(t), a = "";
	for (let s = 0, i$1 = n$1.length; s < i$1; s++) a += String.fromCharCode(n$1[s]);
	return c$2(19, r, y$1(btoa(a)), o$2, o$2, o$2, o$2, o$2, k(e, 5), o$2, o$2, o$2);
}
var ae$1 = ((t) => (t[t.Vanilla = 1] = "Vanilla", t[t.Cross = 2] = "Cross", t))(ae$1 || {});
function kt(e, r) {
	for (let t = 0, n$1 = r.length; t < n$1; t++) {
		let a = r[t];
		e.has(a) || (e.add(a), a.extends && kt(e, a.extends));
	}
}
function A(e) {
	if (e) {
		let r = /* @__PURE__ */ new Set();
		return kt(r, e), [...r];
	}
}
var Eo$1 = () => T, Io$1 = Eo$1.toString(), qt$1 = /=>/.test(Io$1);
function sr(e, r) {
	return qt$1 ? (e.length === 1 ? e[0] : "(" + e.join(",") + ")") + "=>" + (r.startsWith("{") ? "(" + r + ")" : r) : "function(" + e.join(",") + "){return " + r + "}";
}
function Wt(e, r) {
	return qt$1 ? (e.length === 1 ? e[0] : "(" + e.join(",") + ")") + "=>{" + r + "}" : "function(" + e.join(",") + "){" + r + "}";
}
var Ht$1 = "hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_", Gt$1 = Ht$1.length, Jt$1 = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_", Kt$1 = Jt$1.length;
function Br(e) {
	let r = e % Gt$1, t = Ht$1[r];
	for (e = (e - r) / Gt$1; e > 0;) r = e % Kt$1, t += Jt$1[r], e = (e - r) / Kt$1;
	return t;
}
var Ro = /^[$A-Z_][0-9A-Z_$]*$/i;
function Vr(e) {
	let r = e[0];
	return (r === "$" || r === "_" || r >= "A" && r <= "Z" || r >= "a" && r <= "z") && Ro.test(e);
}
function ye(e) {
	switch (e.t) {
		case 0: return e.s + "=" + e.v;
		case 2: return e.s + ".set(" + e.k + "," + e.v + ")";
		case 1: return e.s + ".add(" + e.v + ")";
		case 3: return e.s + ".delete(" + e.k + ")";
	}
}
function Po(e) {
	let r = [], t = e[0];
	for (let n$1 = 1, a = e.length, s, i$1 = t; n$1 < a; n$1++) s = e[n$1], s.t === 0 && s.v === i$1.v ? t = {
		t: 0,
		s: s.s,
		k: o$2,
		v: ye(t)
	} : s.t === 2 && s.s === i$1.s ? t = {
		t: 2,
		s: ye(t),
		k: s.k,
		v: s.v
	} : s.t === 1 && s.s === i$1.s ? t = {
		t: 1,
		s: ye(t),
		k: o$2,
		v: s.v
	} : s.t === 3 && s.s === i$1.s ? t = {
		t: 3,
		s: ye(t),
		k: s.k,
		v: o$2
	} : (r.push(t), t = s), i$1 = s;
	return r.push(t), r;
}
function tn(e) {
	if (e.length) {
		let r = "", t = Po(e);
		for (let n$1 = 0, a = t.length; n$1 < a; n$1++) r += ye(t[n$1]) + ",";
		return r;
	}
	return o$2;
}
var xo = "Object.create(null)", Oo = "new Set", To = "new Map", wo = "Promise.resolve", ho = "Promise.reject", zo = {
	3: "Object.freeze",
	2: "Object.seal",
	1: "Object.preventExtensions",
	0: o$2
};
function nn(e, r) {
	return {
		mode: e,
		plugins: r.plugins,
		features: r.features,
		marked: new Set(r.markedRefs),
		stack: [],
		flags: [],
		assignments: []
	};
}
function ur(e) {
	return {
		mode: 2,
		base: nn(2, e),
		state: e,
		child: o$2
	};
}
var Mr = class {
	constructor(r) {
		this._p = r;
	}
	serialize(r) {
		return f$1(this._p, r);
	}
};
function ko(e, r) {
	let t = e.valid.get(r);
	t ?? (t = e.valid.size, e.valid.set(r, t));
	let n$1 = e.vars[t];
	return n$1 ?? (n$1 = Br(t), e.vars[t] = n$1), n$1;
}
function Do(e) {
	return ce$1 + "[" + e + "]";
}
function m$1(e, r) {
	return e.mode === 1 ? ko(e.state, r) : Do(r);
}
function O$1(e, r) {
	e.marked.add(r);
}
function Lr(e, r) {
	return e.marked.has(r);
}
function jr(e, r, t) {
	r !== 0 && (O$1(e.base, t), e.base.flags.push({
		type: r,
		value: m$1(e, t)
	}));
}
function Fo(e) {
	let r = "";
	for (let t = 0, n$1 = e.flags, a = n$1.length; t < a; t++) {
		let s = n$1[t];
		r += zo[s.type] + "(" + s.value + "),";
	}
	return r;
}
function on(e) {
	let r = tn(e.assignments), t = Fo(e);
	return r ? t ? r + t : r : t;
}
function Yr(e, r, t) {
	e.assignments.push({
		t: 0,
		s: r,
		k: o$2,
		v: t
	});
}
function Bo(e, r, t) {
	e.base.assignments.push({
		t: 1,
		s: m$1(e, r),
		k: o$2,
		v: t
	});
}
function ge(e, r, t, n$1) {
	e.base.assignments.push({
		t: 2,
		s: m$1(e, r),
		k: t,
		v: n$1
	});
}
function Zt(e, r, t) {
	e.base.assignments.push({
		t: 3,
		s: m$1(e, r),
		k: t,
		v: o$2
	});
}
function Ne(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + "[" + t + "]", n$1);
}
function Ur(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + "." + t, n$1);
}
function Vo(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + ".v[" + t + "]", n$1);
}
function D$1(e, r) {
	return r.t === 4 && e.stack.includes(r.i);
}
function se(e, r, t) {
	return e.mode === 1 && !Lr(e.base, r) ? t : m$1(e, r) + "=" + t;
}
function Mo(e) {
	return U$1 + ".get(\\"" + e.s + "\\")";
}
function $t(e, r, t, n$1) {
	return t ? D$1(e.base, t) ? (O$1(e.base, r), Ne(e, r, n$1, m$1(e, t.i)), "") : f$1(e, t) : "";
}
function Lo(e, r) {
	let t = r.i, n$1 = r.a, a = n$1.length;
	if (a > 0) {
		e.base.stack.push(t);
		let s = $t(e, t, n$1[0], 0), i$1 = s === "";
		for (let u$1 = 1, l$1; u$1 < a; u$1++) l$1 = $t(e, t, n$1[u$1], u$1), s += "," + l$1, i$1 = l$1 === "";
		return e.base.stack.pop(), jr(e, r.o, r.i), "[" + s + (i$1 ? ",]" : "]");
	}
	return "[]";
}
function Xt(e, r, t, n$1) {
	if (typeof t == "string") {
		let a = Number(t), s = a >= 0 && a.toString() === t || Vr(t);
		if (D$1(e.base, n$1)) {
			let i$1 = m$1(e, n$1.i);
			return O$1(e.base, r.i), s && a !== a ? Ur(e, r.i, t, i$1) : Ne(e, r.i, s ? t : "\\"" + t + "\\"", i$1), "";
		}
		return (s ? t : "\\"" + t + "\\"") + ":" + f$1(e, n$1);
	}
	return "[" + f$1(e, t) + "]:" + f$1(e, n$1);
}
function an(e, r, t) {
	let n$1 = t.k, a = n$1.length;
	if (a > 0) {
		let s = t.v;
		e.base.stack.push(r.i);
		let i$1 = Xt(e, r, n$1[0], s[0]);
		for (let u$1 = 1, l$1 = i$1; u$1 < a; u$1++) l$1 = Xt(e, r, n$1[u$1], s[u$1]), i$1 += (l$1 && i$1 && ",") + l$1;
		return e.base.stack.pop(), "{" + i$1 + "}";
	}
	return "{}";
}
function Uo(e, r) {
	return jr(e, r.o, r.i), an(e, r, r.p);
}
function jo(e, r, t, n$1) {
	let a = an(e, r, t);
	return a !== "{}" ? "Object.assign(" + n$1 + "," + a + ")" : n$1;
}
function Yo(e, r, t, n$1, a) {
	let s = e.base, i$1 = f$1(e, a), u$1 = Number(n$1), l$1 = u$1 >= 0 && u$1.toString() === n$1 || Vr(n$1);
	if (D$1(s, a)) l$1 && u$1 !== u$1 ? Ur(e, r.i, n$1, i$1) : Ne(e, r.i, l$1 ? n$1 : "\\"" + n$1 + "\\"", i$1);
	else {
		let g$1 = s.assignments;
		s.assignments = t, l$1 && u$1 !== u$1 ? Ur(e, r.i, n$1, i$1) : Ne(e, r.i, l$1 ? n$1 : "\\"" + n$1 + "\\"", i$1), s.assignments = g$1;
	}
}
function qo(e, r, t, n$1, a) {
	if (typeof n$1 == "string") Yo(e, r, t, n$1, a);
	else {
		let s = e.base, i$1 = s.stack;
		s.stack = [];
		let u$1 = f$1(e, a);
		s.stack = i$1;
		let l$1 = s.assignments;
		s.assignments = t, Ne(e, r.i, f$1(e, n$1), u$1), s.assignments = l$1;
	}
}
function Wo(e, r, t) {
	let n$1 = t.k, a = n$1.length;
	if (a > 0) {
		let s = [], i$1 = t.v;
		e.base.stack.push(r.i);
		for (let u$1 = 0; u$1 < a; u$1++) qo(e, r, s, n$1[u$1], i$1[u$1]);
		return e.base.stack.pop(), tn(s);
	}
	return o$2;
}
function qr(e, r, t) {
	if (r.p) {
		let n$1 = e.base;
		if (n$1.features & 8) t = jo(e, r, r.p, t);
		else {
			O$1(n$1, r.i);
			let a = Wo(e, r, r.p);
			if (a) return "(" + se(e, r.i, t) + "," + a + m$1(e, r.i) + ")";
		}
	}
	return t;
}
function Go(e, r) {
	return jr(e, r.o, r.i), qr(e, r, xo);
}
function Ko(e) {
	return "new Date(\\"" + e.s + "\\")";
}
function Ho(e, r) {
	if (e.base.features & 32) return "/" + r.c + "/" + r.m;
	throw new w$1(r);
}
function Qt(e, r, t) {
	let n$1 = e.base;
	return D$1(n$1, t) ? (O$1(n$1, r), Bo(e, r, m$1(e, t.i)), "") : f$1(e, t);
}
function Jo(e, r) {
	let t = Oo, n$1 = r.a, a = n$1.length, s = r.i;
	if (a > 0) {
		e.base.stack.push(s);
		let i$1 = Qt(e, s, n$1[0]);
		for (let u$1 = 1, l$1 = i$1; u$1 < a; u$1++) l$1 = Qt(e, s, n$1[u$1]), i$1 += (l$1 && i$1 && ",") + l$1;
		e.base.stack.pop(), i$1 && (t += "([" + i$1 + "])");
	}
	return t;
}
function en(e, r, t, n$1, a) {
	let s = e.base;
	if (D$1(s, t)) {
		let i$1 = m$1(e, t.i);
		if (O$1(s, r), D$1(s, n$1)) return ge(e, r, i$1, m$1(e, n$1.i)), "";
		if (n$1.t !== 4 && n$1.i != null && Lr(s, n$1.i)) {
			let l$1 = "(" + f$1(e, n$1) + ",[" + a + "," + a + "])";
			return ge(e, r, i$1, m$1(e, n$1.i)), Zt(e, r, a), l$1;
		}
		let u$1 = s.stack;
		return s.stack = [], ge(e, r, i$1, f$1(e, n$1)), s.stack = u$1, "";
	}
	if (D$1(s, n$1)) {
		let i$1 = m$1(e, n$1.i);
		if (O$1(s, r), t.t !== 4 && t.i != null && Lr(s, t.i)) {
			let l$1 = "(" + f$1(e, t) + ",[" + a + "," + a + "])";
			return ge(e, r, m$1(e, t.i), i$1), Zt(e, r, a), l$1;
		}
		let u$1 = s.stack;
		return s.stack = [], ge(e, r, f$1(e, t), i$1), s.stack = u$1, "";
	}
	return "[" + f$1(e, t) + "," + f$1(e, n$1) + "]";
}
function Zo(e, r) {
	let t = To, n$1 = r.e.k, a = n$1.length, s = r.i, i$1 = r.f, u$1 = m$1(e, i$1.i), l$1 = e.base;
	if (a > 0) {
		let g$1 = r.e.v;
		l$1.stack.push(s);
		let S = en(e, s, n$1[0], g$1[0], u$1);
		for (let d$1 = 1, K$1 = S; d$1 < a; d$1++) K$1 = en(e, s, n$1[d$1], g$1[d$1], u$1), S += (K$1 && S && ",") + K$1;
		l$1.stack.pop(), S && (t += "([" + S + "])");
	}
	return i$1.t === 26 && (O$1(l$1, i$1.i), t = "(" + f$1(e, i$1) + "," + t + ")"), t;
}
function $o(e, r) {
	return W(e, r.f) + "(\\"" + r.s + "\\")";
}
function Xo(e, r) {
	return "new " + r.c + "(" + f$1(e, r.f) + "," + r.b + "," + r.l + ")";
}
function Qo(e, r) {
	return "new DataView(" + f$1(e, r.f) + "," + r.b + "," + r.l + ")";
}
function ea(e, r) {
	let t = r.i;
	e.base.stack.push(t);
	let n$1 = qr(e, r, "new AggregateError([],\\"" + r.m + "\\")");
	return e.base.stack.pop(), n$1;
}
function ra(e, r) {
	return qr(e, r, "new " + Ce[r.s] + "(\\"" + r.m + "\\")");
}
function ta(e, r) {
	let t, n$1 = r.f, a = r.i, s = r.s ? wo : ho, i$1 = e.base;
	if (D$1(i$1, n$1)) {
		let u$1 = m$1(e, n$1.i);
		t = s + (r.s ? "().then(" + sr([], u$1) + ")" : "().catch(" + Wt([], "throw " + u$1) + ")");
	} else {
		i$1.stack.push(a);
		let u$1 = f$1(e, n$1);
		i$1.stack.pop(), t = s + "(" + u$1 + ")";
	}
	return t;
}
function na(e, r) {
	return "Object(" + f$1(e, r.f) + ")";
}
function W(e, r) {
	let t = f$1(e, r);
	return r.t === 4 ? t : "(" + t + ")";
}
function oa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return "(" + se(e, r.s, W(e, r.f) + "()") + ").p";
}
function aa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return W(e, r.a[0]) + "(" + m$1(e, r.i) + "," + f$1(e, r.a[1]) + ")";
}
function sa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return W(e, r.a[0]) + "(" + m$1(e, r.i) + "," + f$1(e, r.a[1]) + ")";
}
function ia(e, r) {
	let t = e.base.plugins;
	if (t) for (let n$1 = 0, a = t.length; n$1 < a; n$1++) {
		let s = t[n$1];
		if (s.tag === r.c) return e.child ??= new Mr(e), s.serialize(r.s, e.child, { id: r.i });
	}
	throw new Q(r.c);
}
function ua(e, r) {
	let t = "", n$1 = !1;
	return r.f.t !== 4 && (O$1(e.base, r.f.i), t = "(" + f$1(e, r.f) + ",", n$1 = !0), t += se(e, r.i, "(" + Ct$1 + ")(" + m$1(e, r.f.i) + ")"), n$1 && (t += ")"), t;
}
function la(e, r) {
	return W(e, r.a[0]) + "(" + f$1(e, r.a[1]) + ")";
}
function ca(e, r) {
	let t = r.a[0], n$1 = r.a[1], a = e.base, s = "";
	t.t !== 4 && (O$1(a, t.i), s += "(" + f$1(e, t)), n$1.t !== 4 && (O$1(a, n$1.i), s += (s ? "," : "(") + f$1(e, n$1)), s && (s += ",");
	let i$1 = se(e, r.i, "(" + At$1 + ")(" + m$1(e, n$1.i) + "," + m$1(e, t.i) + ")");
	return s ? s + i$1 + ")" : i$1;
}
function fa(e, r) {
	return W(e, r.a[0]) + "(" + f$1(e, r.a[1]) + ")";
}
function Sa(e, r) {
	let t = se(e, r.i, W(e, r.f) + "()"), n$1 = r.a.length;
	if (n$1) {
		let a = f$1(e, r.a[0]);
		for (let s = 1; s < n$1; s++) a += "," + f$1(e, r.a[s]);
		return "(" + t + "," + a + "," + m$1(e, r.i) + ")";
	}
	return t;
}
function ma(e, r) {
	return m$1(e, r.i) + ".next(" + f$1(e, r.f) + ")";
}
function pa(e, r) {
	return m$1(e, r.i) + ".throw(" + f$1(e, r.f) + ")";
}
function da(e, r) {
	return m$1(e, r.i) + ".return(" + f$1(e, r.f) + ")";
}
function rn(e, r, t, n$1) {
	let a = e.base;
	return D$1(a, n$1) ? (O$1(a, r), Vo(e, r, t, m$1(e, n$1.i)), "") : f$1(e, n$1);
}
function ga(e, r) {
	let t = r.a, n$1 = t.length, a = r.i;
	if (n$1 > 0) {
		e.base.stack.push(a);
		let s = rn(e, a, 0, t[0]);
		for (let i$1 = 1, u$1 = s; i$1 < n$1; i$1++) u$1 = rn(e, a, i$1, t[i$1]), s += (u$1 && s && ",") + u$1;
		if (e.base.stack.pop(), s) return "{__SEROVAL_SEQUENCE__:!0,v:[" + s + "],t:" + r.s + ",d:" + r.l + "}";
	}
	return "{__SEROVAL_SEQUENCE__:!0,v:[],t:-1,d:0}";
}
function ya(e, r) {
	switch (r.t) {
		case 17: return rt$1[r.s];
		case 18: return Mo(r);
		case 9: return Lo(e, r);
		case 10: return Uo(e, r);
		case 11: return Go(e, r);
		case 5: return Ko(r);
		case 6: return Ho(e, r);
		case 7: return Jo(e, r);
		case 8: return Zo(e, r);
		case 19: return $o(e, r);
		case 16:
		case 15: return Xo(e, r);
		case 20: return Qo(e, r);
		case 14: return ea(e, r);
		case 13: return ra(e, r);
		case 12: return ta(e, r);
		case 21: return na(e, r);
		case 22: return oa(e, r);
		case 25: return ia(e, r);
		case 26: return Ot[r.s];
		case 35: return ga(e, r);
		default: throw new w$1(r);
	}
}
function f$1(e, r) {
	switch (r.t) {
		case 2: return nt$1[r.s];
		case 0: return "" + r.s;
		case 1: return "\\"" + r.s + "\\"";
		case 3: return r.s + "n";
		case 4: return m$1(e, r.i);
		case 23: return aa(e, r);
		case 24: return sa(e, r);
		case 27: return ua(e, r);
		case 28: return la(e, r);
		case 29: return ca(e, r);
		case 30: return fa(e, r);
		case 31: return Sa(e, r);
		case 32: return ma(e, r);
		case 33: return pa(e, r);
		case 34: return da(e, r);
		default: return se(e, r.i, ya(e, r));
	}
}
function cr(e, r) {
	let t = f$1(e, r), n$1 = r.i;
	if (n$1 == null) return t;
	let a = on(e.base), s = m$1(e, n$1), i$1 = e.state.scopeId, u$1 = i$1 == null ? "" : ce$1, l$1 = a ? "(" + t + "," + a + s + ")" : t;
	if (u$1 === "") return r.t === 10 && !a ? "(" + l$1 + ")" : l$1;
	let g$1 = i$1 == null ? "()" : "(" + ce$1 + "[\\"" + y$1(i$1) + "\\"])";
	return "(" + sr([u$1], l$1) + ")" + g$1;
}
var Gr = class {
	constructor(r, t) {
		this._p = r;
		this.depth = t;
	}
	parse(r) {
		return E$1(this._p, this.depth, r);
	}
}, Kr = class {
	constructor(r, t) {
		this._p = r;
		this.depth = t;
	}
	parse(r) {
		return E$1(this._p, this.depth, r);
	}
	parseWithError(r) {
		return G(this._p, this.depth, r);
	}
	isAlive() {
		return this._p.state.alive;
	}
	pushPendingState() {
		Xr(this._p);
	}
	popPendingState() {
		be(this._p);
	}
	onParse(r) {
		ie(this._p, r);
	}
	onError(r) {
		Zr(this._p, r);
	}
};
function Na(e) {
	return {
		alive: !0,
		pending: 0,
		initial: !0,
		buffer: [],
		onParse: e.onParse,
		onError: e.onError,
		onDone: e.onDone
	};
}
function Hr(e) {
	return {
		type: 2,
		base: pe$1(2, e),
		state: Na(e)
	};
}
function ba(e, r, t) {
	let n$1 = [];
	for (let a = 0, s = t.length; a < s; a++) a in t ? n$1[a] = E$1(e, r, t[a]) : n$1[a] = 0;
	return n$1;
}
function va(e, r, t, n$1) {
	return _e(t, n$1, ba(e, r, n$1));
}
function Jr(e, r, t) {
	let n$1 = Object.entries(t), a = [], s = [];
	for (let i$1 = 0, u$1 = n$1.length; i$1 < u$1; i$1++) a.push(y$1(n$1[i$1][0])), s.push(E$1(e, r, n$1[i$1][1]));
	return C$1 in t && (a.push(I(e.base, C$1)), s.push(Ue(er(e.base), E$1(e, r, $e(t))))), v$2 in t && (a.push(I(e.base, v$2)), s.push(je(rr(e.base), E$1(e, r, e.type === 1 ? te$2() : Xe(t))))), P$2 in t && (a.push(I(e.base, P$2)), s.push(X(t[P$2]))), R$1 in t && (a.push(I(e.base, R$1)), s.push(t[R$1] ? J$1 : Z$1)), {
		k: a,
		v: s
	};
}
function Wr(e, r, t, n$1, a) {
	return tr(t, n$1, a, Jr(e, r, n$1));
}
function Ca(e, r, t, n$1) {
	return ke(t, E$1(e, r, n$1.valueOf()));
}
function Aa(e, r, t, n$1) {
	return De(t, n$1, E$1(e, r, n$1.buffer));
}
function Ea(e, r, t, n$1) {
	return Fe(t, n$1, E$1(e, r, n$1.buffer));
}
function Ia(e, r, t, n$1) {
	return Be(t, n$1, E$1(e, r, n$1.buffer));
}
function sn(e, r, t, n$1) {
	let a = $$1(n$1, e.base.features);
	return Ve(t, n$1, a ? Jr(e, r, a) : o$2);
}
function Ra(e, r, t, n$1) {
	let a = $$1(n$1, e.base.features);
	return Me(t, n$1, a ? Jr(e, r, a) : o$2);
}
function Pa(e, r, t, n$1) {
	let a = [], s = [];
	for (let [i$1, u$1] of n$1.entries()) a.push(E$1(e, r, i$1)), s.push(E$1(e, r, u$1));
	return nr(e.base, t, a, s);
}
function xa(e, r, t, n$1) {
	let a = [];
	for (let s of n$1.keys()) a.push(E$1(e, r, s));
	return Le(t, a);
}
function Oa(e, r, t, n$1) {
	let a = Ye(t, k(e.base, 4), []);
	return e.type === 1 || (Xr(e), n$1.on({
		next: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, qe(t, i$1));
			}
		},
		throw: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, We(t, i$1));
			}
			be(e);
		},
		return: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, Ge(t, i$1));
			}
			be(e);
		}
	})), a;
}
function Ta(e, r, t) {
	if (this.state.alive) {
		let n$1 = G(this, r, t);
		n$1 && ie(this, c$2(23, e, o$2, o$2, o$2, o$2, o$2, [k(this.base, 2), n$1], o$2, o$2, o$2, o$2)), be(this);
	}
}
function wa(e, r, t) {
	if (this.state.alive) {
		let n$1 = G(this, r, t);
		n$1 && ie(this, c$2(24, e, o$2, o$2, o$2, o$2, o$2, [k(this.base, 3), n$1], o$2, o$2, o$2, o$2));
	}
	be(this);
}
function ha(e, r, t, n$1) {
	let a = hr(e.base, {});
	return e.type === 2 && (Xr(e), n$1.then(Ta.bind(e, a, r), wa.bind(e, a, r))), ht(e.base, t, a);
}
function za(e, r, t, n$1, a) {
	for (let s = 0, i$1 = a.length; s < i$1; s++) {
		let u$1 = a[s];
		if (u$1.parse.sync && u$1.test(n$1)) return fe$1(t, u$1.tag, u$1.parse.sync(n$1, new Gr(e, r), { id: t }));
	}
	return o$2;
}
function _a(e, r, t, n$1, a) {
	for (let s = 0, i$1 = a.length; s < i$1; s++) {
		let u$1 = a[s];
		if (u$1.parse.stream && u$1.test(n$1)) return fe$1(t, u$1.tag, u$1.parse.stream(n$1, new Kr(e, r), { id: t }));
	}
	return o$2;
}
function un(e, r, t, n$1) {
	let a = e.base.plugins;
	return a ? e.type === 1 ? za(e, r, t, n$1, a) : _a(e, r, t, n$1, a) : o$2;
}
function ka(e, r, t, n$1) {
	let a = [];
	for (let s = 0, i$1 = n$1.v.length; s < i$1; s++) a[s] = E$1(e, r, n$1.v[s]);
	return Ke(t, a, n$1.t, n$1.d);
}
function Da(e, r, t, n$1, a) {
	switch (a) {
		case Object: return Wr(e, r, t, n$1, !1);
		case o$2: return Wr(e, r, t, n$1, !0);
		case Date: return he(t, n$1);
		case Error:
		case EvalError:
		case RangeError:
		case ReferenceError:
		case SyntaxError:
		case TypeError:
		case URIError: return sn(e, r, t, n$1);
		case Number:
		case Boolean:
		case String:
		case BigInt: return Ca(e, r, t, n$1);
		case ArrayBuffer: return or(e.base, t, n$1);
		case Int8Array:
		case Int16Array:
		case Int32Array:
		case Uint8Array:
		case Uint16Array:
		case Uint32Array:
		case Uint8ClampedArray:
		case Float32Array:
		case Float64Array: return Aa(e, r, t, n$1);
		case DataView: return Ia(e, r, t, n$1);
		case Map: return Pa(e, r, t, n$1);
		case Set: return xa(e, r, t, n$1);
		default: break;
	}
	if (a === Promise || n$1 instanceof Promise) return ha(e, r, t, n$1);
	let s = e.base.features;
	if (s & 32 && a === RegExp) return ze(t, n$1);
	if (s & 16) switch (a) {
		case BigInt64Array:
		case BigUint64Array: return Ea(e, r, t, n$1);
		default: break;
	}
	if (s & 1 && typeof AggregateError != "undefined" && (a === AggregateError || n$1 instanceof AggregateError)) return Ra(e, r, t, n$1);
	if (n$1 instanceof Error) return sn(e, r, t, n$1);
	if (C$1 in n$1 || v$2 in n$1) return Wr(e, r, t, n$1, !!a);
	throw new x$1(n$1);
}
function Fa(e, r, t, n$1) {
	if (Array.isArray(n$1)) return va(e, r, t, n$1);
	if (M(n$1)) return Oa(e, r, t, n$1);
	if (Ze(n$1)) return ka(e, r, t, n$1);
	let a = n$1.constructor;
	if (a === Y$1) return E$1(e, r, n$1.replacement);
	return un(e, r, t, n$1) || Da(e, r, t, n$1, a);
}
function Ba(e, r, t) {
	let n$1 = q$1(e.base, t);
	if (n$1.type !== 0) return n$1.value;
	let a = un(e, r, n$1.value, t);
	if (a) return a;
	throw new x$1(t);
}
function E$1(e, r, t) {
	if (r >= e.base.depthLimit) throw new ee(e.base.depthLimit);
	switch (typeof t) {
		case "boolean": return t ? J$1 : Z$1;
		case "undefined": return Ae$1;
		case "string": return X(t);
		case "number": return Te(t);
		case "bigint": return we(t);
		case "object":
			if (t) {
				let n$1 = q$1(e.base, t);
				return n$1.type === 0 ? Fa(e, r + 1, n$1.value, t) : n$1.value;
			}
			return Ee$1;
		case "symbol": return I(e.base, t);
		case "function": return Ba(e, r, t);
		default: throw new x$1(t);
	}
}
function ie(e, r) {
	e.state.initial ? e.state.buffer.push(r) : $r(e, r, !1);
}
function Zr(e, r) {
	if (e.state.onError) e.state.onError(r);
	else throw r instanceof z ? r : new z(r);
}
function ln(e) {
	e.state.onDone && e.state.onDone();
}
function $r(e, r, t) {
	try {
		e.state.onParse(r, t);
	} catch (n$1) {
		Zr(e, n$1);
	}
}
function Xr(e) {
	e.state.pending++;
}
function be(e) {
	--e.state.pending <= 0 && ln(e);
}
function G(e, r, t) {
	try {
		return E$1(e, r, t);
	} catch (n$1) {
		return Zr(e, n$1), o$2;
	}
}
function Qr(e, r) {
	let t = G(e, 0, r);
	t && ($r(e, t, !0), e.state.initial = !1, Va(e, e.state), e.state.pending <= 0 && fr(e));
}
function Va(e, r) {
	for (let t = 0, n$1 = r.buffer.length; t < n$1; t++) $r(e, r.buffer[t], !1);
}
function fr(e) {
	e.state.alive && (ln(e), e.state.alive = !1);
}
function cn(e, r) {
	let t = A(r.plugins), n$1 = Hr({
		plugins: t,
		refs: r.refs,
		disabledFeatures: r.disabledFeatures,
		onParse(a, s) {
			let i$1 = ur({
				plugins: t,
				features: n$1.base.features,
				scopeId: r.scopeId,
				markedRefs: n$1.base.marked
			}), u$1;
			try {
				u$1 = cr(i$1, a);
			} catch (l$1) {
				r.onError && r.onError(l$1);
				return;
			}
			r.onSerialize(u$1, s);
		},
		onError: r.onError,
		onDone: r.onDone
	});
	return Qr(n$1, e), fr.bind(null, n$1);
}
var Sr = class {
	constructor(r) {
		this.options = r;
		this.alive = !0;
		this.flushed = !1;
		this.done = !1;
		this.pending = 0;
		this.cleanups = [];
		this.refs = /* @__PURE__ */ new Map();
		this.keys = /* @__PURE__ */ new Set();
		this.ids = 0;
		this.plugins = A(r.plugins);
	}
	write(r, t) {
		this.alive && !this.flushed && (this.pending++, this.keys.add(r), this.cleanups.push(cn(t, {
			plugins: this.plugins,
			scopeId: this.options.scopeId,
			refs: this.refs,
			disabledFeatures: this.options.disabledFeatures,
			onError: this.options.onError,
			onSerialize: (n$1, a) => {
				this.alive && this.options.onData(a ? this.options.globalIdentifier + "[\\"" + y$1(r) + "\\"]=" + n$1 : n$1);
			},
			onDone: () => {
				this.alive && (this.pending--, this.pending <= 0 && this.flushed && !this.done && this.options.onDone && (this.options.onDone(), this.done = !0));
			}
		})));
	}
	getNextID() {
		for (; this.keys.has("" + this.ids);) this.ids++;
		return "" + this.ids;
	}
	push(r) {
		let t = this.getNextID();
		return this.write(t, r), t;
	}
	flush() {
		this.alive && (this.flushed = !0, this.pending <= 0 && !this.done && this.options.onDone && (this.options.onDone(), this.done = !0));
	}
	close() {
		if (this.alive) {
			for (let r = 0, t = this.cleanups.length; r < t; r++) this.cleanups[r]();
			!this.done && this.options.onDone && (this.options.onDone(), this.done = !0), this.alive = !1;
		}
	}
};

//#endregion
//#region node_modules/seroval/dist/esm/production/index.mjs
var L$1 = ((i$1) => (i$1[i$1.AggregateError = 1] = "AggregateError", i$1[i$1.ArrowFunction = 2] = "ArrowFunction", i$1[i$1.ErrorPrototypeStack = 4] = "ErrorPrototypeStack", i$1[i$1.ObjectAssign = 8] = "ObjectAssign", i$1[i$1.BigIntTypedArray = 16] = "BigIntTypedArray", i$1[i$1.RegExp = 32] = "RegExp", i$1))(L$1 || {});
var v$1 = Symbol.asyncIterator, mr = Symbol.hasInstance, R = Symbol.isConcatSpreadable, C = Symbol.iterator, pr = Symbol.match, dr = Symbol.matchAll, gr = Symbol.replace, yr = Symbol.search, Nr = Symbol.species, br = Symbol.split, vr = Symbol.toPrimitive, P$1 = Symbol.toStringTag, Cr = Symbol.unscopables;
var rt = {
	0: "Symbol.asyncIterator",
	1: "Symbol.hasInstance",
	2: "Symbol.isConcatSpreadable",
	3: "Symbol.iterator",
	4: "Symbol.match",
	5: "Symbol.matchAll",
	6: "Symbol.replace",
	7: "Symbol.search",
	8: "Symbol.species",
	9: "Symbol.split",
	10: "Symbol.toPrimitive",
	11: "Symbol.toStringTag",
	12: "Symbol.unscopables"
}, ve = {
	[v$1]: 0,
	[mr]: 1,
	[R]: 2,
	[C]: 3,
	[pr]: 4,
	[dr]: 5,
	[gr]: 6,
	[yr]: 7,
	[Nr]: 8,
	[br]: 9,
	[vr]: 10,
	[P$1]: 11,
	[Cr]: 12
}, tt = {
	0: v$1,
	1: mr,
	2: R,
	3: C,
	4: pr,
	5: dr,
	6: gr,
	7: yr,
	8: Nr,
	9: br,
	10: vr,
	11: P$1,
	12: Cr
}, nt = {
	2: "!0",
	3: "!1",
	1: "void 0",
	0: "null",
	4: "-0",
	5: "1/0",
	6: "-1/0",
	7: "0/0"
}, o$1 = void 0, ot = {
	2: !0,
	3: !1,
	1: o$1,
	0: null,
	4: -0,
	5: Number.POSITIVE_INFINITY,
	6: Number.NEGATIVE_INFINITY,
	7: NaN
};
function c$1(e, r, t, n$1, a, s, i$1, u$1, l$1, g$1, S, d$1) {
	return {
		t: e,
		i: r,
		s: t,
		c: n$1,
		m: a,
		p: s,
		e: i$1,
		a: u$1,
		f: l$1,
		b: g$1,
		o: S,
		l: d$1
	};
}
function F(e) {
	return c$1(2, o$1, e, o$1, o$1, o$1, o$1, o$1, o$1, o$1, o$1, o$1);
}
var J = F(2), Z = F(3), Ae = F(1), Ee = F(0), st = F(4), it = F(5), ut = F(6), lt = F(7);
var U = "__SEROVAL_REFS__", ce = "$R", Ie = \`self.\${ce}\`;
var Ar = /* @__PURE__ */ new Map(), j = /* @__PURE__ */ new Map();
typeof globalThis != "undefined" ? Object.defineProperty(globalThis, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof window != "undefined" ? Object.defineProperty(window, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof self != "undefined" ? Object.defineProperty(self, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof global != "undefined" && Object.defineProperty(global, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
});
var { toString: ys } = Object.prototype;
var re = () => {
	let e = {
		p: 0,
		s: 0,
		f: 0
	};
	return e.p = new Promise((r, t) => {
		e.s = r, e.f = t;
	}), e;
}, vn = (e, r) => {
	e.s(r), e.p.s = 1, e.p.v = r;
}, Cn = (e, r) => {
	e.f(r), e.p.s = 2, e.p.v = r;
}, yt = re.toString(), Nt = vn.toString(), bt = Cn.toString(), Rr = () => {
	let e = [], r = [], t = !0, n$1 = !1, a = 0, s = (l$1, g$1, S) => {
		for (S = 0; S < a; S++) r[S] && r[S][g$1](l$1);
	}, i$1 = (l$1, g$1, S, d$1) => {
		for (g$1 = 0, S = e.length; g$1 < S; g$1++) d$1 = e[g$1], !t && g$1 === S - 1 ? l$1[n$1 ? "return" : "throw"](d$1) : l$1.next(d$1);
	}, u$1 = (l$1, g$1) => (t && (g$1 = a++, r[g$1] = l$1), i$1(l$1), () => {
		t && (r[g$1] = r[a], r[a--] = void 0);
	});
	return {
		__SEROVAL_STREAM__: !0,
		on: (l$1) => u$1(l$1),
		next: (l$1) => {
			t && (e.push(l$1), s(l$1, "next"));
		},
		throw: (l$1) => {
			t && (e.push(l$1), s(l$1, "throw"), t = !1, n$1 = !1, r.length = 0);
		},
		return: (l$1) => {
			t && (e.push(l$1), s(l$1, "return"), t = !1, n$1 = !0, r.length = 0);
		}
	};
}, vt = Rr.toString(), Pr = (e) => (r) => () => {
	let t = 0, n$1 = {
		[e]: () => n$1,
		next: () => {
			if (t > r.d) return {
				done: !0,
				value: void 0
			};
			let a = t++, s = r.v[a];
			if (a === r.t) throw s;
			return {
				done: a === r.d,
				value: s
			};
		}
	};
	return n$1;
}, Ct = Pr.toString(), xr = (e, r) => (t) => () => {
	let n$1 = 0, a = -1, s = !1, i$1 = [], u$1 = [], l$1 = (S = 0, d$1 = u$1.length) => {
		for (; S < d$1; S++) u$1[S].s({
			done: !0,
			value: void 0
		});
	};
	t.on({
		next: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !1,
				value: S
			}), i$1.push(S);
		},
		throw: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.f(S), l$1(), a = i$1.length, s = !0, i$1.push(S);
		},
		return: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !0,
				value: S
			}), l$1(), a = i$1.length, i$1.push(S);
		}
	});
	let g$1 = {
		[e]: () => g$1,
		next: () => {
			if (a === -1) {
				let K$1 = n$1++;
				if (K$1 >= i$1.length) {
					let et = r();
					return u$1.push(et), et.p;
				}
				return {
					done: !1,
					value: i$1[K$1]
				};
			}
			if (n$1 > a) return {
				done: !0,
				value: void 0
			};
			let S = n$1++, d$1 = i$1[S];
			if (S !== a) return {
				done: !1,
				value: d$1
			};
			if (s) throw d$1;
			return {
				done: !0,
				value: d$1
			};
		}
	};
	return g$1;
}, At = xr.toString(), Or = (e) => {
	let r = atob(e), t = r.length, n$1 = new Uint8Array(t);
	for (let a = 0; a < t; a++) n$1[a] = r.charCodeAt(a);
	return n$1.buffer;
}, Et = Or.toString();
var An = Pr(C);
function te$1() {
	return Rr();
}
var En = xr(v$1, re);
var ae = ((t) => (t[t.Vanilla = 1] = "Vanilla", t[t.Cross = 2] = "Cross", t))(ae || {});
function ni(e) {
	return e;
}
var Eo = () => T, Io = Eo.toString(), qt = /=>/.test(Io);
var Ht = "hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_", Gt = Ht.length, Jt = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_", Kt = Jt.length;

//#endregion
//#region node_modules/seroval-plugins/dist/esm/production/web.mjs
var u = (e) => {
	let r = new AbortController(), a = r.abort.bind(r);
	return e.then(a, a), r;
};
function E(e) {
	e(this.reason);
}
function D(e) {
	this.addEventListener("abort", E.bind(this, e), { once: !0 });
}
function c(e) {
	return new Promise(D.bind(e));
}
var i = {}, O = ni({
	tag: "seroval-plugins/web/AbortSignal",
	extends: [ni({
		tag: "seroval-plugins/web/AbortControllerFactoryPlugin",
		test(e) {
			return e === i;
		},
		parse: {
			sync() {
				return i;
			},
			async async() {
				return await Promise.resolve(i);
			},
			stream() {
				return i;
			}
		},
		serialize() {
			return u.toString();
		},
		deserialize() {
			return u;
		}
	})],
	test(e) {
		return typeof AbortSignal == "undefined" ? !1 : e instanceof AbortSignal;
	},
	parse: {
		sync(e, r) {
			return e.aborted ? { reason: r.parse(e.reason) } : {};
		},
		async async(e, r) {
			if (e.aborted) return { reason: await r.parse(e.reason) };
			let a = await c(e);
			return { reason: await r.parse(a) };
		},
		stream(e, r) {
			if (e.aborted) return { reason: r.parse(e.reason) };
			let a = c(e);
			return {
				factory: r.parse(i),
				controller: r.parse(a)
			};
		}
	},
	serialize(e, r) {
		return e.reason ? "AbortSignal.abort(" + r.serialize(e.reason) + ")" : e.controller && e.factory ? "(" + r.serialize(e.factory) + ")(" + r.serialize(e.controller) + ").signal" : "(new AbortController).signal";
	},
	deserialize(e, r) {
		return e.reason ? AbortSignal.abort(r.deserialize(e.reason)) : e.controller ? u(r.deserialize(e.controller)).signal : new AbortController().signal;
	}
});
var B = ni({
	tag: "seroval-plugins/web/Blob",
	test(e) {
		return typeof Blob == "undefined" ? !1 : e instanceof Blob;
	},
	parse: { async async(e, r) {
		return {
			type: await r.parse(e.type),
			buffer: await r.parse(await e.arrayBuffer())
		};
	} },
	serialize(e, r) {
		return "new Blob([" + r.serialize(e.buffer) + "],{type:" + r.serialize(e.type) + "})";
	},
	deserialize(e, r) {
		return new Blob([r.deserialize(e.buffer)], { type: r.deserialize(e.type) });
	}
});
function d(e) {
	return {
		detail: e.detail,
		bubbles: e.bubbles,
		cancelable: e.cancelable,
		composed: e.composed
	};
}
var L = ni({
	tag: "seroval-plugins/web/CustomEvent",
	test(e) {
		return typeof CustomEvent == "undefined" ? !1 : e instanceof CustomEvent;
	},
	parse: {
		sync(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(d(e))
			};
		},
		async async(e, r) {
			return {
				type: await r.parse(e.type),
				options: await r.parse(d(e))
			};
		},
		stream(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(d(e))
			};
		}
	},
	serialize(e, r) {
		return "new CustomEvent(" + r.serialize(e.type) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new CustomEvent(r.deserialize(e.type), r.deserialize(e.options));
	}
});
var q = ni({
	tag: "seroval-plugins/web/DOMException",
	test(e) {
		return typeof DOMException == "undefined" ? !1 : e instanceof DOMException;
	},
	parse: {
		sync(e, r) {
			return {
				name: r.parse(e.name),
				message: r.parse(e.message)
			};
		},
		async async(e, r) {
			return {
				name: await r.parse(e.name),
				message: await r.parse(e.message)
			};
		},
		stream(e, r) {
			return {
				name: r.parse(e.name),
				message: r.parse(e.message)
			};
		}
	},
	serialize(e, r) {
		return "new DOMException(" + r.serialize(e.message) + "," + r.serialize(e.name) + ")";
	},
	deserialize(e, r) {
		return new DOMException(r.deserialize(e.message), r.deserialize(e.name));
	}
});
function f(e) {
	return {
		bubbles: e.bubbles,
		cancelable: e.cancelable,
		composed: e.composed
	};
}
var Y = ni({
	tag: "seroval-plugins/web/Event",
	test(e) {
		return typeof Event == "undefined" ? !1 : e instanceof Event;
	},
	parse: {
		sync(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(f(e))
			};
		},
		async async(e, r) {
			return {
				type: await r.parse(e.type),
				options: await r.parse(f(e))
			};
		},
		stream(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(f(e))
			};
		}
	},
	serialize(e, r) {
		return "new Event(" + r.serialize(e.type) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Event(r.deserialize(e.type), r.deserialize(e.options));
	}
});
var m = ni({
	tag: "seroval-plugins/web/File",
	test(e) {
		return typeof File == "undefined" ? !1 : e instanceof File;
	},
	parse: { async async(e, r) {
		return {
			name: await r.parse(e.name),
			options: await r.parse({
				type: e.type,
				lastModified: e.lastModified
			}),
			buffer: await r.parse(await e.arrayBuffer())
		};
	} },
	serialize(e, r) {
		return "new File([" + r.serialize(e.buffer) + "]," + r.serialize(e.name) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new File([r.deserialize(e.buffer)], r.deserialize(e.name), r.deserialize(e.options));
	}
});
function y(e) {
	let r = [];
	return e.forEach((a, t) => {
		r.push([t, a]);
	}), r;
}
var o = {}, v = (e, r = new FormData(), a = 0, t = e.length, s) => {
	for (; a < t; a++) s = e[a], r.append(s[0], s[1]);
	return r;
}, K = ni({
	tag: "seroval-plugins/web/FormData",
	extends: [m, ni({
		tag: "seroval-plugins/web/FormDataFactory",
		test(e) {
			return e === o;
		},
		parse: {
			sync() {
				return o;
			},
			async async() {
				return await Promise.resolve(o);
			},
			stream() {
				return o;
			}
		},
		serialize() {
			return v.toString();
		},
		deserialize() {
			return o;
		}
	})],
	test(e) {
		return typeof FormData == "undefined" ? !1 : e instanceof FormData;
	},
	parse: {
		sync(e, r) {
			return {
				factory: r.parse(o),
				entries: r.parse(y(e))
			};
		},
		async async(e, r) {
			return {
				factory: await r.parse(o),
				entries: await r.parse(y(e))
			};
		},
		stream(e, r) {
			return {
				factory: r.parse(o),
				entries: r.parse(y(e))
			};
		}
	},
	serialize(e, r) {
		return "(" + r.serialize(e.factory) + ")(" + r.serialize(e.entries) + ")";
	},
	deserialize(e, r) {
		return v(r.deserialize(e.entries));
	}
});
function g(e) {
	let r = [];
	return e.forEach((a, t) => {
		r.push([t, a]);
	}), r;
}
var l = ni({
	tag: "seroval-plugins/web/Headers",
	test(e) {
		return typeof Headers == "undefined" ? !1 : e instanceof Headers;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(g(e)) };
		},
		async async(e, r) {
			return { value: await r.parse(g(e)) };
		},
		stream(e, r) {
			return { value: r.parse(g(e)) };
		}
	},
	serialize(e, r) {
		return "new Headers(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new Headers(r.deserialize(e.value));
	}
});
var $ = ni({
	tag: "seroval-plugins/web/ImageData",
	test(e) {
		return typeof ImageData == "undefined" ? !1 : e instanceof ImageData;
	},
	parse: {
		sync(e, r) {
			return {
				data: r.parse(e.data),
				width: r.parse(e.width),
				height: r.parse(e.height),
				options: r.parse({ colorSpace: e.colorSpace })
			};
		},
		async async(e, r) {
			return {
				data: await r.parse(e.data),
				width: await r.parse(e.width),
				height: await r.parse(e.height),
				options: await r.parse({ colorSpace: e.colorSpace })
			};
		},
		stream(e, r) {
			return {
				data: r.parse(e.data),
				width: r.parse(e.width),
				height: r.parse(e.height),
				options: r.parse({ colorSpace: e.colorSpace })
			};
		}
	},
	serialize(e, r) {
		return "new ImageData(" + r.serialize(e.data) + "," + r.serialize(e.width) + "," + r.serialize(e.height) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new ImageData(r.deserialize(e.data), r.deserialize(e.width), r.deserialize(e.height), r.deserialize(e.options));
	}
});
var n = {}, P = (e) => new ReadableStream({ start: (r) => {
	e.on({
		next: (a) => {
			try {
				r.enqueue(a);
			} catch (t) {}
		},
		throw: (a) => {
			r.error(a);
		},
		return: () => {
			try {
				r.close();
			} catch (a) {}
		}
	});
} }), x = ni({
	tag: "seroval-plugins/web/ReadableStreamFactory",
	test(e) {
		return e === n;
	},
	parse: {
		sync() {
			return n;
		},
		async async() {
			return await Promise.resolve(n);
		},
		stream() {
			return n;
		}
	},
	serialize() {
		return P.toString();
	},
	deserialize() {
		return n;
	}
});
function w(e) {
	let r = te$1(), a = e.getReader();
	async function t() {
		try {
			let s = await a.read();
			s.done ? r.return(s.value) : (r.next(s.value), await t());
		} catch (s) {
			r.throw(s);
		}
	}
	return t().catch(() => {}), r;
}
var p = ni({
	tag: "seroval/plugins/web/ReadableStream",
	extends: [x],
	test(e) {
		return typeof ReadableStream == "undefined" ? !1 : e instanceof ReadableStream;
	},
	parse: {
		sync(e, r) {
			return {
				factory: r.parse(n),
				stream: r.parse(te$1())
			};
		},
		async async(e, r) {
			return {
				factory: await r.parse(n),
				stream: await r.parse(w(e))
			};
		},
		stream(e, r) {
			return {
				factory: r.parse(n),
				stream: r.parse(w(e))
			};
		}
	},
	serialize(e, r) {
		return "(" + r.serialize(e.factory) + ")(" + r.serialize(e.stream) + ")";
	},
	deserialize(e, r) {
		return P(r.deserialize(e.stream));
	}
});
function N(e, r) {
	return {
		body: r,
		cache: e.cache,
		credentials: e.credentials,
		headers: e.headers,
		integrity: e.integrity,
		keepalive: e.keepalive,
		method: e.method,
		mode: e.mode,
		redirect: e.redirect,
		referrer: e.referrer,
		referrerPolicy: e.referrerPolicy
	};
}
var te = ni({
	tag: "seroval-plugins/web/Request",
	extends: [p, l],
	test(e) {
		return typeof Request == "undefined" ? !1 : e instanceof Request;
	},
	parse: {
		async async(e, r) {
			return {
				url: await r.parse(e.url),
				options: await r.parse(N(e, e.body && !e.bodyUsed ? await e.clone().arrayBuffer() : null))
			};
		},
		stream(e, r) {
			return {
				url: r.parse(e.url),
				options: r.parse(N(e, e.body && !e.bodyUsed ? e.clone().body : null))
			};
		}
	},
	serialize(e, r) {
		return "new Request(" + r.serialize(e.url) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Request(r.deserialize(e.url), r.deserialize(e.options));
	}
});
function h(e) {
	return {
		headers: e.headers,
		status: e.status,
		statusText: e.statusText
	};
}
var ne = ni({
	tag: "seroval-plugins/web/Response",
	extends: [p, l],
	test(e) {
		return typeof Response == "undefined" ? !1 : e instanceof Response;
	},
	parse: {
		async async(e, r) {
			return {
				body: await r.parse(e.body && !e.bodyUsed ? await e.clone().arrayBuffer() : null),
				options: await r.parse(h(e))
			};
		},
		stream(e, r) {
			return {
				body: r.parse(e.body && !e.bodyUsed ? e.clone().body : null),
				options: r.parse(h(e))
			};
		}
	},
	serialize(e, r) {
		return "new Response(" + r.serialize(e.body) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Response(r.deserialize(e.body), r.deserialize(e.options));
	}
});
var pe = ni({
	tag: "seroval-plugins/web/URL",
	test(e) {
		return typeof URL == "undefined" ? !1 : e instanceof URL;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(e.href) };
		},
		async async(e, r) {
			return { value: await r.parse(e.href) };
		},
		stream(e, r) {
			return { value: r.parse(e.href) };
		}
	},
	serialize(e, r) {
		return "new URL(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new URL(r.deserialize(e.value));
	}
});
var fe = ni({
	tag: "seroval-plugins/web/URLSearchParams",
	test(e) {
		return typeof URLSearchParams == "undefined" ? !1 : e instanceof URLSearchParams;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(e.toString()) };
		},
		async async(e, r) {
			return { value: await r.parse(e.toString()) };
		},
		stream(e, r) {
			return { value: r.parse(e.toString()) };
		}
	},
	serialize(e, r) {
		return "new URLSearchParams(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new URLSearchParams(r.deserialize(e.value));
	}
});

//#endregion
//#region node_modules/solid-js/web/dist/server.js
const booleans = [
	"allowfullscreen",
	"async",
	"alpha",
	"autofocus",
	"autoplay",
	"checked",
	"controls",
	"default",
	"disabled",
	"formnovalidate",
	"hidden",
	"indeterminate",
	"inert",
	"ismap",
	"loop",
	"multiple",
	"muted",
	"nomodule",
	"novalidate",
	"open",
	"playsinline",
	"readonly",
	"required",
	"reversed",
	"seamless",
	"selected",
	"adauctionheaders",
	"browsingtopics",
	"credentialless",
	"defaultchecked",
	"defaultmuted",
	"defaultselected",
	"defer",
	"disablepictureinpicture",
	"disableremoteplayback",
	"preservespitch",
	"shadowrootclonable",
	"shadowrootcustomelementregistry",
	"shadowrootdelegatesfocus",
	"shadowrootserializable",
	"sharedstoragewritable"
];
const Properties = /* @__PURE__ */ new Set([
	"className",
	"value",
	"readOnly",
	"noValidate",
	"formNoValidate",
	"isMap",
	"noModule",
	"playsInline",
	"adAuctionHeaders",
	"allowFullscreen",
	"browsingTopics",
	"defaultChecked",
	"defaultMuted",
	"defaultSelected",
	"disablePictureInPicture",
	"disableRemotePlayback",
	"preservesPitch",
	"shadowRootClonable",
	"shadowRootCustomElementRegistry",
	"shadowRootDelegatesFocus",
	"shadowRootSerializable",
	"sharedStorageWritable",
	...booleans
]);
const Aliases = /* @__PURE__ */ Object.assign(Object.create(null), {
	className: "class",
	htmlFor: "for"
});
const PropAliases = /* @__PURE__ */ Object.assign(Object.create(null), {
	class: "className",
	novalidate: {
		$: "noValidate",
		FORM: 1
	},
	formnovalidate: {
		$: "formNoValidate",
		BUTTON: 1,
		INPUT: 1
	},
	ismap: {
		$: "isMap",
		IMG: 1
	},
	nomodule: {
		$: "noModule",
		SCRIPT: 1
	},
	playsinline: {
		$: "playsInline",
		VIDEO: 1
	},
	readonly: {
		$: "readOnly",
		INPUT: 1,
		TEXTAREA: 1
	},
	adauctionheaders: {
		$: "adAuctionHeaders",
		IFRAME: 1
	},
	allowfullscreen: {
		$: "allowFullscreen",
		IFRAME: 1
	},
	browsingtopics: {
		$: "browsingTopics",
		IMG: 1
	},
	defaultchecked: {
		$: "defaultChecked",
		INPUT: 1
	},
	defaultmuted: {
		$: "defaultMuted",
		AUDIO: 1,
		VIDEO: 1
	},
	defaultselected: {
		$: "defaultSelected",
		OPTION: 1
	},
	disablepictureinpicture: {
		$: "disablePictureInPicture",
		VIDEO: 1
	},
	disableremoteplayback: {
		$: "disableRemotePlayback",
		AUDIO: 1,
		VIDEO: 1
	},
	preservespitch: {
		$: "preservesPitch",
		AUDIO: 1,
		VIDEO: 1
	},
	shadowrootclonable: {
		$: "shadowRootClonable",
		TEMPLATE: 1
	},
	shadowrootdelegatesfocus: {
		$: "shadowRootDelegatesFocus",
		TEMPLATE: 1
	},
	shadowrootserializable: {
		$: "shadowRootSerializable",
		TEMPLATE: 1
	},
	sharedstoragewritable: {
		$: "sharedStorageWritable",
		IFRAME: 1,
		IMG: 1
	}
});
const ES2017FLAG = L$2.AggregateError | L$2.BigIntTypedArray;
const GLOBAL_IDENTIFIER = "_$HY.r";
function createSerializer({ onData, onDone, scopeId, onError, plugins: customPlugins }) {
	const defaultPlugins = [
		O,
		L,
		q,
		Y,
		K,
		l,
		p,
		te,
		ne,
		fe,
		pe
	];
	return new Sr({
		scopeId,
		plugins: customPlugins ? [...customPlugins, ...defaultPlugins] : defaultPlugins,
		globalIdentifier: GLOBAL_IDENTIFIER,
		disabledFeatures: ES2017FLAG,
		onData,
		onDone,
		onError
	});
}
function getLocalHeaderScript(id) {
	return mn(id) + ";";
}
function renderToString(code, options = {}) {
	const { renderId } = options;
	let scripts = "";
	const serializer = createSerializer({
		scopeId: renderId,
		plugins: options.plugins,
		onData(script) {
			if (!scripts) scripts = getLocalHeaderScript(renderId);
			scripts += script + ";";
		},
		onError: options.onError
	});
	sharedConfig.context = {
		id: renderId || "",
		count: 0,
		suspense: {},
		lazy: {},
		assets: [],
		nonce: options.nonce,
		serialize(id, p$1) {
			!sharedConfig.context.noHydrate && serializer.write(id, p$1);
		},
		roots: 0,
		nextRoot() {
			return this.renderId + "i-" + this.roots++;
		}
	};
	let html = createRoot((d$1) => {
		setTimeout(d$1);
		return resolveSSRNode(escape(code()));
	});
	sharedConfig.context.noHydrate = true;
	serializer.close();
	html = injectAssets(sharedConfig.context.assets, html);
	if (scripts.length) html = injectScripts(html, scripts, options.nonce);
	return html;
}
function ssr(t, ...nodes) {
	if (nodes.length) {
		let result = "";
		for (let i$1 = 0; i$1 < nodes.length; i$1++) {
			result += t[i$1];
			const node = nodes[i$1];
			if (node !== void 0) result += resolveSSRNode(node);
		}
		t = result + t[nodes.length];
	}
	return { t };
}
function ssrHydrationKey() {
	const hk = getHydrationKey();
	return hk ? \` data-hk="\${hk}"\` : "";
}
function escape(s, attr) {
	const t = typeof s;
	if (t !== "string") {
		if (!attr && t === "function") return escape(s());
		if (!attr && Array.isArray(s)) {
			s = s.slice();
			for (let i$1 = 0; i$1 < s.length; i$1++) s[i$1] = escape(s[i$1]);
			return s;
		}
		if (attr && t === "boolean") return String(s);
		return s;
	}
	const delim = attr ? "\\"" : "<";
	const escDelim = attr ? "&quot;" : "&lt;";
	let iDelim = s.indexOf(delim);
	let iAmp = s.indexOf("&");
	if (iDelim < 0 && iAmp < 0) return s;
	let left = 0, out = "";
	while (iDelim >= 0 && iAmp >= 0) if (iDelim < iAmp) {
		if (left < iDelim) out += s.substring(left, iDelim);
		out += escDelim;
		left = iDelim + 1;
		iDelim = s.indexOf(delim, left);
	} else {
		if (left < iAmp) out += s.substring(left, iAmp);
		out += "&amp;";
		left = iAmp + 1;
		iAmp = s.indexOf("&", left);
	}
	if (iDelim >= 0) do {
		if (left < iDelim) out += s.substring(left, iDelim);
		out += escDelim;
		left = iDelim + 1;
		iDelim = s.indexOf(delim, left);
	} while (iDelim >= 0);
	else while (iAmp >= 0) {
		if (left < iAmp) out += s.substring(left, iAmp);
		out += "&amp;";
		left = iAmp + 1;
		iAmp = s.indexOf("&", left);
	}
	return left < s.length ? out + s.substring(left) : out;
}
function resolveSSRNode(node, top) {
	const t = typeof node;
	if (t === "string") return node;
	if (node == null || t === "boolean") return "";
	if (Array.isArray(node)) {
		let prev = {};
		let mapped = "";
		for (let i$1 = 0, len = node.length; i$1 < len; i$1++) {
			if (!top && typeof prev !== "object" && typeof node[i$1] !== "object") mapped += \`<!--!$-->\`;
			mapped += resolveSSRNode(prev = node[i$1]);
		}
		return mapped;
	}
	if (t === "object") return node.t;
	if (t === "function") return resolveSSRNode(node());
	return String(node);
}
function getHydrationKey() {
	const hydrate = sharedConfig.context;
	return hydrate && !hydrate.noHydrate && sharedConfig.getNextContextId();
}
function injectAssets(assets, html) {
	if (!assets || !assets.length) return html;
	let out = "";
	for (let i$1 = 0, len = assets.length; i$1 < len; i$1++) out += assets[i$1]();
	const index = html.indexOf("</head>");
	if (index === -1) return html;
	return html.slice(0, index) + out + html.slice(index);
}
function injectScripts(html, scripts, nonce) {
	const tag = \`<script\${nonce ? \` nonce="\${nonce}"\` : ""}>\${scripts}<\\/script>\`;
	const index = html.indexOf("<!--xs-->");
	if (index > -1) return html.slice(0, index) + tag + html.slice(index);
	return html + tag;
}

//#endregion
//#region tests/fixtures/ssr.tsx
var _tmpl$ = [
	"<button",
	" type=\\"button\\">",
	"</button>"
];
const App = () => {
	const [count, setCount] = createSignal(0);
	return ssr(_tmpl$, ssrHydrationKey(), escape(count()));
};
var ssr_default = renderToString(App);

//#endregion
export { ssr_default as default };"
`;

exports[`rolldown-plugin-solid dist should transform SSR with hydratable option 1`] = `
"//#region node_modules/solid-js/dist/server.js
const ERROR = Symbol("error");
function castError(err) {
	if (err instanceof Error) return err;
	return new Error(typeof err === "string" ? err : "Unknown error", { cause: err });
}
function handleError(err, owner = Owner) {
	const fns = owner && owner.context && owner.context[ERROR];
	const error = castError(err);
	if (!fns) throw error;
	try {
		for (const f$2 of fns) f$2(error);
	} catch (e) {
		handleError(e, owner && owner.owner || null);
	}
}
const UNOWNED = {
	context: null,
	owner: null,
	owned: null,
	cleanups: null
};
let Owner = null;
function createOwner() {
	const o$3 = {
		owner: Owner,
		context: Owner ? Owner.context : null,
		owned: null,
		cleanups: null
	};
	if (Owner) if (!Owner.owned) Owner.owned = [o$3];
	else Owner.owned.push(o$3);
	return o$3;
}
function createRoot(fn$1, detachedOwner) {
	const owner = Owner, current = detachedOwner === void 0 ? owner : detachedOwner, root = fn$1.length === 0 ? UNOWNED : {
		context: current ? current.context : null,
		owner: current,
		owned: null,
		cleanups: null
	};
	Owner = root;
	let result;
	try {
		result = fn$1(fn$1.length === 0 ? () => {} : () => cleanNode(root));
	} catch (err) {
		handleError(err);
	} finally {
		Owner = owner;
	}
	return result;
}
function createSignal(value, options) {
	return [() => value, (v$3) => {
		return value = typeof v$3 === "function" ? v$3(value) : v$3;
	}];
}
function createMemo(fn$1, value) {
	Owner = createOwner();
	let v$3;
	try {
		v$3 = fn$1(value);
	} catch (err) {
		handleError(err);
	} finally {
		Owner = Owner.owner;
	}
	return () => v$3;
}
function cleanNode(node) {
	if (node.owned) {
		for (let i$1 = 0; i$1 < node.owned.length; i$1++) cleanNode(node.owned[i$1]);
		node.owned = null;
	}
	if (node.cleanups) {
		for (let i$1 = 0; i$1 < node.cleanups.length; i$1++) node.cleanups[i$1]();
		node.cleanups = null;
	}
}
function createContext(defaultValue) {
	const id = Symbol("context");
	return {
		id,
		Provider: createProvider(id),
		defaultValue
	};
}
function children(fn$1) {
	const memo = createMemo(() => resolveChildren(fn$1()));
	memo.toArray = () => {
		const c$3 = memo();
		return Array.isArray(c$3) ? c$3 : c$3 != null ? [c$3] : [];
	};
	return memo;
}
function resolveChildren(children$1) {
	if (typeof children$1 === "function" && !children$1.length) return resolveChildren(children$1());
	if (Array.isArray(children$1)) {
		const results = [];
		for (let i$1 = 0; i$1 < children$1.length; i$1++) {
			const result = resolveChildren(children$1[i$1]);
			Array.isArray(result) ? results.push.apply(results, result) : results.push(result);
		}
		return results;
	}
	return children$1;
}
function createProvider(id) {
	return function provider(props) {
		return createMemo(() => {
			Owner.context = {
				...Owner.context,
				[id]: props.value
			};
			return children(() => props.children);
		});
	};
}
const sharedConfig = {
	context: void 0,
	getContextId() {
		if (!this.context) throw new Error(\`getContextId cannot be used under non-hydrating context\`);
		return getContextId(this.context.count);
	},
	getNextContextId() {
		if (!this.context) throw new Error(\`getNextContextId cannot be used under non-hydrating context\`);
		return getContextId(this.context.count++);
	}
};
function getContextId(count) {
	const num = String(count), len = num.length - 1;
	return sharedConfig.context.id + (len ? String.fromCharCode(96 + len) : "") + num;
}
const SuspenseContext = createContext();

//#endregion
//#region node_modules/solid-js/node_modules/seroval/dist/esm/production/index.mjs
var L$2 = ((i$1) => (i$1[i$1.AggregateError = 1] = "AggregateError", i$1[i$1.ArrowFunction = 2] = "ArrowFunction", i$1[i$1.ErrorPrototypeStack = 4] = "ErrorPrototypeStack", i$1[i$1.ObjectAssign = 8] = "ObjectAssign", i$1[i$1.BigIntTypedArray = 16] = "BigIntTypedArray", i$1[i$1.RegExp = 32] = "RegExp", i$1))(L$2 || {});
var v$2 = Symbol.asyncIterator, mr$1 = Symbol.hasInstance, R$1 = Symbol.isConcatSpreadable, C$1 = Symbol.iterator, pr$1 = Symbol.match, dr$1 = Symbol.matchAll, gr$1 = Symbol.replace, yr$1 = Symbol.search, Nr$1 = Symbol.species, br$1 = Symbol.split, vr$1 = Symbol.toPrimitive, P$2 = Symbol.toStringTag, Cr$1 = Symbol.unscopables;
var rt$1 = {
	0: "Symbol.asyncIterator",
	1: "Symbol.hasInstance",
	2: "Symbol.isConcatSpreadable",
	3: "Symbol.iterator",
	4: "Symbol.match",
	5: "Symbol.matchAll",
	6: "Symbol.replace",
	7: "Symbol.search",
	8: "Symbol.species",
	9: "Symbol.split",
	10: "Symbol.toPrimitive",
	11: "Symbol.toStringTag",
	12: "Symbol.unscopables"
}, ve$1 = {
	[v$2]: 0,
	[mr$1]: 1,
	[R$1]: 2,
	[C$1]: 3,
	[pr$1]: 4,
	[dr$1]: 5,
	[gr$1]: 6,
	[yr$1]: 7,
	[Nr$1]: 8,
	[br$1]: 9,
	[vr$1]: 10,
	[P$2]: 11,
	[Cr$1]: 12
}, tt$1 = {
	0: v$2,
	1: mr$1,
	2: R$1,
	3: C$1,
	4: pr$1,
	5: dr$1,
	6: gr$1,
	7: yr$1,
	8: Nr$1,
	9: br$1,
	10: vr$1,
	11: P$2,
	12: Cr$1
}, nt$1 = {
	2: "!0",
	3: "!1",
	1: "void 0",
	0: "null",
	4: "-0",
	5: "1/0",
	6: "-1/0",
	7: "0/0"
}, o$2 = void 0, ot$1 = {
	2: !0,
	3: !1,
	1: o$2,
	0: null,
	4: -0,
	5: Number.POSITIVE_INFINITY,
	6: Number.NEGATIVE_INFINITY,
	7: NaN
};
var Ce = {
	0: "Error",
	1: "EvalError",
	2: "RangeError",
	3: "ReferenceError",
	4: "SyntaxError",
	5: "TypeError",
	6: "URIError"
}, at = {
	0: Error,
	1: EvalError,
	2: RangeError,
	3: ReferenceError,
	4: SyntaxError,
	5: TypeError,
	6: URIError
};
function c$2(e, r, t, n$1, a, s, i$1, u$1, l$1, g$1, S, d$1) {
	return {
		t: e,
		i: r,
		s: t,
		c: n$1,
		m: a,
		p: s,
		e: i$1,
		a: u$1,
		f: l$1,
		b: g$1,
		o: S,
		l: d$1
	};
}
function F$1(e) {
	return c$2(2, o$2, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
var J$1 = F$1(2), Z$1 = F$1(3), Ae$1 = F$1(1), Ee$1 = F$1(0), st$1 = F$1(4), it$1 = F$1(5), ut$1 = F$1(6), lt$1 = F$1(7);
function fn(e) {
	switch (e) {
		case "\\"": return "\\\\\\"";
		case "\\\\": return "\\\\\\\\";
		case \`
\`: return "\\\\n";
		case "\\r": return "\\\\r";
		case "\\b": return "\\\\b";
		case "	": return "\\\\t";
		case "\\f": return "\\\\f";
		case "<": return "\\\\x3C";
		case "\\u2028": return "\\\\u2028";
		case "\\u2029": return "\\\\u2029";
		default: return o$2;
	}
}
function y$1(e) {
	let r = "", t = 0, n$1;
	for (let a = 0, s = e.length; a < s; a++) n$1 = fn(e[a]), n$1 && (r += e.slice(t, a) + n$1, t = a + 1);
	return t === 0 ? r = e : r += e.slice(t), r;
}
var U$1 = "__SEROVAL_REFS__", ce$1 = "$R", Ie$1 = \`self.\${ce$1}\`;
function mn(e) {
	return e == null ? \`\${Ie$1}=\${Ie$1}||[]\` : \`(\${Ie$1}=\${Ie$1}||{})["\${y$1(e)}"]=[]\`;
}
var Ar$1 = /* @__PURE__ */ new Map(), j$1 = /* @__PURE__ */ new Map();
function Er(e) {
	return Ar$1.has(e);
}
function ct(e) {
	if (Er(e)) return Ar$1.get(e);
	throw new Re(e);
}
typeof globalThis != "undefined" ? Object.defineProperty(globalThis, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof window != "undefined" ? Object.defineProperty(window, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof self != "undefined" ? Object.defineProperty(self, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof global != "undefined" && Object.defineProperty(global, U$1, {
	value: j$1,
	configurable: !0,
	writable: !1,
	enumerable: !1
});
function xe(e) {
	return e instanceof EvalError ? 1 : e instanceof RangeError ? 2 : e instanceof ReferenceError ? 3 : e instanceof SyntaxError ? 4 : e instanceof TypeError ? 5 : e instanceof URIError ? 6 : 0;
}
function gn(e) {
	let r = Ce[xe(e)];
	return e.name !== r ? { name: e.name } : e.constructor.name !== r ? { name: e.constructor.name } : {};
}
function $$1(e, r) {
	let t = gn(e), n$1 = Object.getOwnPropertyNames(e);
	for (let a = 0, s = n$1.length, i$1; a < s; a++) i$1 = n$1[a], i$1 !== "name" && i$1 !== "message" && (i$1 === "stack" ? r & 4 && (t = t || {}, t[i$1] = e[i$1]) : (t = t || {}, t[i$1] = e[i$1]));
	return t;
}
function Oe(e) {
	return Object.isFrozen(e) ? 3 : Object.isSealed(e) ? 2 : Object.isExtensible(e) ? 0 : 1;
}
function Te(e) {
	switch (e) {
		case Number.POSITIVE_INFINITY: return it$1;
		case Number.NEGATIVE_INFINITY: return ut$1;
	}
	return e !== e ? lt$1 : Object.is(e, -0) ? st$1 : c$2(0, o$2, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function X(e) {
	return c$2(1, o$2, y$1(e), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function we(e) {
	return c$2(3, o$2, "" + e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function mt(e) {
	return c$2(4, e, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function he(e, r) {
	let t = r.valueOf();
	return c$2(5, e, t !== t ? "" : r.toISOString(), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function ze(e, r) {
	return c$2(6, e, o$2, y$1(r.source), r.flags, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function pt(e, r) {
	return c$2(17, e, ve$1[r], o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function dt(e, r) {
	return c$2(18, e, y$1(ct(r)), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function fe$1(e, r, t) {
	return c$2(25, e, t, y$1(r), o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function _e(e, r, t) {
	return c$2(9, e, o$2, o$2, o$2, o$2, o$2, t, o$2, o$2, Oe(r), o$2);
}
function ke(e, r) {
	return c$2(21, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function De(e, r, t) {
	return c$2(15, e, o$2, r.constructor.name, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.length);
}
function Fe(e, r, t) {
	return c$2(16, e, o$2, r.constructor.name, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.byteLength);
}
function Be(e, r, t) {
	return c$2(20, e, o$2, o$2, o$2, o$2, o$2, o$2, t, r.byteOffset, o$2, r.byteLength);
}
function Ve(e, r, t) {
	return c$2(13, e, xe(r), o$2, y$1(r.message), t, o$2, o$2, o$2, o$2, o$2, o$2);
}
function Me(e, r, t) {
	return c$2(14, e, xe(r), o$2, y$1(r.message), t, o$2, o$2, o$2, o$2, o$2, o$2);
}
function Le(e, r) {
	return c$2(7, e, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2, o$2);
}
function Ue(e, r) {
	return c$2(28, o$2, o$2, o$2, o$2, o$2, o$2, [e, r], o$2, o$2, o$2, o$2);
}
function je(e, r) {
	return c$2(30, o$2, o$2, o$2, o$2, o$2, o$2, [e, r], o$2, o$2, o$2, o$2);
}
function Ye(e, r, t) {
	return c$2(31, e, o$2, o$2, o$2, o$2, o$2, t, r, o$2, o$2, o$2);
}
function qe(e, r) {
	return c$2(32, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function We(e, r) {
	return c$2(33, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function Ge(e, r) {
	return c$2(34, e, o$2, o$2, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2);
}
function Ke(e, r, t, n$1) {
	return c$2(35, e, t, o$2, o$2, o$2, o$2, r, o$2, o$2, o$2, n$1);
}
var { toString: ys$1 } = Object.prototype;
var yn = {
	parsing: 1,
	serialization: 2,
	deserialization: 3
};
function Nn(e) {
	return \`Seroval Error (step: \${yn[e]})\`;
}
var bn = (e, r) => Nn(e), Se = class extends Error {
	constructor(t, n$1) {
		super(bn(t, n$1));
		this.cause = n$1;
	}
}, z = class extends Se {
	constructor(r) {
		super("parsing", r);
	}
}, Ir = class extends Se {
	constructor(r) {
		super("serialization", r);
	}
}, He = class extends Se {
	constructor(r) {
		super("deserialization", r);
	}
};
function _(e) {
	return \`Seroval Error (specific: \${e})\`;
}
var x$1 = class extends Error {
	constructor(t) {
		super(_(1));
		this.value = t;
	}
}, w$1 = class extends Error {
	constructor(r) {
		super(_(2));
	}
}, Q = class extends Error {
	constructor(r) {
		super(_(3));
	}
}, V = class extends Error {
	constructor(r) {
		super(_(4));
	}
}, Re = class extends Error {
	constructor(t) {
		super(_(5));
		this.value = t;
	}
}, Pe = class extends Error {
	constructor(r) {
		super(_(6));
	}
}, Je = class extends Error {
	constructor(r) {
		super(_(7));
	}
}, h$1 = class extends Error {
	constructor(r) {
		super(_(8));
	}
}, gt = class extends Error {
	constructor(r) {
		super(_(9));
	}
}, ee = class extends Error {
	constructor(r) {
		super(_(9));
	}
};
var Y$1 = class {
	constructor(r, t) {
		this.value = r;
		this.replacement = t;
	}
};
var re$1 = () => {
	let e = {
		p: 0,
		s: 0,
		f: 0
	};
	return e.p = new Promise((r, t) => {
		e.s = r, e.f = t;
	}), e;
}, vn$1 = (e, r) => {
	e.s(r), e.p.s = 1, e.p.v = r;
}, Cn$1 = (e, r) => {
	e.f(r), e.p.s = 2, e.p.v = r;
}, yt$1 = re$1.toString(), Nt$1 = vn$1.toString(), bt$1 = Cn$1.toString(), Rr$1 = () => {
	let e = [], r = [], t = !0, n$1 = !1, a = 0, s = (l$1, g$1, S) => {
		for (S = 0; S < a; S++) r[S] && r[S][g$1](l$1);
	}, i$1 = (l$1, g$1, S, d$1) => {
		for (g$1 = 0, S = e.length; g$1 < S; g$1++) d$1 = e[g$1], !t && g$1 === S - 1 ? l$1[n$1 ? "return" : "throw"](d$1) : l$1.next(d$1);
	}, u$1 = (l$1, g$1) => (t && (g$1 = a++, r[g$1] = l$1), i$1(l$1), () => {
		t && (r[g$1] = r[a], r[a--] = void 0);
	});
	return {
		__SEROVAL_STREAM__: !0,
		on: (l$1) => u$1(l$1),
		next: (l$1) => {
			t && (e.push(l$1), s(l$1, "next"));
		},
		throw: (l$1) => {
			t && (e.push(l$1), s(l$1, "throw"), t = !1, n$1 = !1, r.length = 0);
		},
		return: (l$1) => {
			t && (e.push(l$1), s(l$1, "return"), t = !1, n$1 = !0, r.length = 0);
		}
	};
}, vt$1 = Rr$1.toString(), Pr$1 = (e) => (r) => () => {
	let t = 0, n$1 = {
		[e]: () => n$1,
		next: () => {
			if (t > r.d) return {
				done: !0,
				value: void 0
			};
			let a = t++, s = r.v[a];
			if (a === r.t) throw s;
			return {
				done: a === r.d,
				value: s
			};
		}
	};
	return n$1;
}, Ct$1 = Pr$1.toString(), xr$1 = (e, r) => (t) => () => {
	let n$1 = 0, a = -1, s = !1, i$1 = [], u$1 = [], l$1 = (S = 0, d$1 = u$1.length) => {
		for (; S < d$1; S++) u$1[S].s({
			done: !0,
			value: void 0
		});
	};
	t.on({
		next: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !1,
				value: S
			}), i$1.push(S);
		},
		throw: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.f(S), l$1(), a = i$1.length, s = !0, i$1.push(S);
		},
		return: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !0,
				value: S
			}), l$1(), a = i$1.length, i$1.push(S);
		}
	});
	let g$1 = {
		[e]: () => g$1,
		next: () => {
			if (a === -1) {
				let K$1 = n$1++;
				if (K$1 >= i$1.length) {
					let et = r();
					return u$1.push(et), et.p;
				}
				return {
					done: !1,
					value: i$1[K$1]
				};
			}
			if (n$1 > a) return {
				done: !0,
				value: void 0
			};
			let S = n$1++, d$1 = i$1[S];
			if (S !== a) return {
				done: !1,
				value: d$1
			};
			if (s) throw d$1;
			return {
				done: !0,
				value: d$1
			};
		}
	};
	return g$1;
}, At$1 = xr$1.toString(), Or$1 = (e) => {
	let r = atob(e), t = r.length, n$1 = new Uint8Array(t);
	for (let a = 0; a < t; a++) n$1[a] = r.charCodeAt(a);
	return n$1.buffer;
}, Et$1 = Or$1.toString();
function Ze(e) {
	return "__SEROVAL_SEQUENCE__" in e;
}
function Tr(e, r, t) {
	return {
		__SEROVAL_SEQUENCE__: !0,
		v: e,
		t: r,
		d: t
	};
}
function $e(e) {
	let r = [], t = -1, n$1 = -1, a = e[C$1]();
	for (;;) try {
		let s = a.next();
		if (r.push(s.value), s.done) {
			n$1 = r.length - 1;
			break;
		}
	} catch (s) {
		t = r.length, r.push(s);
	}
	return Tr(r, t, n$1);
}
var An$1 = Pr$1(C$1);
var Rt = {}, Pt = {};
var xt = {
	0: {},
	1: {},
	2: {},
	3: {},
	4: {},
	5: {}
}, Ot = {
	0: "[]",
	1: yt$1,
	2: Nt$1,
	3: bt$1,
	4: vt$1,
	5: Et$1
};
function M(e) {
	return "__SEROVAL_STREAM__" in e;
}
function te$2() {
	return Rr$1();
}
function Xe(e) {
	let r = te$2(), t = e[v$2]();
	async function n$1() {
		try {
			let a = await t.next();
			a.done ? r.return(a.value) : (r.next(a.value), await n$1());
		} catch (a) {
			r.throw(a);
		}
	}
	return n$1().catch(() => {}), r;
}
var En$1 = xr$1(v$2, re$1);
function pe$1(e, r) {
	return {
		plugins: r.plugins,
		mode: e,
		marked: /* @__PURE__ */ new Set(),
		features: 63 ^ (r.disabledFeatures || 0),
		refs: r.refs || /* @__PURE__ */ new Map(),
		depthLimit: r.depthLimit || 1e3
	};
}
function de(e, r) {
	e.marked.add(r);
}
function hr(e, r) {
	let t = e.refs.size;
	return e.refs.set(r, t), t;
}
function Qe(e, r) {
	let t = e.refs.get(r);
	return t != null ? (de(e, t), {
		type: 1,
		value: mt(t)
	}) : {
		type: 0,
		value: hr(e, r)
	};
}
function q$1(e, r) {
	let t = Qe(e, r);
	return t.type === 1 ? t : Er(r) ? {
		type: 2,
		value: dt(t.value, r)
	} : t;
}
function I(e, r) {
	let t = q$1(e, r);
	if (t.type !== 0) return t.value;
	if (r in ve$1) return pt(t.value, r);
	throw new x$1(r);
}
function k(e, r) {
	let t = Qe(e, xt[r]);
	return t.type === 1 ? t.value : c$2(26, t.value, r, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2, o$2);
}
function er(e) {
	let r = Qe(e, Rt);
	return r.type === 1 ? r.value : c$2(27, r.value, o$2, o$2, o$2, o$2, o$2, o$2, I(e, C$1), o$2, o$2, o$2);
}
function rr(e) {
	let r = Qe(e, Pt);
	return r.type === 1 ? r.value : c$2(29, r.value, o$2, o$2, o$2, o$2, o$2, [k(e, 1), I(e, v$2)], o$2, o$2, o$2, o$2);
}
function tr(e, r, t, n$1) {
	return c$2(t ? 11 : 10, e, o$2, o$2, o$2, n$1, o$2, o$2, o$2, o$2, Oe(r), o$2);
}
function nr(e, r, t, n$1) {
	return c$2(8, r, o$2, o$2, o$2, o$2, {
		k: t,
		v: n$1
	}, o$2, k(e, 0), o$2, o$2, o$2);
}
function ht(e, r, t) {
	return c$2(22, r, t, o$2, o$2, o$2, o$2, o$2, k(e, 1), o$2, o$2, o$2);
}
function or(e, r, t) {
	let n$1 = new Uint8Array(t), a = "";
	for (let s = 0, i$1 = n$1.length; s < i$1; s++) a += String.fromCharCode(n$1[s]);
	return c$2(19, r, y$1(btoa(a)), o$2, o$2, o$2, o$2, o$2, k(e, 5), o$2, o$2, o$2);
}
var ae$1 = ((t) => (t[t.Vanilla = 1] = "Vanilla", t[t.Cross = 2] = "Cross", t))(ae$1 || {});
function kt(e, r) {
	for (let t = 0, n$1 = r.length; t < n$1; t++) {
		let a = r[t];
		e.has(a) || (e.add(a), a.extends && kt(e, a.extends));
	}
}
function A(e) {
	if (e) {
		let r = /* @__PURE__ */ new Set();
		return kt(r, e), [...r];
	}
}
var Eo$1 = () => T, Io$1 = Eo$1.toString(), qt$1 = /=>/.test(Io$1);
function sr(e, r) {
	return qt$1 ? (e.length === 1 ? e[0] : "(" + e.join(",") + ")") + "=>" + (r.startsWith("{") ? "(" + r + ")" : r) : "function(" + e.join(",") + "){return " + r + "}";
}
function Wt(e, r) {
	return qt$1 ? (e.length === 1 ? e[0] : "(" + e.join(",") + ")") + "=>{" + r + "}" : "function(" + e.join(",") + "){" + r + "}";
}
var Ht$1 = "hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_", Gt$1 = Ht$1.length, Jt$1 = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_", Kt$1 = Jt$1.length;
function Br(e) {
	let r = e % Gt$1, t = Ht$1[r];
	for (e = (e - r) / Gt$1; e > 0;) r = e % Kt$1, t += Jt$1[r], e = (e - r) / Kt$1;
	return t;
}
var Ro = /^[$A-Z_][0-9A-Z_$]*$/i;
function Vr(e) {
	let r = e[0];
	return (r === "$" || r === "_" || r >= "A" && r <= "Z" || r >= "a" && r <= "z") && Ro.test(e);
}
function ye(e) {
	switch (e.t) {
		case 0: return e.s + "=" + e.v;
		case 2: return e.s + ".set(" + e.k + "," + e.v + ")";
		case 1: return e.s + ".add(" + e.v + ")";
		case 3: return e.s + ".delete(" + e.k + ")";
	}
}
function Po(e) {
	let r = [], t = e[0];
	for (let n$1 = 1, a = e.length, s, i$1 = t; n$1 < a; n$1++) s = e[n$1], s.t === 0 && s.v === i$1.v ? t = {
		t: 0,
		s: s.s,
		k: o$2,
		v: ye(t)
	} : s.t === 2 && s.s === i$1.s ? t = {
		t: 2,
		s: ye(t),
		k: s.k,
		v: s.v
	} : s.t === 1 && s.s === i$1.s ? t = {
		t: 1,
		s: ye(t),
		k: o$2,
		v: s.v
	} : s.t === 3 && s.s === i$1.s ? t = {
		t: 3,
		s: ye(t),
		k: s.k,
		v: o$2
	} : (r.push(t), t = s), i$1 = s;
	return r.push(t), r;
}
function tn(e) {
	if (e.length) {
		let r = "", t = Po(e);
		for (let n$1 = 0, a = t.length; n$1 < a; n$1++) r += ye(t[n$1]) + ",";
		return r;
	}
	return o$2;
}
var xo = "Object.create(null)", Oo = "new Set", To = "new Map", wo = "Promise.resolve", ho = "Promise.reject", zo = {
	3: "Object.freeze",
	2: "Object.seal",
	1: "Object.preventExtensions",
	0: o$2
};
function nn(e, r) {
	return {
		mode: e,
		plugins: r.plugins,
		features: r.features,
		marked: new Set(r.markedRefs),
		stack: [],
		flags: [],
		assignments: []
	};
}
function ur(e) {
	return {
		mode: 2,
		base: nn(2, e),
		state: e,
		child: o$2
	};
}
var Mr = class {
	constructor(r) {
		this._p = r;
	}
	serialize(r) {
		return f$1(this._p, r);
	}
};
function ko(e, r) {
	let t = e.valid.get(r);
	t ?? (t = e.valid.size, e.valid.set(r, t));
	let n$1 = e.vars[t];
	return n$1 ?? (n$1 = Br(t), e.vars[t] = n$1), n$1;
}
function Do(e) {
	return ce$1 + "[" + e + "]";
}
function m$1(e, r) {
	return e.mode === 1 ? ko(e.state, r) : Do(r);
}
function O$1(e, r) {
	e.marked.add(r);
}
function Lr(e, r) {
	return e.marked.has(r);
}
function jr(e, r, t) {
	r !== 0 && (O$1(e.base, t), e.base.flags.push({
		type: r,
		value: m$1(e, t)
	}));
}
function Fo(e) {
	let r = "";
	for (let t = 0, n$1 = e.flags, a = n$1.length; t < a; t++) {
		let s = n$1[t];
		r += zo[s.type] + "(" + s.value + "),";
	}
	return r;
}
function on(e) {
	let r = tn(e.assignments), t = Fo(e);
	return r ? t ? r + t : r : t;
}
function Yr(e, r, t) {
	e.assignments.push({
		t: 0,
		s: r,
		k: o$2,
		v: t
	});
}
function Bo(e, r, t) {
	e.base.assignments.push({
		t: 1,
		s: m$1(e, r),
		k: o$2,
		v: t
	});
}
function ge(e, r, t, n$1) {
	e.base.assignments.push({
		t: 2,
		s: m$1(e, r),
		k: t,
		v: n$1
	});
}
function Zt(e, r, t) {
	e.base.assignments.push({
		t: 3,
		s: m$1(e, r),
		k: t,
		v: o$2
	});
}
function Ne(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + "[" + t + "]", n$1);
}
function Ur(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + "." + t, n$1);
}
function Vo(e, r, t, n$1) {
	Yr(e.base, m$1(e, r) + ".v[" + t + "]", n$1);
}
function D$1(e, r) {
	return r.t === 4 && e.stack.includes(r.i);
}
function se(e, r, t) {
	return e.mode === 1 && !Lr(e.base, r) ? t : m$1(e, r) + "=" + t;
}
function Mo(e) {
	return U$1 + ".get(\\"" + e.s + "\\")";
}
function $t(e, r, t, n$1) {
	return t ? D$1(e.base, t) ? (O$1(e.base, r), Ne(e, r, n$1, m$1(e, t.i)), "") : f$1(e, t) : "";
}
function Lo(e, r) {
	let t = r.i, n$1 = r.a, a = n$1.length;
	if (a > 0) {
		e.base.stack.push(t);
		let s = $t(e, t, n$1[0], 0), i$1 = s === "";
		for (let u$1 = 1, l$1; u$1 < a; u$1++) l$1 = $t(e, t, n$1[u$1], u$1), s += "," + l$1, i$1 = l$1 === "";
		return e.base.stack.pop(), jr(e, r.o, r.i), "[" + s + (i$1 ? ",]" : "]");
	}
	return "[]";
}
function Xt(e, r, t, n$1) {
	if (typeof t == "string") {
		let a = Number(t), s = a >= 0 && a.toString() === t || Vr(t);
		if (D$1(e.base, n$1)) {
			let i$1 = m$1(e, n$1.i);
			return O$1(e.base, r.i), s && a !== a ? Ur(e, r.i, t, i$1) : Ne(e, r.i, s ? t : "\\"" + t + "\\"", i$1), "";
		}
		return (s ? t : "\\"" + t + "\\"") + ":" + f$1(e, n$1);
	}
	return "[" + f$1(e, t) + "]:" + f$1(e, n$1);
}
function an(e, r, t) {
	let n$1 = t.k, a = n$1.length;
	if (a > 0) {
		let s = t.v;
		e.base.stack.push(r.i);
		let i$1 = Xt(e, r, n$1[0], s[0]);
		for (let u$1 = 1, l$1 = i$1; u$1 < a; u$1++) l$1 = Xt(e, r, n$1[u$1], s[u$1]), i$1 += (l$1 && i$1 && ",") + l$1;
		return e.base.stack.pop(), "{" + i$1 + "}";
	}
	return "{}";
}
function Uo(e, r) {
	return jr(e, r.o, r.i), an(e, r, r.p);
}
function jo(e, r, t, n$1) {
	let a = an(e, r, t);
	return a !== "{}" ? "Object.assign(" + n$1 + "," + a + ")" : n$1;
}
function Yo(e, r, t, n$1, a) {
	let s = e.base, i$1 = f$1(e, a), u$1 = Number(n$1), l$1 = u$1 >= 0 && u$1.toString() === n$1 || Vr(n$1);
	if (D$1(s, a)) l$1 && u$1 !== u$1 ? Ur(e, r.i, n$1, i$1) : Ne(e, r.i, l$1 ? n$1 : "\\"" + n$1 + "\\"", i$1);
	else {
		let g$1 = s.assignments;
		s.assignments = t, l$1 && u$1 !== u$1 ? Ur(e, r.i, n$1, i$1) : Ne(e, r.i, l$1 ? n$1 : "\\"" + n$1 + "\\"", i$1), s.assignments = g$1;
	}
}
function qo(e, r, t, n$1, a) {
	if (typeof n$1 == "string") Yo(e, r, t, n$1, a);
	else {
		let s = e.base, i$1 = s.stack;
		s.stack = [];
		let u$1 = f$1(e, a);
		s.stack = i$1;
		let l$1 = s.assignments;
		s.assignments = t, Ne(e, r.i, f$1(e, n$1), u$1), s.assignments = l$1;
	}
}
function Wo(e, r, t) {
	let n$1 = t.k, a = n$1.length;
	if (a > 0) {
		let s = [], i$1 = t.v;
		e.base.stack.push(r.i);
		for (let u$1 = 0; u$1 < a; u$1++) qo(e, r, s, n$1[u$1], i$1[u$1]);
		return e.base.stack.pop(), tn(s);
	}
	return o$2;
}
function qr(e, r, t) {
	if (r.p) {
		let n$1 = e.base;
		if (n$1.features & 8) t = jo(e, r, r.p, t);
		else {
			O$1(n$1, r.i);
			let a = Wo(e, r, r.p);
			if (a) return "(" + se(e, r.i, t) + "," + a + m$1(e, r.i) + ")";
		}
	}
	return t;
}
function Go(e, r) {
	return jr(e, r.o, r.i), qr(e, r, xo);
}
function Ko(e) {
	return "new Date(\\"" + e.s + "\\")";
}
function Ho(e, r) {
	if (e.base.features & 32) return "/" + r.c + "/" + r.m;
	throw new w$1(r);
}
function Qt(e, r, t) {
	let n$1 = e.base;
	return D$1(n$1, t) ? (O$1(n$1, r), Bo(e, r, m$1(e, t.i)), "") : f$1(e, t);
}
function Jo(e, r) {
	let t = Oo, n$1 = r.a, a = n$1.length, s = r.i;
	if (a > 0) {
		e.base.stack.push(s);
		let i$1 = Qt(e, s, n$1[0]);
		for (let u$1 = 1, l$1 = i$1; u$1 < a; u$1++) l$1 = Qt(e, s, n$1[u$1]), i$1 += (l$1 && i$1 && ",") + l$1;
		e.base.stack.pop(), i$1 && (t += "([" + i$1 + "])");
	}
	return t;
}
function en(e, r, t, n$1, a) {
	let s = e.base;
	if (D$1(s, t)) {
		let i$1 = m$1(e, t.i);
		if (O$1(s, r), D$1(s, n$1)) return ge(e, r, i$1, m$1(e, n$1.i)), "";
		if (n$1.t !== 4 && n$1.i != null && Lr(s, n$1.i)) {
			let l$1 = "(" + f$1(e, n$1) + ",[" + a + "," + a + "])";
			return ge(e, r, i$1, m$1(e, n$1.i)), Zt(e, r, a), l$1;
		}
		let u$1 = s.stack;
		return s.stack = [], ge(e, r, i$1, f$1(e, n$1)), s.stack = u$1, "";
	}
	if (D$1(s, n$1)) {
		let i$1 = m$1(e, n$1.i);
		if (O$1(s, r), t.t !== 4 && t.i != null && Lr(s, t.i)) {
			let l$1 = "(" + f$1(e, t) + ",[" + a + "," + a + "])";
			return ge(e, r, m$1(e, t.i), i$1), Zt(e, r, a), l$1;
		}
		let u$1 = s.stack;
		return s.stack = [], ge(e, r, f$1(e, t), i$1), s.stack = u$1, "";
	}
	return "[" + f$1(e, t) + "," + f$1(e, n$1) + "]";
}
function Zo(e, r) {
	let t = To, n$1 = r.e.k, a = n$1.length, s = r.i, i$1 = r.f, u$1 = m$1(e, i$1.i), l$1 = e.base;
	if (a > 0) {
		let g$1 = r.e.v;
		l$1.stack.push(s);
		let S = en(e, s, n$1[0], g$1[0], u$1);
		for (let d$1 = 1, K$1 = S; d$1 < a; d$1++) K$1 = en(e, s, n$1[d$1], g$1[d$1], u$1), S += (K$1 && S && ",") + K$1;
		l$1.stack.pop(), S && (t += "([" + S + "])");
	}
	return i$1.t === 26 && (O$1(l$1, i$1.i), t = "(" + f$1(e, i$1) + "," + t + ")"), t;
}
function $o(e, r) {
	return W(e, r.f) + "(\\"" + r.s + "\\")";
}
function Xo(e, r) {
	return "new " + r.c + "(" + f$1(e, r.f) + "," + r.b + "," + r.l + ")";
}
function Qo(e, r) {
	return "new DataView(" + f$1(e, r.f) + "," + r.b + "," + r.l + ")";
}
function ea(e, r) {
	let t = r.i;
	e.base.stack.push(t);
	let n$1 = qr(e, r, "new AggregateError([],\\"" + r.m + "\\")");
	return e.base.stack.pop(), n$1;
}
function ra(e, r) {
	return qr(e, r, "new " + Ce[r.s] + "(\\"" + r.m + "\\")");
}
function ta(e, r) {
	let t, n$1 = r.f, a = r.i, s = r.s ? wo : ho, i$1 = e.base;
	if (D$1(i$1, n$1)) {
		let u$1 = m$1(e, n$1.i);
		t = s + (r.s ? "().then(" + sr([], u$1) + ")" : "().catch(" + Wt([], "throw " + u$1) + ")");
	} else {
		i$1.stack.push(a);
		let u$1 = f$1(e, n$1);
		i$1.stack.pop(), t = s + "(" + u$1 + ")";
	}
	return t;
}
function na(e, r) {
	return "Object(" + f$1(e, r.f) + ")";
}
function W(e, r) {
	let t = f$1(e, r);
	return r.t === 4 ? t : "(" + t + ")";
}
function oa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return "(" + se(e, r.s, W(e, r.f) + "()") + ").p";
}
function aa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return W(e, r.a[0]) + "(" + m$1(e, r.i) + "," + f$1(e, r.a[1]) + ")";
}
function sa(e, r) {
	if (e.mode === 1) throw new w$1(r);
	return W(e, r.a[0]) + "(" + m$1(e, r.i) + "," + f$1(e, r.a[1]) + ")";
}
function ia(e, r) {
	let t = e.base.plugins;
	if (t) for (let n$1 = 0, a = t.length; n$1 < a; n$1++) {
		let s = t[n$1];
		if (s.tag === r.c) return e.child ??= new Mr(e), s.serialize(r.s, e.child, { id: r.i });
	}
	throw new Q(r.c);
}
function ua(e, r) {
	let t = "", n$1 = !1;
	return r.f.t !== 4 && (O$1(e.base, r.f.i), t = "(" + f$1(e, r.f) + ",", n$1 = !0), t += se(e, r.i, "(" + Ct$1 + ")(" + m$1(e, r.f.i) + ")"), n$1 && (t += ")"), t;
}
function la(e, r) {
	return W(e, r.a[0]) + "(" + f$1(e, r.a[1]) + ")";
}
function ca(e, r) {
	let t = r.a[0], n$1 = r.a[1], a = e.base, s = "";
	t.t !== 4 && (O$1(a, t.i), s += "(" + f$1(e, t)), n$1.t !== 4 && (O$1(a, n$1.i), s += (s ? "," : "(") + f$1(e, n$1)), s && (s += ",");
	let i$1 = se(e, r.i, "(" + At$1 + ")(" + m$1(e, n$1.i) + "," + m$1(e, t.i) + ")");
	return s ? s + i$1 + ")" : i$1;
}
function fa(e, r) {
	return W(e, r.a[0]) + "(" + f$1(e, r.a[1]) + ")";
}
function Sa(e, r) {
	let t = se(e, r.i, W(e, r.f) + "()"), n$1 = r.a.length;
	if (n$1) {
		let a = f$1(e, r.a[0]);
		for (let s = 1; s < n$1; s++) a += "," + f$1(e, r.a[s]);
		return "(" + t + "," + a + "," + m$1(e, r.i) + ")";
	}
	return t;
}
function ma(e, r) {
	return m$1(e, r.i) + ".next(" + f$1(e, r.f) + ")";
}
function pa(e, r) {
	return m$1(e, r.i) + ".throw(" + f$1(e, r.f) + ")";
}
function da(e, r) {
	return m$1(e, r.i) + ".return(" + f$1(e, r.f) + ")";
}
function rn(e, r, t, n$1) {
	let a = e.base;
	return D$1(a, n$1) ? (O$1(a, r), Vo(e, r, t, m$1(e, n$1.i)), "") : f$1(e, n$1);
}
function ga(e, r) {
	let t = r.a, n$1 = t.length, a = r.i;
	if (n$1 > 0) {
		e.base.stack.push(a);
		let s = rn(e, a, 0, t[0]);
		for (let i$1 = 1, u$1 = s; i$1 < n$1; i$1++) u$1 = rn(e, a, i$1, t[i$1]), s += (u$1 && s && ",") + u$1;
		if (e.base.stack.pop(), s) return "{__SEROVAL_SEQUENCE__:!0,v:[" + s + "],t:" + r.s + ",d:" + r.l + "}";
	}
	return "{__SEROVAL_SEQUENCE__:!0,v:[],t:-1,d:0}";
}
function ya(e, r) {
	switch (r.t) {
		case 17: return rt$1[r.s];
		case 18: return Mo(r);
		case 9: return Lo(e, r);
		case 10: return Uo(e, r);
		case 11: return Go(e, r);
		case 5: return Ko(r);
		case 6: return Ho(e, r);
		case 7: return Jo(e, r);
		case 8: return Zo(e, r);
		case 19: return $o(e, r);
		case 16:
		case 15: return Xo(e, r);
		case 20: return Qo(e, r);
		case 14: return ea(e, r);
		case 13: return ra(e, r);
		case 12: return ta(e, r);
		case 21: return na(e, r);
		case 22: return oa(e, r);
		case 25: return ia(e, r);
		case 26: return Ot[r.s];
		case 35: return ga(e, r);
		default: throw new w$1(r);
	}
}
function f$1(e, r) {
	switch (r.t) {
		case 2: return nt$1[r.s];
		case 0: return "" + r.s;
		case 1: return "\\"" + r.s + "\\"";
		case 3: return r.s + "n";
		case 4: return m$1(e, r.i);
		case 23: return aa(e, r);
		case 24: return sa(e, r);
		case 27: return ua(e, r);
		case 28: return la(e, r);
		case 29: return ca(e, r);
		case 30: return fa(e, r);
		case 31: return Sa(e, r);
		case 32: return ma(e, r);
		case 33: return pa(e, r);
		case 34: return da(e, r);
		default: return se(e, r.i, ya(e, r));
	}
}
function cr(e, r) {
	let t = f$1(e, r), n$1 = r.i;
	if (n$1 == null) return t;
	let a = on(e.base), s = m$1(e, n$1), i$1 = e.state.scopeId, u$1 = i$1 == null ? "" : ce$1, l$1 = a ? "(" + t + "," + a + s + ")" : t;
	if (u$1 === "") return r.t === 10 && !a ? "(" + l$1 + ")" : l$1;
	let g$1 = i$1 == null ? "()" : "(" + ce$1 + "[\\"" + y$1(i$1) + "\\"])";
	return "(" + sr([u$1], l$1) + ")" + g$1;
}
var Gr = class {
	constructor(r, t) {
		this._p = r;
		this.depth = t;
	}
	parse(r) {
		return E$1(this._p, this.depth, r);
	}
}, Kr = class {
	constructor(r, t) {
		this._p = r;
		this.depth = t;
	}
	parse(r) {
		return E$1(this._p, this.depth, r);
	}
	parseWithError(r) {
		return G(this._p, this.depth, r);
	}
	isAlive() {
		return this._p.state.alive;
	}
	pushPendingState() {
		Xr(this._p);
	}
	popPendingState() {
		be(this._p);
	}
	onParse(r) {
		ie(this._p, r);
	}
	onError(r) {
		Zr(this._p, r);
	}
};
function Na(e) {
	return {
		alive: !0,
		pending: 0,
		initial: !0,
		buffer: [],
		onParse: e.onParse,
		onError: e.onError,
		onDone: e.onDone
	};
}
function Hr(e) {
	return {
		type: 2,
		base: pe$1(2, e),
		state: Na(e)
	};
}
function ba(e, r, t) {
	let n$1 = [];
	for (let a = 0, s = t.length; a < s; a++) a in t ? n$1[a] = E$1(e, r, t[a]) : n$1[a] = 0;
	return n$1;
}
function va(e, r, t, n$1) {
	return _e(t, n$1, ba(e, r, n$1));
}
function Jr(e, r, t) {
	let n$1 = Object.entries(t), a = [], s = [];
	for (let i$1 = 0, u$1 = n$1.length; i$1 < u$1; i$1++) a.push(y$1(n$1[i$1][0])), s.push(E$1(e, r, n$1[i$1][1]));
	return C$1 in t && (a.push(I(e.base, C$1)), s.push(Ue(er(e.base), E$1(e, r, $e(t))))), v$2 in t && (a.push(I(e.base, v$2)), s.push(je(rr(e.base), E$1(e, r, e.type === 1 ? te$2() : Xe(t))))), P$2 in t && (a.push(I(e.base, P$2)), s.push(X(t[P$2]))), R$1 in t && (a.push(I(e.base, R$1)), s.push(t[R$1] ? J$1 : Z$1)), {
		k: a,
		v: s
	};
}
function Wr(e, r, t, n$1, a) {
	return tr(t, n$1, a, Jr(e, r, n$1));
}
function Ca(e, r, t, n$1) {
	return ke(t, E$1(e, r, n$1.valueOf()));
}
function Aa(e, r, t, n$1) {
	return De(t, n$1, E$1(e, r, n$1.buffer));
}
function Ea(e, r, t, n$1) {
	return Fe(t, n$1, E$1(e, r, n$1.buffer));
}
function Ia(e, r, t, n$1) {
	return Be(t, n$1, E$1(e, r, n$1.buffer));
}
function sn(e, r, t, n$1) {
	let a = $$1(n$1, e.base.features);
	return Ve(t, n$1, a ? Jr(e, r, a) : o$2);
}
function Ra(e, r, t, n$1) {
	let a = $$1(n$1, e.base.features);
	return Me(t, n$1, a ? Jr(e, r, a) : o$2);
}
function Pa(e, r, t, n$1) {
	let a = [], s = [];
	for (let [i$1, u$1] of n$1.entries()) a.push(E$1(e, r, i$1)), s.push(E$1(e, r, u$1));
	return nr(e.base, t, a, s);
}
function xa(e, r, t, n$1) {
	let a = [];
	for (let s of n$1.keys()) a.push(E$1(e, r, s));
	return Le(t, a);
}
function Oa(e, r, t, n$1) {
	let a = Ye(t, k(e.base, 4), []);
	return e.type === 1 || (Xr(e), n$1.on({
		next: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, qe(t, i$1));
			}
		},
		throw: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, We(t, i$1));
			}
			be(e);
		},
		return: (s) => {
			if (e.state.alive) {
				let i$1 = G(e, r, s);
				i$1 && ie(e, Ge(t, i$1));
			}
			be(e);
		}
	})), a;
}
function Ta(e, r, t) {
	if (this.state.alive) {
		let n$1 = G(this, r, t);
		n$1 && ie(this, c$2(23, e, o$2, o$2, o$2, o$2, o$2, [k(this.base, 2), n$1], o$2, o$2, o$2, o$2)), be(this);
	}
}
function wa(e, r, t) {
	if (this.state.alive) {
		let n$1 = G(this, r, t);
		n$1 && ie(this, c$2(24, e, o$2, o$2, o$2, o$2, o$2, [k(this.base, 3), n$1], o$2, o$2, o$2, o$2));
	}
	be(this);
}
function ha(e, r, t, n$1) {
	let a = hr(e.base, {});
	return e.type === 2 && (Xr(e), n$1.then(Ta.bind(e, a, r), wa.bind(e, a, r))), ht(e.base, t, a);
}
function za(e, r, t, n$1, a) {
	for (let s = 0, i$1 = a.length; s < i$1; s++) {
		let u$1 = a[s];
		if (u$1.parse.sync && u$1.test(n$1)) return fe$1(t, u$1.tag, u$1.parse.sync(n$1, new Gr(e, r), { id: t }));
	}
	return o$2;
}
function _a(e, r, t, n$1, a) {
	for (let s = 0, i$1 = a.length; s < i$1; s++) {
		let u$1 = a[s];
		if (u$1.parse.stream && u$1.test(n$1)) return fe$1(t, u$1.tag, u$1.parse.stream(n$1, new Kr(e, r), { id: t }));
	}
	return o$2;
}
function un(e, r, t, n$1) {
	let a = e.base.plugins;
	return a ? e.type === 1 ? za(e, r, t, n$1, a) : _a(e, r, t, n$1, a) : o$2;
}
function ka(e, r, t, n$1) {
	let a = [];
	for (let s = 0, i$1 = n$1.v.length; s < i$1; s++) a[s] = E$1(e, r, n$1.v[s]);
	return Ke(t, a, n$1.t, n$1.d);
}
function Da(e, r, t, n$1, a) {
	switch (a) {
		case Object: return Wr(e, r, t, n$1, !1);
		case o$2: return Wr(e, r, t, n$1, !0);
		case Date: return he(t, n$1);
		case Error:
		case EvalError:
		case RangeError:
		case ReferenceError:
		case SyntaxError:
		case TypeError:
		case URIError: return sn(e, r, t, n$1);
		case Number:
		case Boolean:
		case String:
		case BigInt: return Ca(e, r, t, n$1);
		case ArrayBuffer: return or(e.base, t, n$1);
		case Int8Array:
		case Int16Array:
		case Int32Array:
		case Uint8Array:
		case Uint16Array:
		case Uint32Array:
		case Uint8ClampedArray:
		case Float32Array:
		case Float64Array: return Aa(e, r, t, n$1);
		case DataView: return Ia(e, r, t, n$1);
		case Map: return Pa(e, r, t, n$1);
		case Set: return xa(e, r, t, n$1);
		default: break;
	}
	if (a === Promise || n$1 instanceof Promise) return ha(e, r, t, n$1);
	let s = e.base.features;
	if (s & 32 && a === RegExp) return ze(t, n$1);
	if (s & 16) switch (a) {
		case BigInt64Array:
		case BigUint64Array: return Ea(e, r, t, n$1);
		default: break;
	}
	if (s & 1 && typeof AggregateError != "undefined" && (a === AggregateError || n$1 instanceof AggregateError)) return Ra(e, r, t, n$1);
	if (n$1 instanceof Error) return sn(e, r, t, n$1);
	if (C$1 in n$1 || v$2 in n$1) return Wr(e, r, t, n$1, !!a);
	throw new x$1(n$1);
}
function Fa(e, r, t, n$1) {
	if (Array.isArray(n$1)) return va(e, r, t, n$1);
	if (M(n$1)) return Oa(e, r, t, n$1);
	if (Ze(n$1)) return ka(e, r, t, n$1);
	let a = n$1.constructor;
	if (a === Y$1) return E$1(e, r, n$1.replacement);
	return un(e, r, t, n$1) || Da(e, r, t, n$1, a);
}
function Ba(e, r, t) {
	let n$1 = q$1(e.base, t);
	if (n$1.type !== 0) return n$1.value;
	let a = un(e, r, n$1.value, t);
	if (a) return a;
	throw new x$1(t);
}
function E$1(e, r, t) {
	if (r >= e.base.depthLimit) throw new ee(e.base.depthLimit);
	switch (typeof t) {
		case "boolean": return t ? J$1 : Z$1;
		case "undefined": return Ae$1;
		case "string": return X(t);
		case "number": return Te(t);
		case "bigint": return we(t);
		case "object":
			if (t) {
				let n$1 = q$1(e.base, t);
				return n$1.type === 0 ? Fa(e, r + 1, n$1.value, t) : n$1.value;
			}
			return Ee$1;
		case "symbol": return I(e.base, t);
		case "function": return Ba(e, r, t);
		default: throw new x$1(t);
	}
}
function ie(e, r) {
	e.state.initial ? e.state.buffer.push(r) : $r(e, r, !1);
}
function Zr(e, r) {
	if (e.state.onError) e.state.onError(r);
	else throw r instanceof z ? r : new z(r);
}
function ln(e) {
	e.state.onDone && e.state.onDone();
}
function $r(e, r, t) {
	try {
		e.state.onParse(r, t);
	} catch (n$1) {
		Zr(e, n$1);
	}
}
function Xr(e) {
	e.state.pending++;
}
function be(e) {
	--e.state.pending <= 0 && ln(e);
}
function G(e, r, t) {
	try {
		return E$1(e, r, t);
	} catch (n$1) {
		return Zr(e, n$1), o$2;
	}
}
function Qr(e, r) {
	let t = G(e, 0, r);
	t && ($r(e, t, !0), e.state.initial = !1, Va(e, e.state), e.state.pending <= 0 && fr(e));
}
function Va(e, r) {
	for (let t = 0, n$1 = r.buffer.length; t < n$1; t++) $r(e, r.buffer[t], !1);
}
function fr(e) {
	e.state.alive && (ln(e), e.state.alive = !1);
}
function cn(e, r) {
	let t = A(r.plugins), n$1 = Hr({
		plugins: t,
		refs: r.refs,
		disabledFeatures: r.disabledFeatures,
		onParse(a, s) {
			let i$1 = ur({
				plugins: t,
				features: n$1.base.features,
				scopeId: r.scopeId,
				markedRefs: n$1.base.marked
			}), u$1;
			try {
				u$1 = cr(i$1, a);
			} catch (l$1) {
				r.onError && r.onError(l$1);
				return;
			}
			r.onSerialize(u$1, s);
		},
		onError: r.onError,
		onDone: r.onDone
	});
	return Qr(n$1, e), fr.bind(null, n$1);
}
var Sr = class {
	constructor(r) {
		this.options = r;
		this.alive = !0;
		this.flushed = !1;
		this.done = !1;
		this.pending = 0;
		this.cleanups = [];
		this.refs = /* @__PURE__ */ new Map();
		this.keys = /* @__PURE__ */ new Set();
		this.ids = 0;
		this.plugins = A(r.plugins);
	}
	write(r, t) {
		this.alive && !this.flushed && (this.pending++, this.keys.add(r), this.cleanups.push(cn(t, {
			plugins: this.plugins,
			scopeId: this.options.scopeId,
			refs: this.refs,
			disabledFeatures: this.options.disabledFeatures,
			onError: this.options.onError,
			onSerialize: (n$1, a) => {
				this.alive && this.options.onData(a ? this.options.globalIdentifier + "[\\"" + y$1(r) + "\\"]=" + n$1 : n$1);
			},
			onDone: () => {
				this.alive && (this.pending--, this.pending <= 0 && this.flushed && !this.done && this.options.onDone && (this.options.onDone(), this.done = !0));
			}
		})));
	}
	getNextID() {
		for (; this.keys.has("" + this.ids);) this.ids++;
		return "" + this.ids;
	}
	push(r) {
		let t = this.getNextID();
		return this.write(t, r), t;
	}
	flush() {
		this.alive && (this.flushed = !0, this.pending <= 0 && !this.done && this.options.onDone && (this.options.onDone(), this.done = !0));
	}
	close() {
		if (this.alive) {
			for (let r = 0, t = this.cleanups.length; r < t; r++) this.cleanups[r]();
			!this.done && this.options.onDone && (this.options.onDone(), this.done = !0), this.alive = !1;
		}
	}
};

//#endregion
//#region node_modules/seroval/dist/esm/production/index.mjs
var L$1 = ((i$1) => (i$1[i$1.AggregateError = 1] = "AggregateError", i$1[i$1.ArrowFunction = 2] = "ArrowFunction", i$1[i$1.ErrorPrototypeStack = 4] = "ErrorPrototypeStack", i$1[i$1.ObjectAssign = 8] = "ObjectAssign", i$1[i$1.BigIntTypedArray = 16] = "BigIntTypedArray", i$1[i$1.RegExp = 32] = "RegExp", i$1))(L$1 || {});
var v$1 = Symbol.asyncIterator, mr = Symbol.hasInstance, R = Symbol.isConcatSpreadable, C = Symbol.iterator, pr = Symbol.match, dr = Symbol.matchAll, gr = Symbol.replace, yr = Symbol.search, Nr = Symbol.species, br = Symbol.split, vr = Symbol.toPrimitive, P$1 = Symbol.toStringTag, Cr = Symbol.unscopables;
var rt = {
	0: "Symbol.asyncIterator",
	1: "Symbol.hasInstance",
	2: "Symbol.isConcatSpreadable",
	3: "Symbol.iterator",
	4: "Symbol.match",
	5: "Symbol.matchAll",
	6: "Symbol.replace",
	7: "Symbol.search",
	8: "Symbol.species",
	9: "Symbol.split",
	10: "Symbol.toPrimitive",
	11: "Symbol.toStringTag",
	12: "Symbol.unscopables"
}, ve = {
	[v$1]: 0,
	[mr]: 1,
	[R]: 2,
	[C]: 3,
	[pr]: 4,
	[dr]: 5,
	[gr]: 6,
	[yr]: 7,
	[Nr]: 8,
	[br]: 9,
	[vr]: 10,
	[P$1]: 11,
	[Cr]: 12
}, tt = {
	0: v$1,
	1: mr,
	2: R,
	3: C,
	4: pr,
	5: dr,
	6: gr,
	7: yr,
	8: Nr,
	9: br,
	10: vr,
	11: P$1,
	12: Cr
}, nt = {
	2: "!0",
	3: "!1",
	1: "void 0",
	0: "null",
	4: "-0",
	5: "1/0",
	6: "-1/0",
	7: "0/0"
}, o$1 = void 0, ot = {
	2: !0,
	3: !1,
	1: o$1,
	0: null,
	4: -0,
	5: Number.POSITIVE_INFINITY,
	6: Number.NEGATIVE_INFINITY,
	7: NaN
};
function c$1(e, r, t, n$1, a, s, i$1, u$1, l$1, g$1, S, d$1) {
	return {
		t: e,
		i: r,
		s: t,
		c: n$1,
		m: a,
		p: s,
		e: i$1,
		a: u$1,
		f: l$1,
		b: g$1,
		o: S,
		l: d$1
	};
}
function F(e) {
	return c$1(2, o$1, e, o$1, o$1, o$1, o$1, o$1, o$1, o$1, o$1, o$1);
}
var J = F(2), Z = F(3), Ae = F(1), Ee = F(0), st = F(4), it = F(5), ut = F(6), lt = F(7);
var U = "__SEROVAL_REFS__", ce = "$R", Ie = \`self.\${ce}\`;
var Ar = /* @__PURE__ */ new Map(), j = /* @__PURE__ */ new Map();
typeof globalThis != "undefined" ? Object.defineProperty(globalThis, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof window != "undefined" ? Object.defineProperty(window, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof self != "undefined" ? Object.defineProperty(self, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
}) : typeof global != "undefined" && Object.defineProperty(global, U, {
	value: j,
	configurable: !0,
	writable: !1,
	enumerable: !1
});
var { toString: ys } = Object.prototype;
var re = () => {
	let e = {
		p: 0,
		s: 0,
		f: 0
	};
	return e.p = new Promise((r, t) => {
		e.s = r, e.f = t;
	}), e;
}, vn = (e, r) => {
	e.s(r), e.p.s = 1, e.p.v = r;
}, Cn = (e, r) => {
	e.f(r), e.p.s = 2, e.p.v = r;
}, yt = re.toString(), Nt = vn.toString(), bt = Cn.toString(), Rr = () => {
	let e = [], r = [], t = !0, n$1 = !1, a = 0, s = (l$1, g$1, S) => {
		for (S = 0; S < a; S++) r[S] && r[S][g$1](l$1);
	}, i$1 = (l$1, g$1, S, d$1) => {
		for (g$1 = 0, S = e.length; g$1 < S; g$1++) d$1 = e[g$1], !t && g$1 === S - 1 ? l$1[n$1 ? "return" : "throw"](d$1) : l$1.next(d$1);
	}, u$1 = (l$1, g$1) => (t && (g$1 = a++, r[g$1] = l$1), i$1(l$1), () => {
		t && (r[g$1] = r[a], r[a--] = void 0);
	});
	return {
		__SEROVAL_STREAM__: !0,
		on: (l$1) => u$1(l$1),
		next: (l$1) => {
			t && (e.push(l$1), s(l$1, "next"));
		},
		throw: (l$1) => {
			t && (e.push(l$1), s(l$1, "throw"), t = !1, n$1 = !1, r.length = 0);
		},
		return: (l$1) => {
			t && (e.push(l$1), s(l$1, "return"), t = !1, n$1 = !0, r.length = 0);
		}
	};
}, vt = Rr.toString(), Pr = (e) => (r) => () => {
	let t = 0, n$1 = {
		[e]: () => n$1,
		next: () => {
			if (t > r.d) return {
				done: !0,
				value: void 0
			};
			let a = t++, s = r.v[a];
			if (a === r.t) throw s;
			return {
				done: a === r.d,
				value: s
			};
		}
	};
	return n$1;
}, Ct = Pr.toString(), xr = (e, r) => (t) => () => {
	let n$1 = 0, a = -1, s = !1, i$1 = [], u$1 = [], l$1 = (S = 0, d$1 = u$1.length) => {
		for (; S < d$1; S++) u$1[S].s({
			done: !0,
			value: void 0
		});
	};
	t.on({
		next: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !1,
				value: S
			}), i$1.push(S);
		},
		throw: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.f(S), l$1(), a = i$1.length, s = !0, i$1.push(S);
		},
		return: (S) => {
			let d$1 = u$1.shift();
			d$1 && d$1.s({
				done: !0,
				value: S
			}), l$1(), a = i$1.length, i$1.push(S);
		}
	});
	let g$1 = {
		[e]: () => g$1,
		next: () => {
			if (a === -1) {
				let K$1 = n$1++;
				if (K$1 >= i$1.length) {
					let et = r();
					return u$1.push(et), et.p;
				}
				return {
					done: !1,
					value: i$1[K$1]
				};
			}
			if (n$1 > a) return {
				done: !0,
				value: void 0
			};
			let S = n$1++, d$1 = i$1[S];
			if (S !== a) return {
				done: !1,
				value: d$1
			};
			if (s) throw d$1;
			return {
				done: !0,
				value: d$1
			};
		}
	};
	return g$1;
}, At = xr.toString(), Or = (e) => {
	let r = atob(e), t = r.length, n$1 = new Uint8Array(t);
	for (let a = 0; a < t; a++) n$1[a] = r.charCodeAt(a);
	return n$1.buffer;
}, Et = Or.toString();
var An = Pr(C);
function te$1() {
	return Rr();
}
var En = xr(v$1, re);
var ae = ((t) => (t[t.Vanilla = 1] = "Vanilla", t[t.Cross = 2] = "Cross", t))(ae || {});
function ni(e) {
	return e;
}
var Eo = () => T, Io = Eo.toString(), qt = /=>/.test(Io);
var Ht = "hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_", Gt = Ht.length, Jt = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_", Kt = Jt.length;

//#endregion
//#region node_modules/seroval-plugins/dist/esm/production/web.mjs
var u = (e) => {
	let r = new AbortController(), a = r.abort.bind(r);
	return e.then(a, a), r;
};
function E(e) {
	e(this.reason);
}
function D(e) {
	this.addEventListener("abort", E.bind(this, e), { once: !0 });
}
function c(e) {
	return new Promise(D.bind(e));
}
var i = {}, O = ni({
	tag: "seroval-plugins/web/AbortSignal",
	extends: [ni({
		tag: "seroval-plugins/web/AbortControllerFactoryPlugin",
		test(e) {
			return e === i;
		},
		parse: {
			sync() {
				return i;
			},
			async async() {
				return await Promise.resolve(i);
			},
			stream() {
				return i;
			}
		},
		serialize() {
			return u.toString();
		},
		deserialize() {
			return u;
		}
	})],
	test(e) {
		return typeof AbortSignal == "undefined" ? !1 : e instanceof AbortSignal;
	},
	parse: {
		sync(e, r) {
			return e.aborted ? { reason: r.parse(e.reason) } : {};
		},
		async async(e, r) {
			if (e.aborted) return { reason: await r.parse(e.reason) };
			let a = await c(e);
			return { reason: await r.parse(a) };
		},
		stream(e, r) {
			if (e.aborted) return { reason: r.parse(e.reason) };
			let a = c(e);
			return {
				factory: r.parse(i),
				controller: r.parse(a)
			};
		}
	},
	serialize(e, r) {
		return e.reason ? "AbortSignal.abort(" + r.serialize(e.reason) + ")" : e.controller && e.factory ? "(" + r.serialize(e.factory) + ")(" + r.serialize(e.controller) + ").signal" : "(new AbortController).signal";
	},
	deserialize(e, r) {
		return e.reason ? AbortSignal.abort(r.deserialize(e.reason)) : e.controller ? u(r.deserialize(e.controller)).signal : new AbortController().signal;
	}
});
var B = ni({
	tag: "seroval-plugins/web/Blob",
	test(e) {
		return typeof Blob == "undefined" ? !1 : e instanceof Blob;
	},
	parse: { async async(e, r) {
		return {
			type: await r.parse(e.type),
			buffer: await r.parse(await e.arrayBuffer())
		};
	} },
	serialize(e, r) {
		return "new Blob([" + r.serialize(e.buffer) + "],{type:" + r.serialize(e.type) + "})";
	},
	deserialize(e, r) {
		return new Blob([r.deserialize(e.buffer)], { type: r.deserialize(e.type) });
	}
});
function d(e) {
	return {
		detail: e.detail,
		bubbles: e.bubbles,
		cancelable: e.cancelable,
		composed: e.composed
	};
}
var L = ni({
	tag: "seroval-plugins/web/CustomEvent",
	test(e) {
		return typeof CustomEvent == "undefined" ? !1 : e instanceof CustomEvent;
	},
	parse: {
		sync(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(d(e))
			};
		},
		async async(e, r) {
			return {
				type: await r.parse(e.type),
				options: await r.parse(d(e))
			};
		},
		stream(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(d(e))
			};
		}
	},
	serialize(e, r) {
		return "new CustomEvent(" + r.serialize(e.type) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new CustomEvent(r.deserialize(e.type), r.deserialize(e.options));
	}
});
var q = ni({
	tag: "seroval-plugins/web/DOMException",
	test(e) {
		return typeof DOMException == "undefined" ? !1 : e instanceof DOMException;
	},
	parse: {
		sync(e, r) {
			return {
				name: r.parse(e.name),
				message: r.parse(e.message)
			};
		},
		async async(e, r) {
			return {
				name: await r.parse(e.name),
				message: await r.parse(e.message)
			};
		},
		stream(e, r) {
			return {
				name: r.parse(e.name),
				message: r.parse(e.message)
			};
		}
	},
	serialize(e, r) {
		return "new DOMException(" + r.serialize(e.message) + "," + r.serialize(e.name) + ")";
	},
	deserialize(e, r) {
		return new DOMException(r.deserialize(e.message), r.deserialize(e.name));
	}
});
function f(e) {
	return {
		bubbles: e.bubbles,
		cancelable: e.cancelable,
		composed: e.composed
	};
}
var Y = ni({
	tag: "seroval-plugins/web/Event",
	test(e) {
		return typeof Event == "undefined" ? !1 : e instanceof Event;
	},
	parse: {
		sync(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(f(e))
			};
		},
		async async(e, r) {
			return {
				type: await r.parse(e.type),
				options: await r.parse(f(e))
			};
		},
		stream(e, r) {
			return {
				type: r.parse(e.type),
				options: r.parse(f(e))
			};
		}
	},
	serialize(e, r) {
		return "new Event(" + r.serialize(e.type) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Event(r.deserialize(e.type), r.deserialize(e.options));
	}
});
var m = ni({
	tag: "seroval-plugins/web/File",
	test(e) {
		return typeof File == "undefined" ? !1 : e instanceof File;
	},
	parse: { async async(e, r) {
		return {
			name: await r.parse(e.name),
			options: await r.parse({
				type: e.type,
				lastModified: e.lastModified
			}),
			buffer: await r.parse(await e.arrayBuffer())
		};
	} },
	serialize(e, r) {
		return "new File([" + r.serialize(e.buffer) + "]," + r.serialize(e.name) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new File([r.deserialize(e.buffer)], r.deserialize(e.name), r.deserialize(e.options));
	}
});
function y(e) {
	let r = [];
	return e.forEach((a, t) => {
		r.push([t, a]);
	}), r;
}
var o = {}, v = (e, r = new FormData(), a = 0, t = e.length, s) => {
	for (; a < t; a++) s = e[a], r.append(s[0], s[1]);
	return r;
}, K = ni({
	tag: "seroval-plugins/web/FormData",
	extends: [m, ni({
		tag: "seroval-plugins/web/FormDataFactory",
		test(e) {
			return e === o;
		},
		parse: {
			sync() {
				return o;
			},
			async async() {
				return await Promise.resolve(o);
			},
			stream() {
				return o;
			}
		},
		serialize() {
			return v.toString();
		},
		deserialize() {
			return o;
		}
	})],
	test(e) {
		return typeof FormData == "undefined" ? !1 : e instanceof FormData;
	},
	parse: {
		sync(e, r) {
			return {
				factory: r.parse(o),
				entries: r.parse(y(e))
			};
		},
		async async(e, r) {
			return {
				factory: await r.parse(o),
				entries: await r.parse(y(e))
			};
		},
		stream(e, r) {
			return {
				factory: r.parse(o),
				entries: r.parse(y(e))
			};
		}
	},
	serialize(e, r) {
		return "(" + r.serialize(e.factory) + ")(" + r.serialize(e.entries) + ")";
	},
	deserialize(e, r) {
		return v(r.deserialize(e.entries));
	}
});
function g(e) {
	let r = [];
	return e.forEach((a, t) => {
		r.push([t, a]);
	}), r;
}
var l = ni({
	tag: "seroval-plugins/web/Headers",
	test(e) {
		return typeof Headers == "undefined" ? !1 : e instanceof Headers;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(g(e)) };
		},
		async async(e, r) {
			return { value: await r.parse(g(e)) };
		},
		stream(e, r) {
			return { value: r.parse(g(e)) };
		}
	},
	serialize(e, r) {
		return "new Headers(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new Headers(r.deserialize(e.value));
	}
});
var $ = ni({
	tag: "seroval-plugins/web/ImageData",
	test(e) {
		return typeof ImageData == "undefined" ? !1 : e instanceof ImageData;
	},
	parse: {
		sync(e, r) {
			return {
				data: r.parse(e.data),
				width: r.parse(e.width),
				height: r.parse(e.height),
				options: r.parse({ colorSpace: e.colorSpace })
			};
		},
		async async(e, r) {
			return {
				data: await r.parse(e.data),
				width: await r.parse(e.width),
				height: await r.parse(e.height),
				options: await r.parse({ colorSpace: e.colorSpace })
			};
		},
		stream(e, r) {
			return {
				data: r.parse(e.data),
				width: r.parse(e.width),
				height: r.parse(e.height),
				options: r.parse({ colorSpace: e.colorSpace })
			};
		}
	},
	serialize(e, r) {
		return "new ImageData(" + r.serialize(e.data) + "," + r.serialize(e.width) + "," + r.serialize(e.height) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new ImageData(r.deserialize(e.data), r.deserialize(e.width), r.deserialize(e.height), r.deserialize(e.options));
	}
});
var n = {}, P = (e) => new ReadableStream({ start: (r) => {
	e.on({
		next: (a) => {
			try {
				r.enqueue(a);
			} catch (t) {}
		},
		throw: (a) => {
			r.error(a);
		},
		return: () => {
			try {
				r.close();
			} catch (a) {}
		}
	});
} }), x = ni({
	tag: "seroval-plugins/web/ReadableStreamFactory",
	test(e) {
		return e === n;
	},
	parse: {
		sync() {
			return n;
		},
		async async() {
			return await Promise.resolve(n);
		},
		stream() {
			return n;
		}
	},
	serialize() {
		return P.toString();
	},
	deserialize() {
		return n;
	}
});
function w(e) {
	let r = te$1(), a = e.getReader();
	async function t() {
		try {
			let s = await a.read();
			s.done ? r.return(s.value) : (r.next(s.value), await t());
		} catch (s) {
			r.throw(s);
		}
	}
	return t().catch(() => {}), r;
}
var p = ni({
	tag: "seroval/plugins/web/ReadableStream",
	extends: [x],
	test(e) {
		return typeof ReadableStream == "undefined" ? !1 : e instanceof ReadableStream;
	},
	parse: {
		sync(e, r) {
			return {
				factory: r.parse(n),
				stream: r.parse(te$1())
			};
		},
		async async(e, r) {
			return {
				factory: await r.parse(n),
				stream: await r.parse(w(e))
			};
		},
		stream(e, r) {
			return {
				factory: r.parse(n),
				stream: r.parse(w(e))
			};
		}
	},
	serialize(e, r) {
		return "(" + r.serialize(e.factory) + ")(" + r.serialize(e.stream) + ")";
	},
	deserialize(e, r) {
		return P(r.deserialize(e.stream));
	}
});
function N(e, r) {
	return {
		body: r,
		cache: e.cache,
		credentials: e.credentials,
		headers: e.headers,
		integrity: e.integrity,
		keepalive: e.keepalive,
		method: e.method,
		mode: e.mode,
		redirect: e.redirect,
		referrer: e.referrer,
		referrerPolicy: e.referrerPolicy
	};
}
var te = ni({
	tag: "seroval-plugins/web/Request",
	extends: [p, l],
	test(e) {
		return typeof Request == "undefined" ? !1 : e instanceof Request;
	},
	parse: {
		async async(e, r) {
			return {
				url: await r.parse(e.url),
				options: await r.parse(N(e, e.body && !e.bodyUsed ? await e.clone().arrayBuffer() : null))
			};
		},
		stream(e, r) {
			return {
				url: r.parse(e.url),
				options: r.parse(N(e, e.body && !e.bodyUsed ? e.clone().body : null))
			};
		}
	},
	serialize(e, r) {
		return "new Request(" + r.serialize(e.url) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Request(r.deserialize(e.url), r.deserialize(e.options));
	}
});
function h(e) {
	return {
		headers: e.headers,
		status: e.status,
		statusText: e.statusText
	};
}
var ne = ni({
	tag: "seroval-plugins/web/Response",
	extends: [p, l],
	test(e) {
		return typeof Response == "undefined" ? !1 : e instanceof Response;
	},
	parse: {
		async async(e, r) {
			return {
				body: await r.parse(e.body && !e.bodyUsed ? await e.clone().arrayBuffer() : null),
				options: await r.parse(h(e))
			};
		},
		stream(e, r) {
			return {
				body: r.parse(e.body && !e.bodyUsed ? e.clone().body : null),
				options: r.parse(h(e))
			};
		}
	},
	serialize(e, r) {
		return "new Response(" + r.serialize(e.body) + "," + r.serialize(e.options) + ")";
	},
	deserialize(e, r) {
		return new Response(r.deserialize(e.body), r.deserialize(e.options));
	}
});
var pe = ni({
	tag: "seroval-plugins/web/URL",
	test(e) {
		return typeof URL == "undefined" ? !1 : e instanceof URL;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(e.href) };
		},
		async async(e, r) {
			return { value: await r.parse(e.href) };
		},
		stream(e, r) {
			return { value: r.parse(e.href) };
		}
	},
	serialize(e, r) {
		return "new URL(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new URL(r.deserialize(e.value));
	}
});
var fe = ni({
	tag: "seroval-plugins/web/URLSearchParams",
	test(e) {
		return typeof URLSearchParams == "undefined" ? !1 : e instanceof URLSearchParams;
	},
	parse: {
		sync(e, r) {
			return { value: r.parse(e.toString()) };
		},
		async async(e, r) {
			return { value: await r.parse(e.toString()) };
		},
		stream(e, r) {
			return { value: r.parse(e.toString()) };
		}
	},
	serialize(e, r) {
		return "new URLSearchParams(" + r.serialize(e.value) + ")";
	},
	deserialize(e, r) {
		return new URLSearchParams(r.deserialize(e.value));
	}
});

//#endregion
//#region node_modules/solid-js/web/dist/server.js
const booleans = [
	"allowfullscreen",
	"async",
	"alpha",
	"autofocus",
	"autoplay",
	"checked",
	"controls",
	"default",
	"disabled",
	"formnovalidate",
	"hidden",
	"indeterminate",
	"inert",
	"ismap",
	"loop",
	"multiple",
	"muted",
	"nomodule",
	"novalidate",
	"open",
	"playsinline",
	"readonly",
	"required",
	"reversed",
	"seamless",
	"selected",
	"adauctionheaders",
	"browsingtopics",
	"credentialless",
	"defaultchecked",
	"defaultmuted",
	"defaultselected",
	"defer",
	"disablepictureinpicture",
	"disableremoteplayback",
	"preservespitch",
	"shadowrootclonable",
	"shadowrootcustomelementregistry",
	"shadowrootdelegatesfocus",
	"shadowrootserializable",
	"sharedstoragewritable"
];
const Properties = /* @__PURE__ */ new Set([
	"className",
	"value",
	"readOnly",
	"noValidate",
	"formNoValidate",
	"isMap",
	"noModule",
	"playsInline",
	"adAuctionHeaders",
	"allowFullscreen",
	"browsingTopics",
	"defaultChecked",
	"defaultMuted",
	"defaultSelected",
	"disablePictureInPicture",
	"disableRemotePlayback",
	"preservesPitch",
	"shadowRootClonable",
	"shadowRootCustomElementRegistry",
	"shadowRootDelegatesFocus",
	"shadowRootSerializable",
	"sharedStorageWritable",
	...booleans
]);
const Aliases = /* @__PURE__ */ Object.assign(Object.create(null), {
	className: "class",
	htmlFor: "for"
});
const PropAliases = /* @__PURE__ */ Object.assign(Object.create(null), {
	class: "className",
	novalidate: {
		$: "noValidate",
		FORM: 1
	},
	formnovalidate: {
		$: "formNoValidate",
		BUTTON: 1,
		INPUT: 1
	},
	ismap: {
		$: "isMap",
		IMG: 1
	},
	nomodule: {
		$: "noModule",
		SCRIPT: 1
	},
	playsinline: {
		$: "playsInline",
		VIDEO: 1
	},
	readonly: {
		$: "readOnly",
		INPUT: 1,
		TEXTAREA: 1
	},
	adauctionheaders: {
		$: "adAuctionHeaders",
		IFRAME: 1
	},
	allowfullscreen: {
		$: "allowFullscreen",
		IFRAME: 1
	},
	browsingtopics: {
		$: "browsingTopics",
		IMG: 1
	},
	defaultchecked: {
		$: "defaultChecked",
		INPUT: 1
	},
	defaultmuted: {
		$: "defaultMuted",
		AUDIO: 1,
		VIDEO: 1
	},
	defaultselected: {
		$: "defaultSelected",
		OPTION: 1
	},
	disablepictureinpicture: {
		$: "disablePictureInPicture",
		VIDEO: 1
	},
	disableremoteplayback: {
		$: "disableRemotePlayback",
		AUDIO: 1,
		VIDEO: 1
	},
	preservespitch: {
		$: "preservesPitch",
		AUDIO: 1,
		VIDEO: 1
	},
	shadowrootclonable: {
		$: "shadowRootClonable",
		TEMPLATE: 1
	},
	shadowrootdelegatesfocus: {
		$: "shadowRootDelegatesFocus",
		TEMPLATE: 1
	},
	shadowrootserializable: {
		$: "shadowRootSerializable",
		TEMPLATE: 1
	},
	sharedstoragewritable: {
		$: "sharedStorageWritable",
		IFRAME: 1,
		IMG: 1
	}
});
const ES2017FLAG = L$2.AggregateError | L$2.BigIntTypedArray;
const GLOBAL_IDENTIFIER = "_$HY.r";
function createSerializer({ onData, onDone, scopeId, onError, plugins: customPlugins }) {
	const defaultPlugins = [
		O,
		L,
		q,
		Y,
		K,
		l,
		p,
		te,
		ne,
		fe,
		pe
	];
	return new Sr({
		scopeId,
		plugins: customPlugins ? [...customPlugins, ...defaultPlugins] : defaultPlugins,
		globalIdentifier: GLOBAL_IDENTIFIER,
		disabledFeatures: ES2017FLAG,
		onData,
		onDone,
		onError
	});
}
function getLocalHeaderScript(id) {
	return mn(id) + ";";
}
function renderToString(code, options = {}) {
	const { renderId } = options;
	let scripts = "";
	const serializer = createSerializer({
		scopeId: renderId,
		plugins: options.plugins,
		onData(script) {
			if (!scripts) scripts = getLocalHeaderScript(renderId);
			scripts += script + ";";
		},
		onError: options.onError
	});
	sharedConfig.context = {
		id: renderId || "",
		count: 0,
		suspense: {},
		lazy: {},
		assets: [],
		nonce: options.nonce,
		serialize(id, p$1) {
			!sharedConfig.context.noHydrate && serializer.write(id, p$1);
		},
		roots: 0,
		nextRoot() {
			return this.renderId + "i-" + this.roots++;
		}
	};
	let html = createRoot((d$1) => {
		setTimeout(d$1);
		return resolveSSRNode(escape(code()));
	});
	sharedConfig.context.noHydrate = true;
	serializer.close();
	html = injectAssets(sharedConfig.context.assets, html);
	if (scripts.length) html = injectScripts(html, scripts, options.nonce);
	return html;
}
function ssr(t, ...nodes) {
	if (nodes.length) {
		let result = "";
		for (let i$1 = 0; i$1 < nodes.length; i$1++) {
			result += t[i$1];
			const node = nodes[i$1];
			if (node !== void 0) result += resolveSSRNode(node);
		}
		t = result + t[nodes.length];
	}
	return { t };
}
function ssrHydrationKey() {
	const hk = getHydrationKey();
	return hk ? \` data-hk="\${hk}"\` : "";
}
function escape(s, attr) {
	const t = typeof s;
	if (t !== "string") {
		if (!attr && t === "function") return escape(s());
		if (!attr && Array.isArray(s)) {
			s = s.slice();
			for (let i$1 = 0; i$1 < s.length; i$1++) s[i$1] = escape(s[i$1]);
			return s;
		}
		if (attr && t === "boolean") return String(s);
		return s;
	}
	const delim = attr ? "\\"" : "<";
	const escDelim = attr ? "&quot;" : "&lt;";
	let iDelim = s.indexOf(delim);
	let iAmp = s.indexOf("&");
	if (iDelim < 0 && iAmp < 0) return s;
	let left = 0, out = "";
	while (iDelim >= 0 && iAmp >= 0) if (iDelim < iAmp) {
		if (left < iDelim) out += s.substring(left, iDelim);
		out += escDelim;
		left = iDelim + 1;
		iDelim = s.indexOf(delim, left);
	} else {
		if (left < iAmp) out += s.substring(left, iAmp);
		out += "&amp;";
		left = iAmp + 1;
		iAmp = s.indexOf("&", left);
	}
	if (iDelim >= 0) do {
		if (left < iDelim) out += s.substring(left, iDelim);
		out += escDelim;
		left = iDelim + 1;
		iDelim = s.indexOf(delim, left);
	} while (iDelim >= 0);
	else while (iAmp >= 0) {
		if (left < iAmp) out += s.substring(left, iAmp);
		out += "&amp;";
		left = iAmp + 1;
		iAmp = s.indexOf("&", left);
	}
	return left < s.length ? out + s.substring(left) : out;
}
function resolveSSRNode(node, top) {
	const t = typeof node;
	if (t === "string") return node;
	if (node == null || t === "boolean") return "";
	if (Array.isArray(node)) {
		let prev = {};
		let mapped = "";
		for (let i$1 = 0, len = node.length; i$1 < len; i$1++) {
			if (!top && typeof prev !== "object" && typeof node[i$1] !== "object") mapped += \`<!--!$-->\`;
			mapped += resolveSSRNode(prev = node[i$1]);
		}
		return mapped;
	}
	if (t === "object") return node.t;
	if (t === "function") return resolveSSRNode(node());
	return String(node);
}
function getHydrationKey() {
	const hydrate = sharedConfig.context;
	return hydrate && !hydrate.noHydrate && sharedConfig.getNextContextId();
}
function injectAssets(assets, html) {
	if (!assets || !assets.length) return html;
	let out = "";
	for (let i$1 = 0, len = assets.length; i$1 < len; i$1++) out += assets[i$1]();
	const index = html.indexOf("</head>");
	if (index === -1) return html;
	return html.slice(0, index) + out + html.slice(index);
}
function injectScripts(html, scripts, nonce) {
	const tag = \`<script\${nonce ? \` nonce="\${nonce}"\` : ""}>\${scripts}<\\/script>\`;
	const index = html.indexOf("<!--xs-->");
	if (index > -1) return html.slice(0, index) + tag + html.slice(index);
	return html + tag;
}

//#endregion
//#region tests/fixtures/ssr.tsx
var _tmpl$ = [
	"<button",
	" type=\\"button\\">",
	"</button>"
];
const App = () => {
	const [count, setCount] = createSignal(0);
	return ssr(_tmpl$, ssrHydrationKey(), escape(count()));
};
var ssr_default = renderToString(App);

//#endregion
export { ssr_default as default };"
`;
